var uI=Object.defineProperty,cI=Object.defineProperties,dI=Object.getOwnPropertyDescriptors,LE=Object.getOwnPropertySymbols,hI=Object.prototype.hasOwnProperty,fI=Object.prototype.propertyIsEnumerable,BE=(nn,dt,B)=>dt in nn?uI(nn,dt,{enumerable:!0,configurable:!0,writable:!0,value:B}):nn[dt]=B,VE=(nn,dt)=>{for(var B in dt||(dt={}))hI.call(dt,B)&&BE(nn,B,dt[B]);if(LE)for(var B of LE(dt))fI.call(dt,B)&&BE(nn,B,dt[B]);return nn},UE=(nn,dt)=>cI(nn,dI(dt));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(nn,dt,B)=>{"use strict";B.d(dt,{nm:()=>J});var u=B(6351);B(5e3),B(5867);var lt=B(5861),It=B(9681),Mt=B(4859),Xe=B(2090),bt=B(1877);const ye=new Map,Oe={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function he(rt){return ye.get(rt)||Oe}function _e(rt,Qe){ye.set(rt,Qe)}function He(){return Ae}class at{constructor(Qe,vt,Ht,Qt,Cn){if(this.operation=Qe,this.retryPolicy=vt,this.getWaitDuration=Ht,this.lowerBound=Qt,this.upperBound=Cn,this.pending=null,this.nextErrorWaitInterval=Qt,Qt>Cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Qe){var vt=this;return(0,lt.Z)(function*(){vt.stop();try{vt.pending=new Xe.BH,yield function mt(rt){return new Promise(Qe=>{setTimeout(Qe,rt)})}(vt.getNextRun(Qe)),vt.pending.resolve(),yield vt.pending.promise,vt.pending=new Xe.BH,yield vt.operation(),vt.pending.resolve(),yield vt.pending.promise,vt.process(!0).catch(()=>{})}catch(Ht){vt.retryPolicy(Ht)?vt.process(!1).catch(()=>{}):vt.stop()}})()}getNextRun(Qe){if(Qe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const vt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),vt}}}const et=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Et(rt){if(!he(rt).activated)throw et.create("use-before-activation",{appName:rt.name})}function gn(rt,Qe){return dn.apply(this,arguments)}function dn(){return(dn=(0,lt.Z)(function*({url:rt,body:Qe},vt){const Ht={"Content-Type":"application/json"},Qt=vt.getImmediate({optional:!0});if(Qt){const Wi=yield Qt.getHeartbeatsHeader();Wi&&(Ht["X-Firebase-Client"]=Wi)}const Cn={method:"POST",body:JSON.stringify(Qe),headers:Ht};let Ur,Or;try{Ur=yield fetch(rt,Cn)}catch(Wi){throw et.create("fetch-network-error",{originalErrorMessage:Wi.message})}if(200!==Ur.status)throw et.create("fetch-status-error",{httpStatus:Ur.status});try{Or=yield Ur.json()}catch(Wi){throw et.create("fetch-parse-error",{originalErrorMessage:Wi.message})}const Yn=Or.ttl.match(/^([\d.]+)(s)$/);if(!Yn||!Yn[2]||isNaN(Number(Yn[1])))throw et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Or.ttl}`});const xs=1e3*Number(Yn[1]),Ji=Date.now();return{token:Or.token,expireTimeMillis:Ji+xs,issuedAtTimeMillis:Ji}})).apply(this,arguments)}function Gn(rt,Qe){const{projectId:vt,appId:Ht,apiKey:Qt}=rt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${vt}/apps/${Ht}:exchangeDebugToken?key=${Qt}`,body:{debug_token:Qe}}}const Mr="firebase-app-check-store";let ar=null;function Qn(){return ar||(ar=new Promise((rt,Qe)=>{try{const vt=indexedDB.open("firebase-app-check-database",1);vt.onsuccess=Ht=>{rt(Ht.target.result)},vt.onerror=Ht=>{var Qt;Qe(et.create("storage-open",{originalErrorMessage:null===(Qt=Ht.target.error)||void 0===Qt?void 0:Qt.message}))},vt.onupgradeneeded=Ht=>{0===Ht.oldVersion&&Ht.target.result.createObjectStore(Mr,{keyPath:"compositeKey"})}}catch(vt){Qe(et.create("storage-open",{originalErrorMessage:vt.message}))}}),ar)}function Rt(){return(Rt=(0,lt.Z)(function*(rt,Qe){const Ht=(yield Qn()).transaction(Mr,"readwrite"),Cn=Ht.objectStore(Mr).put({compositeKey:rt,value:Qe});return new Promise((Ur,Or)=>{Cn.onsuccess=Yn=>{Ur()},Ht.onerror=Yn=>{var xs;Or(et.create("storage-set",{originalErrorMessage:null===(xs=Yn.target.error)||void 0===xs?void 0:xs.message}))}})})).apply(this,arguments)}const Un=new bt.Yd("@firebase/app-check");function pr(rt,Qe){return(0,Xe.hl)()?function yt(rt,Qe){return function Yt(rt,Qe){return Rt.apply(this,arguments)}(function Xn(rt){return`${rt.options.appId}-${rt.name}`}(rt),Qe)}(rt,Qe).catch(vt=>{Un.warn(`Failed to write token to IndexedDB. Error: ${vt}`)}):Promise.resolve()}function We(){return He().enabled}function tt(){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,lt.Z)(function*(){const rt=He();if(rt.enabled&&rt.token)return rt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ut={error:"UNKNOWN_ERROR"};function Zt(rt){return Xe.US.encodeString(JSON.stringify(rt),!1)}function on(rt){return vn.apply(this,arguments)}function vn(){return(vn=(0,lt.Z)(function*(rt,Qe=!1){const vt=rt.app;Et(vt);const Ht=he(vt);let Cn,Qt=Ht.token;if(!Qt){const Yn=yield Ht.cachedTokenPromise;Yn&&Hr(Yn)&&(Qt=Yn)}if(!Qe&&Qt&&Hr(Qt))return{token:Qt.token};let Or,Ur=!1;if(We()){Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=gn(Gn(vt,yield tt()),rt.heartbeatServiceProvider).then(xs=>(Ht.exchangeTokenPromise=void 0,xs)),Ur=!0);const Yn=yield Ht.exchangeTokenPromise;return yield pr(vt,Yn),_e(vt,Object.assign(Object.assign({},Ht),{token:Yn})),{token:Yn.token}}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().then(Yn=>(Ht.exchangeTokenPromise=void 0,Yn)),Ur=!0),Qt=yield Ht.exchangeTokenPromise}catch(Yn){"appCheck/throttled"===Yn.code?Un.warn(Yn.message):Un.error(Yn),Cn=Yn}return Qt?(Or={token:Qt.token},_e(vt,Object.assign(Object.assign({},Ht),{token:Qt})),yield pr(vt,Qt)):Or=Ri(Cn),Ur&&Zr(vt,Or),Or})).apply(this,arguments)}function $n(rt,Qe){const vt=he(rt),Ht=vt.tokenObservers.filter(Qt=>Qt.next!==Qe);0===Ht.length&&vt.tokenRefresher&&vt.tokenRefresher.isRunning()&&vt.tokenRefresher.stop(),_e(rt,Object.assign(Object.assign({},vt),{tokenObservers:Ht}))}function Dn(rt){const{app:Qe}=rt,vt=he(Qe);let Ht=vt.tokenRefresher;Ht||(Ht=function wr(rt){const{app:Qe}=rt;return new at((0,lt.Z)(function*(){let Ht;if(Ht=he(Qe).token?yield on(rt,!0):yield on(rt),Ht.error)throw Ht.error}),()=>!0,()=>{const vt=he(Qe);if(vt.token){let Ht=vt.token.issuedAtTimeMillis+.5*(vt.token.expireTimeMillis-vt.token.issuedAtTimeMillis)+3e5;return Ht=Math.min(Ht,vt.token.expireTimeMillis-3e5),Math.max(0,Ht-Date.now())}return 0},3e4,96e4)}(rt),_e(Qe,Object.assign(Object.assign({},vt),{tokenRefresher:Ht}))),!Ht.isRunning()&&vt.isTokenAutoRefreshEnabled&&Ht.start()}function Zr(rt,Qe){const vt=he(rt).tokenObservers;for(const Ht of vt)try{"EXTERNAL"===Ht.type&&null!=Qe.error?Ht.error(Qe.error):Ht.next(Qe)}catch(Qt){}}function Hr(rt){return rt.expireTimeMillis-Date.now()>0}function Ri(rt){return{token:Zt(ut),error:rt}}class ls{constructor(Qe,vt){this.app=Qe,this.heartbeatServiceProvider=vt}_delete(){const{tokenObservers:Qe}=he(this.app);for(const vt of Qe)$n(this.app,vt.next);return Promise.resolve()}}const Jr="app-check-internal";!function ii(){(0,It._registerComponent)(new Mt.wA("app-check",rt=>function gi(rt,Qe){return new ls(rt,Qe)}(rt.getProvider("app").getImmediate(),rt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((rt,Qe,vt)=>{rt.getProvider(Jr).initialize()})),(0,It._registerComponent)(new Mt.wA(Jr,rt=>function ai(rt){return{getToken:Qe=>on(rt,Qe),addTokenListener:Qe=>function Pn(rt,Qe,vt,Ht){const{app:Qt}=rt,Cn=he(Qt),Ur={next:vt,error:Ht,type:Qe};if(_e(Qt,Object.assign(Object.assign({},Cn),{tokenObservers:[...Cn.tokenObservers,Ur]})),Cn.token&&Hr(Cn.token)){const Or=Cn.token;Promise.resolve().then(()=>{vt({token:Or.token}),Dn(rt)}).catch(()=>{})}Cn.cachedTokenPromise.then(()=>Dn(rt))}(rt,"INTERNAL",Qe),removeTokenListener:Qe=>$n(rt.app,Qe)}}(rt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,It.registerVersion)("@firebase/app-check","0.5.8")}();class J{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(nn,dt,B)=>{"use strict";B.d(dt,{zQ:()=>pt,ww:()=>_t,rT:()=>He,f7:()=>St,L6:()=>he,_Q:()=>_e,lh:()=>Je,Qv:()=>Ae,nw:()=>Wt});var u=B(5e3),te=B(8929),X=B(1086),ze=B(2916),Be=B(5254),ue=B(6787),xe=B(341),De=B(2654),Ie=B(2102),ce=B(5279),ve=B(5283);class re extends te.xQ{constructor(at=Number.POSITIVE_INFINITY,mt=Number.POSITIVE_INFINITY,Te){super(),this.scheduler=Te,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=at<1?1:at,this._windowTime=mt<1?1:mt,mt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(at){if(!this.isStopped){const mt=this._events;mt.push(at),mt.length>this._bufferSize&&mt.shift()}super.next(at)}nextTimeWindow(at){this.isStopped||(this._events.push(new fe(this._getNow(),at)),this._trimBufferThenGetEvents()),super.next(at)}_subscribe(at){const mt=this._infiniteTimeWindow,Te=mt?this._events:this._trimBufferThenGetEvents(),et=this.scheduler,jt=Te.length;let Et;if(this.closed)throw new ce.N;if(this.isStopped||this.hasError?Et=De.w.EMPTY:(this.observers.push(at),Et=new ve.W(this,at)),et&&at.add(at=new Ie.ht(at,et)),mt)for(let en=0;en<jt&&!at.closed;en++)at.next(Te[en]);else for(let en=0;en<jt&&!at.closed;en++)at.next(Te[en].value);return this.hasError?at.error(this.thrownError):this.isStopped&&at.complete(),Et}_getNow(){return(this.scheduler||xe.c).now()}_trimBufferThenGetEvents(){const at=this._getNow(),mt=this._bufferSize,Te=this._windowTime,et=this._events,jt=et.length;let Et=0;for(;Et<jt&&!(at-et[Et].time<Te);)Et++;return jt>mt&&(Et=Math.max(Et,jt-mt)),Et>0&&et.splice(0,Et),et}}class fe{constructor(at,mt){this.time=at,this.value=mt}}function Ye(qe,at,mt){let Te;return Te=qe&&"object"==typeof qe?qe:{bufferSize:qe,windowTime:at,refCount:!1,scheduler:mt},et=>et.lift(function Ue({bufferSize:qe=Number.POSITIVE_INFINITY,windowTime:at=Number.POSITIVE_INFINITY,refCount:mt,scheduler:Te}){let et,Et,jt=0,en=!1,pn=!1;return function(gn){let dn;jt++,!et||en?(en=!1,et=new re(qe,at,Te),dn=et.subscribe(this),Et=gn.subscribe({next(Wn){et.next(Wn)},error(Wn){en=!0,et.error(Wn)},complete(){pn=!0,Et=void 0,et.complete()}}),pn&&(Et=void 0)):dn=et.subscribe(this),this.add(()=>{jt--,dn.unsubscribe(),dn=void 0,Et&&!pn&&mt&&0===jt&&(Et.unsubscribe(),Et=void 0,et=void 0)})}}(Te))}var Ee=B(7545);function Fe(qe,at){return at?(0,Ee.w)(()=>qe,at):(0,Ee.w)(()=>qe)}var je=B(4850),gt=B(7224),we=B(8915),lt=B(2198),It=B(6351),Mt=B(2011),Xe=B(9808),bt=B(440),ye=B(127);const Ae=new u.OlP("angularfire2.auth.use-emulator"),he=new u.OlP("angularfire2.auth.settings"),_e=new u.OlP("angularfire2.auth.tenant-id"),He=new u.OlP("angularfire2.auth.langugage-code"),Je=new u.OlP("angularfire2.auth.use-device-language"),St=new u.OlP("angularfire.auth.persistence"),Wt=(qe,at,mt,Te,et,jt,Et,en)=>(0,Mt.cc)(`${qe.name}.auth`,"AngularFireAuth",qe.name,()=>{const pn=at.runOutsideAngular(()=>qe.auth());if(mt&&pn.useEmulator(...mt),Te&&(pn.tenantId=Te),pn.languageCode=et,jt&&pn.useDeviceLanguage(),Et)for(const[Rn,gn]of Object.entries(Et))pn.settings[Rn]=gn;return en&&pn.setPersistence(en),pn},[mt,Te,et,jt,Et,en]);let pt=(()=>{class qe{constructor(mt,Te,et,jt,Et,en,pn,Rn,gn,dn,Wn,jr){const Gn=new te.xQ,zn=(0,X.of)(void 0).pipe((0,Ie.QV)(Et.outsideAngular),(0,Ee.w)(()=>jt.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,8775)))),(0,je.U)(()=>(0,Mt.on)(mt,jt,Te)),(0,je.U)(tn=>Wt(tn,jt,en,Rn,gn,dn,pn,Wn)),Ye({bufferSize:1,refCount:!1}));if((0,Xe.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{zn.pipe((0,gt.P)()).subscribe();const Mr=zn.pipe((0,Ee.w)(Qn=>Qn.getRedirectResult().then(mr=>mr,()=>null)),It.iC,Ye({bufferSize:1,refCount:!1})),ur=zn.pipe((0,Ee.w)(Qn=>new ze.y(mr=>({unsubscribe:jt.runOutsideAngular(()=>Qn.onAuthStateChanged(yt=>mr.next(yt),yt=>mr.error(yt),()=>mr.complete()))})))),ar=zn.pipe((0,Ee.w)(Qn=>new ze.y(mr=>({unsubscribe:jt.runOutsideAngular(()=>Qn.onIdTokenChanged(yt=>mr.next(yt),yt=>mr.error(yt),()=>mr.complete()))}))));this.authState=Mr.pipe(Fe(ur),(0,we.R)(Et.outsideAngular),(0,Ie.QV)(Et.insideAngular)),this.user=Mr.pipe(Fe(ar),(0,we.R)(Et.outsideAngular),(0,Ie.QV)(Et.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(Qn=>Qn?(0,Be.D)(Qn.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(Qn=>Qn?(0,Be.D)(Qn.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,ue.T)(Mr,Gn,this.authState.pipe((0,lt.h)(Qn=>!Qn))).pipe((0,je.U)(Qn=>(null==Qn?void 0:Qn.user)?Qn:null),(0,we.R)(Et.outsideAngular),(0,Ie.QV)(Et.insideAngular))}return(0,Mt.pX)(this,zn,jt,{spy:{apply:(tn,Mr,ur)=>{(tn.startsWith("signIn")||tn.startsWith("createUser"))&&ur.then(ar=>Gn.next(ar))}}})}}return qe.\u0275fac=function(mt){return new(mt||qe)(u.LFG(Mt.Dh),u.LFG(Mt.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(It.HU),u.LFG(Ae,8),u.LFG(he,8),u.LFG(_e,8),u.LFG(He,8),u.LFG(Je,8),u.LFG(St,8),u.LFG(bt.nm,8))},qe.\u0275prov=u.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"any"}),qe})(),_t=(()=>{class qe{constructor(){ye.Z.registerVersion("angularfire",It.q4.full,"auth-compat")}}return qe.\u0275fac=function(mt){return new(mt||qe)},qe.\u0275mod=u.oAB({type:qe}),qe.\u0275inj=u.cJS({providers:[pt]}),qe})()},2796:(nn,dt,B)=>{"use strict";B.d(dt,{ST:()=>ef,yb:()=>op});var u=B(5e3),te=B(353),X=B(2916),ze=B(5254),Be=B(1086),ue=B(6351),xe=B(3489);function De(){return i=>i.lift(new Ie)}class Ie{call(e,t){return t.subscribe(new ce(e))}}class ce extends xe.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Oe,ve=B(1059),re=B(4850),fe=B(2014),Ye=B(5778),Ue=B(2198),Ee=B(2011),Fe=B(9808),gt=(B(8775),B(3942)),we=B(5861),lt=B(9681),It=B(4859),Mt=B(1877),Xe=B(2090),bt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ye={},Ae=Ae||{},he=bt||self;function _e(){}function He(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Je(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Wt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function _t(i,e,t){return i.call.apply(i.bind,arguments)}function qe(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function at(i,e,t){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:qe).apply(null,arguments)}function mt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Te(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,d,m){for(var C=Array(arguments.length-2),P=2;P<arguments.length;P++)C[P-2]=arguments[P];return e.prototype[d].apply(o,C)}}function et(){this.s=this.s,this.o=this.o}var Et={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function St(i){return Object.prototype.hasOwnProperty.call(i,Wt)&&i[Wt]||(i[Wt]=++pt)}(this);delete Et[i]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const en=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},pn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,d="string"==typeof i?i.split(""):i;for(let m=0;m<o;m++)m in d&&e.call(t,d[m],m,i)};function gn(i){return Array.prototype.concat.apply([],arguments)}function dn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Wn(i){return/^[\s\xa0]*$/.test(i)}var tn,jr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Gn(i,e){return-1!=i.indexOf(e)}function zn(i,e){return i<e?-1:i>e?1:0}e:{var Mr=he.navigator;if(Mr){var ur=Mr.userAgent;if(ur){tn=ur;break e}}tn=""}function ar(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Qn(i){const e={};for(const t in i)e[t]=i[t];return e}var mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(i,e){let t,o;for(let d=1;d<arguments.length;d++){for(t in o=arguments[d],o)i[t]=o[t];for(let m=0;m<mr.length;m++)t=mr[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Ke(i){return Ke[" "](i),i}Ke[" "]=_e;var On,i,Yt=Gn(tn,"Opera"),Rt=Gn(tn,"Trident")||Gn(tn,"MSIE"),qt=Gn(tn,"Edge"),hn=qt||Rt,Xn=Gn(tn,"Gecko")&&!(Gn(tn.toLowerCase(),"webkit")&&!Gn(tn,"Edge"))&&!(Gn(tn,"Trident")||Gn(tn,"MSIE"))&&!Gn(tn,"Edge"),Un=Gn(tn.toLowerCase(),"webkit")&&!Gn(tn,"Edge");function xn(){var i=he.document;return i?i.documentMode:void 0}e:{var pr="",yr=(i=tn,Xn?/rv:([^\);]+)(\)|;)/.exec(i):qt?/Edge\/([\d\.]+)/.exec(i):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Un?/WebKit\/(\S+)/.exec(i):Yt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(yr&&(pr=yr?yr[1]:""),Rt){var Me=xn();if(null!=Me&&Me>parseFloat(pr)){On=String(Me);break e}}On=pr}var We={};var ut=he.document&&Rt&&(xn()||parseInt(On,10))||void 0,Zt=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",_e,e),he.removeEventListener("test",_e,e)}catch(t){}return i}();function on(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function vn(i,e){if(on.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Xn){e:{try{Ke(e.nodeName);var d=!0;break e}catch(m){}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&vn.Z.h.call(this)}}on.prototype.h=function(){this.defaultPrevented=!0},Te(vn,on);var Pn={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var $n="closure_listenable_"+(1e6*Math.random()|0),Dn=0;function wr(i,e,t,o,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=d,this.key=++Dn,this.ca=this.fa=!1}function Zr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Hr(i){this.src=i,this.g={},this.h=0}function Ri(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],d=en(o,e);(m=0<=d)&&Array.prototype.splice.call(o,d,1),m&&(Zr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ls(i,e,t,o){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ca&&m.listener==e&&m.capture==!!t&&m.ia==o)return d}return-1}Hr.prototype.add=function(i,e,t,o,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var C=ls(i,e,o,d);return-1<C?(e=i[C],t||(e.fa=!1)):((e=new wr(e,this.src,m,!!o,d)).fa=t,i.push(e)),e};var gi="closure_lm_"+(1e6*Math.random()|0),ai={};function Si(i,e,t,o,d){if(o&&o.once)return Fr(i,e,t,o,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Si(i,e[m],t,o,d);return null}return t=Lr(t),i&&i[$n]?i.N(e,t,Je(o)?!!o.capture:!!o,d):Oi(i,e,t,!1,o,d)}function Oi(i,e,t,o,d,m){if(!e)throw Error("Invalid event type");var C=Je(d)?!!d.capture:!!d,P=Dr(i);if(P||(i[gi]=P=new Hr(i)),(t=P.add(e,t,o,C,m)).proxy)return t;if(o=function Xr(){var e=Ei;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Zt||(d=C),void 0===d&&(d=!1),i.addEventListener(e.toString(),o,d);else if(i.attachEvent)i.attachEvent(Ii(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Fr(i,e,t,o,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Fr(i,e[m],t,o,d);return null}return t=Lr(t),i&&i[$n]?i.O(e,t,Je(o)?!!o.capture:!!o,d):Oi(i,e,t,!0,o,d)}function Jn(i,e,t,o,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)Jn(i,e[m],t,o,d);else o=Je(o)?!!o.capture:!!o,t=Lr(t),i&&i[$n]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ls(m=i.g[e],t,o,d))&&(Zr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Dr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ls(e,t,o,d)),(t=-1<i?e[i]:null)&&wi(t))}function wi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[$n])Ri(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Ii(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Dr(e))?(Ri(t,i),0==t.h&&(t.src=null,e[gi]=null)):Zr(i)}}}function Ii(i){return i in ai?ai[i]:ai[i]="on"+i}function Ei(i,e){if(i.ca)i=!0;else{e=new vn(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&wi(i),i=t.call(o,e)}return i}function Dr(i){return(i=i[gi])instanceof Hr?i:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(i){return"function"==typeof i?i:(i[kr]||(i[kr]=function(e){return i.handleEvent(e)}),i[kr])}function Kt(){et.call(this),this.i=new Hr(this),this.P=this,this.I=null}function mn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new on(e,i);else if(e instanceof on)e.target=e.target||i;else{var d=e;yt(e=new on(o,i),d)}if(d=!0,t)for(var m=t.length-1;0<=m;m--){var C=e.g=t[m];d=qn(C,o,!0,e)&&d}if(d=qn(C=e.g=i,o,!0,e)&&d,d=qn(C,o,!1,e)&&d,t)for(m=0;m<t.length;m++)d=qn(C=e.g=t[m],o,!1,e)&&d}function qn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var C=e[m];if(C&&!C.ca&&C.capture==t){var P=C.listener,Q=C.ia||C.src;C.fa&&Ri(i.i,C),d=!1!==P.call(Q,o)&&d}}return d&&!o.defaultPrevented}Te(Kt,et),Kt.prototype[$n]=!0,Kt.prototype.removeEventListener=function(i,e,t,o){Jn(this,i,e,t,o)},Kt.prototype.M=function(){if(Kt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Zr(t[o]);delete i.g[e],i.h--}}this.I=null},Kt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Kt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Wr=he.JSON.stringify;function Qr(){var i=Ai;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Kn,mi=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Rr,i=>i.reset());class Rr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ci(i){he.setTimeout(()=>{throw i},0)}function Gr(i,e){Kn||function Zi(){var i=he.Promise.resolve(void 0);Kn=function(){i.then(Jr)}}(),Pi||(Kn(),Pi=!0),Ai.add(i,e)}var Pi=!1,Ai=new class Ir{constructor(){this.h=this.g=null}add(e,t){const o=mi.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Jr(){for(var i;i=Qr();){try{i.h.call(i.g)}catch(t){Ci(t)}var e=mi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Pi=!1}function ii(i,e){Kt.call(this),this.h=i||1,this.g=e||he,this.j=at(this.kb,this),this.l=Date.now()}function $i(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function di(i,e,t){if("function"==typeof i)t&&(i=at(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function J(i){i.g=di(()=>{i.g=null,i.i&&(i.i=!1,J(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Te(ii,Kt),(Oe=ii.prototype).da=!1,Oe.S=null,Oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&($i(this),this.start()))}},Oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.M=function(){ii.Z.M.call(this),$i(this),delete this.g};class me extends et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:J(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function W(i){et.call(this),this.h=i,this.g={}}Te(W,et);var ft=[];function be(i,e,t,o){Array.isArray(t)||(t&&(ft[0]=t.toString()),t=ft);for(var d=0;d<t.length;d++){var m=Si(e,t[d],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Pe(i){ar(i.g,function(e,t){this.g.hasOwnProperty(t)&&wi(e)},i),i.g={}}function ct(){this.g=!0}function xt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var C=1;C<d.length;C++)d[C]=""}}}return Wr(t)}catch(P){return e}}(i,t)+(o?" "+o:"")})}W.prototype.M=function(){W.Z.M.call(this),Pe(this)},W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ct.prototype.Aa=function(){this.g=!1},ct.prototype.info=function(){};var jn={},sr=null;function ti(){return sr=sr||new Kt}function yi(i){on.call(this,jn.Ma,i)}function rt(i){const e=ti();mn(e,new yi(e,i))}function Qe(i,e){on.call(this,jn.STAT_EVENT,i),this.stat=e}function vt(i){const e=ti();mn(e,new Qe(e,i))}function Ht(i,e){on.call(this,jn.Na,i),this.size=e}function Qt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}jn.Ma="serverreachability",Te(yi,on),jn.STAT_EVENT="statevent",Te(Qe,on),jn.Na="timingevent",Te(Ht,on);var Cn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Or(){}function xs(){}Or.prototype.h=null;var Li,Ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wi(){on.call(this,"d")}function ps(){on.call(this,"c")}function qi(){}function ro(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new W(this),this.P=ki,this.W=new ii(i=hn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}Te(Wi,on),Te(ps,on),Te(qi,Or),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Li=new qi;var ki=45e3,es={},qr={};function gs(i,e,t){i.K=1,i.v=Vt(j(e)),i.s=t,i.U=!0,io(i,null)}function io(i,e){i.F=Date.now(),Ns(i),i.A=j(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),N(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Xs,i.g=oa(i.l,t?e:null,!i.s),0<i.O&&(i.L=new me(at(i.Ia,i,i.g),i.O)),be(i.V,i.g,"readystatechange",i.gb),e=i.H?Qn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),rt(1),function Bt(i,e,t,o,d,m){i.info(function(){if(i.g)if(m)for(var C="",P=m.split("&"),Q=0;Q<P.length;Q++){var ee=P[Q].split("=");if(1<ee.length){var Ve=ee[0];ee=ee[1];var ot=Ve.split("_");C=2<=ot.length&&"type"==ot[1]?C+(Ve+"=")+ee+"&":C+(Ve+"=redacted&")}}else C=null;else C=m;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.X,i.s)}function go(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ho(i,e,t){let d,o=!0;for(;!i.I&&i.C<t.length;){if(d=$s(i,t),d==qr){4==e&&(i.o=4,vt(14),o=!1),xt(i.j,i.m,null,"[Incomplete Response]");break}if(d==es){i.o=4,vt(15),xt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}xt(i.j,i.m,d,null),hi(i,d)}go(i)&&d!=qr&&d!=es&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,vt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rs(e),e.L=!0,vt(11))):(xt(i.j,i.m,t,"[Invalid Chunked Response]"),Es(i),Br(i))}function $s(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qr:(t=Number(e.substring(t,o)),isNaN(t)?es:(o+=1)+t>e.length?qr:(e=e.substr(o,t),i.C=o+t,e))}function Ns(i){i.Y=Date.now()+i.P,ts(i,i.P)}function ts(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qt(at(i.eb,i),e)}function Yi(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function Br(i){0==i.l.G||i.I||sa(i.l,i)}function Es(i){Yi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$i(i.W),Pe(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function hi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Y(t.i,i)))if(t.I=i.N,!i.J&&Y(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(ee){o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0])e:if(t.u)t.ta=d[1],0<t.ta-t.U&&37500>d[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qt(at(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;nl(t),Er(t)}oo(t),vt(18)}if(1>=D(t.i)&&t.ka){try{t.ka()}catch(ee){}t.ka=void 0}}else ao(t,11)}else if((i.J||t.g==i)&&nl(t),!Wn(e))for(d=t.Ca.g.parse(e),e=0;e<d.length;e++){let ee=d[e];if(t.U=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.J=ee[1],t.la=ee[2];const Ve=ee[3];null!=Ve&&(t.ma=Ve,t.h.info("VER="+t.ma));const ot=ee[4];null!=ot&&(t.za=ot,t.h.info("SVER="+t.za));const Ft=ee[5];null!=Ft&&"number"==typeof Ft&&0<Ft&&(t.K=o=1.5*Ft,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const rn=i.g;if(rn){const an=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var m=o.i;!m.g&&(Gn(an,"spdy")||Gn(an,"quic")||Gn(an,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(ge(m,m.h),m.h=null))}if(o.D){const Vn=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vn&&(o.sa=Vn,Ct(o.F,o.D,Vn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var C=i;if((o=t).oa=ss(o,o.H?o.la:null,o.W),C.J){ke(o.i,C);var P=C,Q=o.K;Q&&P.setTimeout(Q),P.B&&(Yi(P),Ns(P)),o.g=C}else ia(o);0<t.l.length&&Na(t)}else"stop"!=ee[0]&&"close"!=ee[0]||ao(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?ao(t,7):Hs(t):"noop"!=ee[0]&&t.j&&t.j.wa(ee),t.A=0)}rt(4)}catch(ee){}}function us(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(He(i)||"string"==typeof i)pn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(He(i)||"string"==typeof i){t=[];for(var o=i.length,d=0;d<o;d++)t.push(d)}else for(d in t=[],o=0,i)t[o++]=d;o=function mo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(He(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),d=o.length;for(var m=0;m<d;m++)e.call(void 0,o[m],t&&t[m],i)}}function bs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof bs)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function ms(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];ns(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var d={};for(t=e=0;e<i.g.length;)ns(d,o=i.g[e])||(i.g[t++]=o,d[o]=1),e++;i.g.length=t}}function ns(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Oe=ro.prototype).setTimeout=function(i){this.P=i},Oe.gb=function(i){i=i.target;const e=this.L;e&&3==js(i)?e.l():this.Ia(i)},Oe.Ia=function(i){try{if(i==this.g)e:{const Ve=js(this.g);var e=this.g.Da();const ot=this.g.ba();if(!(3>Ve)&&(3!=Ve||hn||this.g&&(this.h.h||this.g.ga()||ka(this.g)))){this.I||4!=Ve||7==e||rt(8==e||0>=ot?3:2),Yi(this);var t=this.g.ba();this.N=t;t:if(go(this)){var o=ka(this.g);i="";var d=o.length,m=4==js(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),Br(this);var C="";break t}this.h.i=new he.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==d-1});o.splice(0,d),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==t,function Pt(i,e,t,o,d,m,C){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+m+" "+C})}(this.j,this.u,this.A,this.m,this.X,Ve,t),this.i){if(this.$&&!this.J){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wn(P)){var ee=P;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,vt(12),Es(this),Br(this);break e}xt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hi(this,t)}this.U?(ho(this,Ve,C),hn&&this.i&&3==Ve&&(be(this.V,this.W,"tick",this.fb),this.W.start())):(xt(this.j,this.m,C,null),hi(this,C)),4==Ve&&Es(this),this.i&&!this.I&&(4==Ve?sa(this.l,this):(this.i=!1,Ns(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,vt(12)):(this.o=0,vt(13)),Es(this),Br(this)}}}catch(Ve){}},Oe.fb=function(){if(this.g){var i=js(this.g),e=this.g.ga();this.C<e.length&&(Yi(this),ho(this,i,e),this.i&&4!=i&&Ns(this))}},Oe.cancel=function(){this.I=!0,Es(this)},Oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function yn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rt(3),vt(17)),Es(this),this.o=2,Br(this)):ts(this,this.Y-i)},(Oe=bs.prototype).R=function(){ms(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Oe.T=function(){return ms(this),this.g.concat()},Oe.get=function(i,e){return ns(this.h,i)?this.h[i]:e},Oe.set=function(i,e){ns(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Oe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var d=t[o],m=this.get(d);i.call(e,m,d,this)}};var Xi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tr(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Tr){this.g=void 0!==e?e:i.g,se(this,i.j),this.s=i.s,$(this,i.i),de(this,i.m),this.l=i.l,e=i.h;var t=new Fn;t.i=e.i,e.g&&(t.g=new bs(e.g),t.h=e.h),nt(this,t),this.o=i.o}else i&&(t=String(i).match(Xi))?(this.g=!!e,se(this,t[1]||"",!0),this.s=Nr(t[2]||""),$(this,t[3]||"",!0),de(this,t[4]),this.l=Nr(t[5]||"",!0),nt(this,t[6]||"",!0),this.o=Nr(t[7]||"")):(this.g=!!e,this.h=new Fn(null,this.g))}function j(i){return new Tr(i)}function se(i,e,t){i.j=t?Nr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $(i,e,t){i.i=t?Nr(e,!0):e}function de(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function nt(i,e,t){e instanceof Fn?(i.h=e,function Lt(i,e){e&&!i.j&&(ji(i),i.i=null,i.g.forEach(function(t,o){var d=o.toLowerCase();o!=d&&(G(this,o),N(this,d,t))},i)),i.j=e}(i.h,i.g)):(t||(e=lr(e,Ms)),i.h=new Fn(e,i.g))}function Ct(i,e,t){i.h.set(e,t)}function Vt(i){return Ct(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Nr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function lr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Sr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Sr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Tr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(lr(e,Di,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(lr(e,Di,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(lr(t,"/"==t.charAt(0)?_i:li,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",lr(t,ys)),i.join("")};var Di=/[#\/\?@]/g,li=/[#\?:]/g,_i=/[#\?]/g,Ms=/[#\?@]/g,ys=/#/g;function Fn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ji(i){i.g||(i.g=new bs,i.h=0,i.i&&function No(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),d=null;if(0<=o){var m=i[t].substring(0,o);d=i[t].substring(o+1)}else m=i[t];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function G(i,e){ji(i),e=ie(i,e),ns(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ns((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&ms(i)))}function V(i,e){return ji(i),e=ie(i,e),ns(i.g.h,e)}function N(i,e,t){G(i,e),0<t.length&&(i.i=null,i.g.set(ie(i,e),dn(t)),i.h+=t.length)}function ie(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function k(i){this.l=i||b,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Oe=Fn.prototype).add=function(i,e){ji(this),this.i=null,i=ie(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Oe.forEach=function(i,e){ji(this),this.g.forEach(function(t,o){pn(t,function(d){i.call(e,d,o,this)},this)},this)},Oe.T=function(){ji(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var d=i[o],m=0;m<d.length;m++)t.push(e[o]);return t},Oe.R=function(i){ji(this);var e=[];if("string"==typeof i)V(this,i)&&(e=gn(e,this.g.get(ie(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=gn(e,i[t])}return e},Oe.set=function(i,e){return ji(this),this.i=null,V(this,i=ie(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],d=encodeURIComponent(String(o));o=this.R(o);for(var m=0;m<o.length;m++){var C=d;""!==o[m]&&(C+="="+encodeURIComponent(String(o[m]))),i.push(C)}}return this.i=i.join("&")};var b=10;function v(i){return!!i.h||!!i.g&&i.g.size>=i.j}function D(i){return i.h?1:i.g?i.g.size:0}function Y(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ge(i,e){i.g?i.g.add(e):i.h=e}function ke(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ht(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return dn(i.i)}function Ut(){}function En(){this.g=new Ut}function fn(i,e,t){const o=t||"";try{us(i,function(d,m){let C=d;Je(d)&&(C=Wr(d)),e.push(o+m+"="+encodeURIComponent(C))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function tr(i,e,t,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch(m){}}function cr(i){this.l=i.$b||null,this.j=i.ib||!1}function _r(i,e){Kt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=xi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}k.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ut.prototype.stringify=function(i){return he.JSON.stringify(i,void 0)},Ut.prototype.parse=function(i){return he.JSON.parse(i,void 0)},Te(cr,Or),cr.prototype.g=function(){return new _r(this.l,this.j)},cr.prototype.i=function(i){return function(){return i}}({}),Te(_r,Kt);var xi=0;function bi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ni(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ti(i)}function Ti(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Oe=_r.prototype).open=function(i,e){if(this.readyState!=xi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ti(this)},Oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||he).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ni(this)),this.readyState=xi},Oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==he.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bi(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ni(this):Ti(this),3==this.readyState&&bi(this)}},Oe.Ua=function(i){this.g&&(this.response=this.responseText=i,Ni(this))},Oe.Ta=function(i){this.g&&(this.response=i,Ni(this))},Oe.ha=function(){this.g&&Ni(this)},Oe.setRequestHeader=function(i,e){this.v.append(i,e)},Oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var so=he.JSON.parse;function vi(i){Kt.call(this),this.headers=new bs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rs,this.K=this.L=!1}Te(vi,Kt);var rs="",is=/^https?$/i,yo=["POST","PUT"];function Yo(i){return"content-type"==i.toLowerCase()}function ta(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,na(i),ra(i)}function na(i){i.D||(i.D=!0,mn(i,"complete"),mn(i,"error"))}function ga(i){if(i.h&&void 0!==Ae&&(!i.C[1]||4!=js(i)||2!=i.ba()))if(i.v&&4==js(i))di(i.Fa,0,i);else if(mn(i,"readystatechange"),4==js(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===P){var d=String(i.H).match(Xi)[1]||null;if(!d&&he.self&&he.self.location){var m=he.self.location.protocol;d=m.substr(0,m.length-1)}o=!is.test(d?d.toLowerCase():"")}t=o}if(t)mn(i,"complete"),mn(i,"success");else{i.m=6;try{var C=2<js(i)?i.g.statusText:""}catch(Q){C=""}i.j=C+" ["+i.ba()+"]",na(i)}}finally{ra(i)}}}function ra(i,e){if(i.g){el(i);const t=i.g,o=i.C[0]?_e:null;i.g=null,i.C=null,e||mn(i,"ready");try{t.onreadystatechange=o}catch(d){}}}function el(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function js(i){return i.g?i.g.readyState:0}function ka(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case rs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ui(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Ca(i){let e="";return ar(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ct(i,e,t))}function ni(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function nr(i){this.za=0,this.l=[],this.h=new ct,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ni("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ni("baseRetryDelayMs",5e3,i),this.$a=ni("retryDelaySeedMs",1e4,i),this.Ya=ni("forwardChannelMaxRetries",2,i),this.ra=ni("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new k(i&&i.concurrentRequestLimit),this.Ca=new En,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Hs(i){if(_u(i),3==i.G){var e=i.V++,t=j(i.F);Ct(t,"SID",i.J),Ct(t,"RID",e),Ct(t,"TYPE","terminate"),Vr(i,t),(e=new ro(i,i.h,e,void 0)).K=2,e.v=Vt(j(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=oa(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ns(e)}ya(i)}function Er(i){i.g&&(Rs(i),i.g.cancel(),i.g=null)}function _u(i){Er(i),i.u&&(he.clearTimeout(i.u),i.u=null),nl(i),i.i.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function tl(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Na(i)}function Na(i){v(i.i)||i.m||(i.m=!0,Gr(i.Ha,i),i.C=0)}function Fi(i,e){var t;t=e?e.m:i.V++;const o=j(i.F);Ct(o,"SID",i.J),Ct(o,"RID",t),Ct(o,"AID",i.U),Vr(i,o),i.o&&i.s&&ui(o,i.o,i.s),t=new ro(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Fs(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ge(i.i,t),gs(t,o,e)}function Vr(i,e){i.j&&us({},function(t,o){Ct(e,o,t)})}function Fs(i,e,t){t=Math.min(i.l.length,t);var o=i.j?at(i.j.Oa,i.j,i):null;e:{var d=i.l;let m=-1;for(;;){const C=["count="+t];-1==m?0<t?(m=d[0].h,C.push("ofs="+m)):m=0:C.push("ofs="+m);let P=!0;for(let Q=0;Q<t;Q++){let ee=d[Q].h;const Ve=d[Q].g;if(ee-=m,0>ee)m=Math.max(0,d[Q].h-100),P=!1;else try{fn(Ve,C,"req"+ee+"_")}catch(ot){o&&o(Ve)}}if(P){o=C.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function ia(i){i.g||i.u||(i.Y=1,Gr(i.Ga,i),i.A=0)}function oo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Qt(at(i.Ga,i),ma(i,i.A)),i.A++,0))}function Rs(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function Os(i){i.g=new ro(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=j(i.oa);Ct(e,"RID","rpc"),Ct(e,"SID",i.J),Ct(e,"CI",i.N?"0":"1"),Ct(e,"AID",i.U),Vr(i,e),Ct(e,"TYPE","xmlhttp"),i.o&&i.s&&ui(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Vt(j(e)),t.s=null,t.U=!0,io(t,i)}function nl(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function sa(i,e){var t=null;if(i.g==e){nl(i),Rs(i),i.g=null;var o=2}else{if(!Y(i.i,e))return;t=e.D,ke(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;mn(o=ti(),new Ht(o,t,e,d)),Na(i)}else ia(i);else if(3==(d=e.o)||0==d&&0<i.I||!(1==o&&function vu(i,e){return!(D(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Qt(at(i.Ha,i,e),ma(i,i.C)),i.C++,0)))}(i,e)||2==o&&oo(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),d){case 1:ao(i,5);break;case 4:ao(i,10);break;case 3:ao(i,6);break;default:ao(i,2)}}function ma(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ao(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=at(i.jb,i);t||(t=new Tr("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||se(t,"https"),Vt(t)),function Hn(i,e){const t=new ct;if(he.Image){const o=new Image;o.onload=mt(tr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=mt(tr,t,o,"TestLoadImage: error",!1,e),o.onabort=mt(tr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=mt(tr,t,o,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else vt(2);i.G=0,i.j&&i.j.va(e),ya(i),_u(i)}function ya(i){i.G=0,i.I=-1,i.j&&((0!=ht(i.i).length||0!=i.l.length)&&(i.i.i.length=0,dn(i.l),i.l.length=0),i.j.ua())}function ss(i,e,t){let o=function In(i){return i instanceof Tr?j(i):new Tr(i,void 0)}(t);if(""!=o.i)e&&$(o,e+"."+o.i),de(o,o.m);else{const d=he.location;o=function or(i,e,t,o){var d=new Tr(null,void 0);return i&&se(d,i),e&&$(d,e),t&&de(d,t),o&&(d.l=o),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,t)}return i.aa&&ar(i.aa,function(d,m){Ct(o,m,d)}),t=i.sa,(e=i.D)&&t&&Ct(o,e,t),Ct(o,"VER",i.ma),Vr(i,o),o}function oa(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vi(t&&i.Ba&&!i.qa?new cr({ib:!0}):i.qa)).L=i.H,e}function vl(){}function _a(){if(Rt&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function lo(i,e){Kt.call(this),this.g=new nr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Wn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Fo(this)}function Fa(i){Wi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Qs(){ps.call(this),this.status=1}function Fo(i){this.g=i}(Oe=vi.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Li.g(),this.C=function Yn(i){return i.h||(i.h=i.i())}(this.u?this.u:Li),this.g.onreadystatechange=at(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void ta(this,m)}i=t||"";const d=new bs(this.headers);o&&us(o,function(m,C){d.set(C,m)}),o=function Rn(i){e:{var e=Yo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let d=0;d<t;d++)if(d in o&&e.call(void 0,o[d],d,i)){e=d;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(d.T()),t=he.FormData&&i instanceof he.FormData,!(0<=en(yo,e))||o||t||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(m,C){this.g.setRequestHeader(C,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{el(this),0<this.B&&((this.K=function _o(i){return Rt&&function tt(){return function Se(i){var e=We;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=jr(String(On)).split("."),t=jr("9").split("."),o=Math.max(e.length,t.length);for(let C=0;0==i&&C<o;C++){var d=e[C]||"",m=t[C]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=zn(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||zn(0==d[2].length,0==m[2].length)||zn(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.pa,this)):this.A=di(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){ta(this,m)}},Oe.pa=function(){void 0!==Ae&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},Oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mn(this,"complete"),mn(this,"abort"),ra(this))},Oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ra(this,!0)),vi.Z.M.call(this)},Oe.Fa=function(){this.s||(this.F||this.v||this.l?ga(this):this.cb())},Oe.cb=function(){ga(this)},Oe.ba=function(){try{return 2<js(this)?this.g.status:-1}catch(i){return-1}},Oe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),so(e)}},Oe.Da=function(){return this.m},Oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=nr.prototype).ma=8,Oe.G=1,Oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const d=new ro(this,this.h,i,void 0);let m=this.s;if(this.P&&(m?(m=Qn(m),yt(m,this.P)):m=this.P),null===this.o&&(d.H=m),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fs(this,d,e),Ct(t=j(this.F),"RID",i),Ct(t,"CVER",22),this.D&&Ct(t,"X-HTTP-Session-Id",this.D),Vr(this,t),this.o&&m&&ui(t,this.o,m),ge(this.i,d),this.Ra&&Ct(t,"TYPE","init"),this.ja?(Ct(t,"$req",e),Ct(t,"SID","null"),d.$=!0,gs(d,t,null)):gs(d,t,e),this.G=2}}else 3==this.G&&(i?Fi(this,i):0==this.l.length||v(this.i)||Fi(this))},Oe.Ga=function(){if(this.u=null,Os(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Qt(at(this.bb,this),i)}},Oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vt(10),Er(this),Os(this))},Oe.ab=function(){null!=this.v&&(this.v=null,Er(this),oo(this),vt(19))},Oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),vt(2)):(this.h.info("Failed to ping google.com"),vt(1))},(Oe=vl.prototype).xa=function(){},Oe.wa=function(){},Oe.va=function(){},Oe.ua=function(){},Oe.Oa=function(){},_a.prototype.g=function(i,e){return new lo(i,e)},Te(lo,Kt),lo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Gr(at(i.hb,i,e))),vt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=ss(i,null,i.W),Na(i)},lo.prototype.close=function(){Hs(this.g)},lo.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,tl(this.g,e)}else this.v?((e={}).__data__=Wr(i),tl(this.g,e)):tl(this.g,i)},lo.prototype.M=function(){this.g.j=null,delete this.j,Hs(this.g),delete this.g,lo.Z.M.call(this)},Te(Fa,Wi),Te(Qs,ps),Te(Fo,vl),Fo.prototype.xa=function(){mn(this.g,"a")},Fo.prototype.wa=function(i){mn(this.g,new Fa(i))},Fo.prototype.va=function(i){mn(this.g,new Qs(i))},Fo.prototype.ua=function(){mn(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,lo.prototype.send=lo.prototype.u,lo.prototype.open=lo.prototype.m,lo.prototype.close=lo.prototype.close,Cn.NO_ERROR=0,Cn.TIMEOUT=8,Cn.HTTP_ERROR=6,Ur.COMPLETE="complete",xs.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",Kt.prototype.listen=Kt.prototype.N,vi.prototype.listenOnce=vi.prototype.O,vi.prototype.getLastError=vi.prototype.La,vi.prototype.getLastErrorCode=vi.prototype.Da,vi.prototype.getStatus=vi.prototype.ba,vi.prototype.getResponseJson=vi.prototype.Qa,vi.prototype.getResponseText=vi.prototype.ga,vi.prototype.send=vi.prototype.ea;var aa=ye.createWebChannelTransport=function(){return new _a},br=ye.getStatEventTarget=function(){return ti()},la=ye.ErrorCode=Cn,La=ye.EventType=Ur,vo=ye.Event=jn,Co=ye.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fi=ye.FetchXmlHttpFactory=cr,Ps=ye.WebChannel=xs,Da=ye.XhrIo=vi;const Js="@firebase/firestore";class ws{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ws.UNAUTHENTICATED=new ws(null),ws.GOOGLE_CREDENTIALS=new ws("google-credentials-uid"),ws.FIRST_PARTY=new ws("first-party-uid"),ws.MOCK_USER=new ws("mock-user");let ua="9.8.0";const Ko=new Mt.Yd("@firebase/firestore");function El(){return Ko.logLevel}function un(i,...e){if(Ko.logLevel<=Mt.in.DEBUG){const t=e.map(Is);Ko.debug(`Firestore (${ua}): ${i}`,...t)}}function Hi(i,...e){if(Ko.logLevel<=Mt.in.ERROR){const t=e.map(Is);Ko.error(`Firestore (${ua}): ${i}`,...t)}}function Gs(i,...e){if(Ko.logLevel<=Mt.in.WARN){const t=e.map(Is);Ko.warn(`Firestore (${ua}): ${i}`,...t)}}function Is(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Ln(i="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+i;throw Hi(e),new Error(e)}function gr(i,e){i||Ln()}function Sn(i,e){return i}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class x{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ws.UNAUTHENTICATED))}shutdown(){}}class q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ae{constructor(e){this.t=e,this.currentUser=ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let d=this.i;const m=ee=>this.i!==d?(d=this.i,t(ee)):Promise.resolve();let C=new x;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new x,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const ee=C;e.enqueueRetryable((0,we.Z)(function*(){yield ee.promise,yield m(o.currentUser)}))},Q=ee=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ee=>Q(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?Q(ee):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new x)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(gr("string"==typeof o.accessToken),new S(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gr(null===e||"string"==typeof e),new ws(e)}}class Ne{constructor(e,t,o){this.type="FirstParty",this.user=ws.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const d=e.auth.getAuthHeaderValueForFirstParty([]);d&&this.headers.set("Authorization",d),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Le{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ne(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ws.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mn{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=m=>{null!=m.error&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const C=m.token!==this.p;return this.p=m.token,un("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const d=m=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.g.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.g.getImmediate({optional:!0});m?d(m):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gr("string"==typeof t.token),this.p=t.token,new Gt(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class cn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Kr(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}cn.A=-1;class si{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const d=Kr(40);for(let m=0;m<d.length;++m)o.length<20&&d[m]<t&&(o+=e.charAt(d[m]%e.length))}return o}}function rr(i,e){return i<e?-1:i>e?1:0}function _s(i,e,t){return i.length===e.length&&i.every((o,d)=>t(o,e[d]))}function Lo(i){return i+"\0"}class cs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new cs(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class er{constructor(e){this.timestamp=e}static fromTimestamp(e){return new er(e)}static min(){return new er(new cs(0,0))}static max(){return new er(new cs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function os(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function rl(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function dd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Eu{constructor(e,t,o){void 0===t?t=0:t>e.length&&Ln(),void 0===o?o=e.length-t:o>e.length-t&&Ln(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Eu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let d=0;d<o;d++){const m=e.get(d),C=t.get(d);if(m<C)return-1;if(m>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oi extends Eu{construct(e,t,o){return new oi(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new M(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(d=>d.length>0))}return new oi(t)}static emptyPath(){return new oi([])}}const ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends Eu{construct(e,t,o){return new ds(e,t,o)}static isValidIdentifier(e){return ql.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ds(["__name__"])}static fromServerFormat(e){const t=[];let o="",d=0;const m=()=>{if(0===o.length)throw new M(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let C=!1;for(;d<e.length;){const P=e[d];if("\\"===P){if(d+1===e.length)throw new M(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[d+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new M(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Q,d+=2}else"`"===P?(C=!C,d++):"."!==P||C?(o+=P,d++):(m(),d++)}if(m(),C)throw new M(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ds(t)}static emptyPath(){return new ds([])}}class Yl{constructor(e){this.fields=e,e.sort(ds.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cs(t)}static fromUint8Array(e){const t=function(o){let d="";for(let m=0;m<o.length;++m)d+=String.fromCharCode(o[m]);return d}(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(i){if(gr(!!i),"string"==typeof i){let e=0;const t=ks.exec(i);if(gr(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Gi(i.seconds),nanos:Gi(i.nanos)}}function Gi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function bl(i){return"string"==typeof i?Cs.fromBase64String(i):Cs.fromUint8Array(i)}function sl(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uo(i){const e=i.mapValue.fields.__previous_value__;return sl(e)?uo(e):e}function eo(i){const e=Do(i.mapValue.fields.__local_write_time__.timestampValue);return new cs(e.seconds,e.nanos)}class Sa{constructor(e,t,o,d,m,C,P,Q){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=d,this.ssl=m,this.forceLongPolling=C,this.autoDetectLongPolling=P,this.useFetchStreams=Q}}class fo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function To(i){return null==i}function da(i){return 0===i&&1/i==-1/0}function wl(i){return"number"==typeof i&&Number.isInteger(i)&&!da(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(oi.fromString(e))}static fromName(e){return new bn(oi.fromString(e).popFirst(5))}static empty(){return new bn(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new oi(e.slice()))}}const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Il={nullValue:"NULL_VALUE"};function Bo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sl(i)?4:L(i)?9007199254740991:10:Ln()}function Bi(i,e){if(i===e)return!0;const t=Bo(i);if(t!==Bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eo(i).isEqual(eo(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const m=Do(o.timestampValue),C=Do(d.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,bl(i.bytesValue).isEqual(bl(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,d){return Gi(o.geoPointValue.latitude)===Gi(d.geoPointValue.latitude)&&Gi(o.geoPointValue.longitude)===Gi(d.geoPointValue.longitude)}(i,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return Gi(o.integerValue)===Gi(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const m=Gi(o.doubleValue),C=Gi(d.doubleValue);return m===C?da(m)===da(C):isNaN(m)&&isNaN(C)}return!1}(i,e);case 9:return _s(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:return function(o,d){const m=o.mapValue.fields||{},C=d.mapValue.fields||{};if(os(m)!==os(C))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===C[P]||!Bi(m[P],C[P])))return!1;return!0}(i,e);default:return Ln()}var d}function Zo(i,e){return void 0!==(i.values||[]).find(t=>Bi(t,e))}function So(i,e){if(i===e)return 0;const t=Bo(i),o=Bo(e);if(t!==o)return rr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(i.booleanValue,e.booleanValue);case 2:return function(d,m){const C=Gi(d.integerValue||d.doubleValue),P=Gi(m.integerValue||m.doubleValue);return C<P?-1:C>P?1:C===P?0:isNaN(C)?isNaN(P)?0:-1:1}(i,e);case 3:return hd(i.timestampValue,e.timestampValue);case 4:return hd(eo(i),eo(e));case 5:return rr(i.stringValue,e.stringValue);case 6:return function(d,m){const C=bl(d),P=bl(m);return C.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const C=d.split("/"),P=m.split("/");for(let Q=0;Q<C.length&&Q<P.length;Q++){const ee=rr(C[Q],P[Q]);if(0!==ee)return ee}return rr(C.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const C=rr(Gi(d.latitude),Gi(m.latitude));return 0!==C?C:rr(Gi(d.longitude),Gi(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const C=d.values||[],P=m.values||[];for(let Q=0;Q<C.length&&Q<P.length;++Q){const ee=So(C[Q],P[Q]);if(ee)return ee}return rr(C.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===Ba.mapValue&&m===Ba.mapValue)return 0;if(d===Ba.mapValue)return 1;if(m===Ba.mapValue)return-1;const C=d.fields||{},P=Object.keys(C),Q=m.fields||{},ee=Object.keys(Q);P.sort(),ee.sort();for(let Ve=0;Ve<P.length&&Ve<ee.length;++Ve){const ot=rr(P[Ve],ee[Ve]);if(0!==ot)return ot;const Ft=So(C[P[Ve]],Q[ee[Ve]]);if(0!==Ft)return Ft}return rr(P.length,ee.length)}(i.mapValue,e.mapValue);default:throw Ln()}}function hd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rr(i,e);const t=Do(i),o=Do(e),d=rr(t.seconds,o.seconds);return 0!==d?d:rr(t.nanos,o.nanos)}function Ao(i){return Kl(i)}function Kl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const d=Do(o);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?bl(i.bytesValue).toBase64():"referenceValue"in i?bn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let d="[",m=!0;for(const C of o.values||[])m?m=!1:d+=",",d+=Kl(C);return d+"]"}(i.arrayValue):"mapValue"in i?function(o){const d=Object.keys(o.fields||{}).sort();let m="{",C=!0;for(const P of d)C?C=!1:m+=",",m+=`${P}:${Kl(o.fields[P])}`;return m+"}"}(i.mapValue):Ln();var e}function Vo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zl(i){return!!i&&"integerValue"in i}function Eo(i){return!!i&&"arrayValue"in i}function ol(i){return!!i&&"nullValue"in i}function al(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Va(i){return!!i&&"mapValue"in i}function xo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return rl(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=xo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function L(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function z(i){return"nullValue"in i?Il:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Vo(fo.empty(),bn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Ln()}function le(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Vo(fo.empty(),bn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ba:Ln()}function $e(i,e){const t=So(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function wt(i,e){const t=So(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Va(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(t)}setAll(e){let t=ds.emptyPath(),o={},d=[];e.forEach((C,P)=>{if(!t.isImmediateParentOf(P)){const Q=this.getFieldsMap(t);this.applyChanges(Q,o,d),o={},d=[],t=P.popLast()}C?o[P.lastSegment()]=xo(C):d.push(P.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,d)}delete(e){const t=this.field(e.popLast());Va(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=t.mapValue.fields[e.get(o)];Va(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,o){rl(t,(d,m)=>e[d]=m);for(const d of o)delete e[d]}clone(){return new At(xo(this.value))}}function ln(i){const e=[];return rl(i.fields,(t,o)=>{const d=new ds([t]);if(Va(o)){const m=ln(o.mapValue).fields;if(0===m.length)e.push(d);else for(const C of m)e.push(d.child(C))}else e.push(d)}),new Yl(e)}class _n{constructor(e,t,o,d,m,C){this.key=e,this.documentType=t,this.version=o,this.readTime=d,this.data=m,this.documentState=C}static newInvalidDocument(e){return new _n(e,0,er.min(),er.min(),At.empty(),0)}static newFoundDocument(e,t,o){return new _n(e,1,t,er.min(),o,0)}static newNoDocument(e,t){return new _n(e,2,t,er.min(),At.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,er.min(),At.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cr{constructor(e,t,o,d){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=d}}function hr(i){return i.fields.find(e=>2===e.kind)}function $r(i){return i.fields.filter(e=>2!==e.kind)}Cr.UNKNOWN_ID=-1;class Ar{constructor(e,t){this.fieldPath=e,this.kind=t}}class ci{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ci(0,bo.min())}}function as(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,d=er.fromTimestamp(1e9===o?new cs(t+1,0):new cs(t,o));return new bo(d,bn.empty(),e)}function Ua(i){return new bo(i.readTime,i.key,-1)}class bo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new bo(er.min(),bn.empty(),-1)}static max(){return new bo(er.max(),bn.empty(),-1)}}function pi(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=bn.comparator(i.documentKey,e.documentKey),0!==t?t:rr(i.largestBatchId,e.largestBatchId))}class ri{constructor(e,t){this.comparator=e,this.root=t||Ds.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return t+o.left.size;d<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uo(this.root,e,this.comparator,!0)}}class Uo{constructor(e,t,o,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,t,o,d,m){this.key=e,this.value=t,this.color=null!=o?o:Ds.RED,this.left=null!=d?d:Ds.EMPTY,this.right=null!=m?m:Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,d,m){return new Ds(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=d?d:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let d=this;const m=o(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,t,o),null):0===m?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return Ds.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ln();const e=this.left.check();if(e!==this.right.check())throw Ln();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Ln()}get value(){throw Ln()}get color(){throw Ln()}get left(){throw Ln()}get right(){throw Ln()}copy(i,e,t,o,d){return this}insert(i,e,t){return new Ds(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $a(this.data.getIterator())}getIteratorFrom(e){return new $a(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class $a{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xo(i){return i.hasNext()?i.getNext():void 0}class Cl{constructor(e,t=null,o=[],d=[],m=null,C=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=d,this.limit=m,this.startAt=C,this.endAt=P,this.P=null}}function ll(i,e=null,t=[],o=[],d=null,m=null,C=null){return new Cl(i,e,t,o,d,m,C)}function Aa(i){const e=Sn(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(d=o).field.canonicalString()+d.op.toString()+Ao(d.value);var d}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),To(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ao(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ao(o)).join(",")),e.P=t}return e.P}function ja(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<i.orderBy.length;d++)if(!bu(i.orderBy[d],e.orderBy[d]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let d=0;d<i.filters.length;d++)if((t=i.filters[d]).op!==(o=e.filters[d]).op||!t.field.isEqual(o.field)||!Bi(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Dc(i.startAt,e.startAt)&&Dc(i.endAt,e.endAt)}function Dl(i){return bn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ku(i,e){return i.filters.filter(t=>t instanceof zs&&t.field.isEqual(e))}function Ic(i,e,t){let o=Il,d=!0;for(const m of Ku(i,e)){let C=Il,P=!0;switch(m.op){case"<":case"<=":C=z(m.value);break;case"==":case"in":case">=":C=m.value;break;case">":C=m.value,P=!1;break;case"!=":case"not-in":C=Il}$e({value:o,inclusive:d},{value:C,inclusive:P})<0&&(o=C,d=P)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];$e({value:o,inclusive:d},{value:C,inclusive:t.inclusive})<0&&(o=C,d=t.inclusive);break}return{value:o,inclusive:d}}function Xl(i,e,t){let o=Ba,d=!0;for(const m of Ku(i,e)){let C=Ba,P=!0;switch(m.op){case">=":case">":C=le(m.value),P=!1;break;case"==":case"in":case"<=":C=m.value;break;case"<":C=m.value,P=!1;break;case"!=":case"not-in":C=Ba}wt({value:o,inclusive:d},{value:C,inclusive:P})>0&&(o=C,d=P)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const C=t.position[m];wt({value:o,inclusive:d},{value:C,inclusive:t.inclusive})>0&&(o=C,d=t.inclusive);break}return{value:o,inclusive:d}}class zs extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new tf(e,t,o):"array-contains"===t?new nh(e,o):"in"===t?new nf(e,o):"not-in"===t?new Cc(e,o):"array-contains-any"===t?new rf(e,o):new zs(e,t,o)}static V(e,t,o){return"in"===t?new eh(e,o):new th(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(So(t,this.value)):null!==t&&Bo(this.value)===Bo(t)&&this.v(So(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ln()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tf extends zs{constructor(e,t,o){super(e,t,o),this.key=bn.fromName(o.referenceValue)}matches(e){const t=bn.comparator(e.key,this.key);return this.v(t)}}class eh extends zs{constructor(e,t){super(e,"in",t),this.keys=fd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class th extends zs{constructor(e,t){super(e,"not-in",t),this.keys=fd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>bn.fromName(o.referenceValue))}class nh extends zs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eo(t)&&Zo(t.arrayValue,this.value)}}class nf extends zs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zo(this.value.arrayValue,t)}}class Cc extends zs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zo(this.value.arrayValue,t)}}class rf extends zs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Zo(this.value.arrayValue,o))}}class xa{constructor(e,t){this.position=e,this.inclusive=t}}class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function bu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Zu(i,e,t){let o=0;for(let d=0;d<i.position.length;d++){const m=e[d],C=i.position[d];if(o=m.field.isKeyField()?bn.comparator(bn.fromName(C.referenceValue),t.key):So(C,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Dc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bi(i.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t=null,o=[],d=[],m=null,C="F",P=null,Q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=d,this.limit=m,this.limitType=C,this.startAt=P,this.endAt=Q,this.D=null,this.C=null}}function Sl(i,e,t,o,d,m,C,P){return new cl(i,e,t,o,d,m,C,P)}function Ha(i){return new cl(i)}function Xu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Qu(i){for(const e of i.filters)if(e.S())return e.field;return null}function Sc(i){return null!==i.collectionGroup}function wu(i){const e=Sn(i);if(null===e.D){e.D=[];const t=Qu(e),o=Xu(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Tl(t)),e.D.push(new Tl(ds.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e.D.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Tl(ds.keyField(),m))}}}return e.D}function Qo(i){const e=Sn(i);if(!e.C)if("F"===e.limitType)e.C=ll(e.path,e.collectionGroup,wu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of wu(e))t.push(new Tl(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new xa(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new xa(e.startAt.position,e.startAt.inclusive):null;e.C=ll(e.path,e.collectionGroup,t,e.filters,e.limit,o,d)}return e.C}function Ac(i,e,t){return new cl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ju(i,e){return ja(Qo(i),Qo(e))&&i.limitType===e.limitType}function rh(i){return`${Aa(Qo(i))}|lt:${i.limitType}`}function Ga(i){return`Query(target=${function ul(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Ao(o.value)}`;var o}).join(", ")}]`),To(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Ao(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Ao(t)).join(",")),`Target(${e})`}(Qo(i))}; limitType=${i.limitType})`}function dl(i,e){return e.isFoundDocument()&&function(t,o){const d=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):bn.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,o){for(const d of t.explicitOrderBy)if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(i,e)&&function(t,o){for(const d of t.filters)if(!d.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(d,m,C){const P=Zu(d,m,C);return d.inclusive?P<=0:P<0}(t.startAt,wu(t),o)||t.endAt&&!function(d,m,C){const P=Zu(d,m,C);return d.inclusive?P>=0:P>0}(t.endAt,wu(t),o)));var t,o}function pd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Iu(i){return(e,t)=>{let o=!1;for(const d of wu(i)){const m=ih(d,e,t);if(0!==m)return m;o=o||d.field.isKeyField()}return 0}}function ih(i,e,t){const o=i.field.isKeyField()?bn.comparator(e.key,t.key):function(d,m,C){const P=m.data.field(d),Q=C.data.field(d);return null!==P&&null!==Q?So(P,Q):Ln()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ln()}}function gd(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function sf(i){return{integerValue:""+i}}function xc(i,e){return wl(e)?sf(e):gd(i,e)}class Ql{constructor(){this._=void 0}}function sh(i,e,t){return i instanceof Cu?function(o,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(t,e):i instanceof Du?af(i,e):i instanceof Mo?Mc(i,e):function(o,d){const m=ah(o,d),C=hl(m)+hl(o.k);return Zl(m)&&Zl(o.k)?sf(C):gd(o.M,C)}(i,e)}function oh(i,e,t){return i instanceof Du?af(i,e):i instanceof Mo?Mc(i,e):t}function ah(i,e){return i instanceof $o?Zl(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Cu extends Ql{}class Du extends Ql{constructor(e){super(),this.elements=e}}function af(i,e){const t=Rc(e);for(const o of i.elements)t.some(d=>Bi(d,o))||t.push(o);return{arrayValue:{values:t}}}class Mo extends Ql{constructor(e){super(),this.elements=e}}function Mc(i,e){let t=Rc(e);for(const o of i.elements)t=t.filter(d=>!Bi(d,o));return{arrayValue:{values:t}}}class $o extends Ql{constructor(e,t){super(),this.M=e,this.k=t}}function hl(i){return Gi(i.integerValue||i.doubleValue)}function Rc(i){return Eo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Al{constructor(e,t){this.field=e,this.transform=t}}class yd{constructor(e,t){this.version=e,this.transformResults=t}}class Ls{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ls}static exists(e){return new Ls(void 0,e)}static updateTime(e){return new Ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _d(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Tu{}function ec(i,e,t){i instanceof Su?function(o,d,m){const C=o.value.clone(),P=Ed(o.fieldTransforms,d,m.transformResults);C.setAll(P),d.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(i,e,t):i instanceof jo?function(o,d,m){if(!_d(o.precondition,d))return void d.convertToUnknownDocument(m.version);const C=Ed(o.fieldTransforms,d,m.transformResults),P=d.data;P.setAll(tc(o)),P.setAll(C),d.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jl(i,e,t){var d;i instanceof Su?function(o,d,m){if(!_d(o.precondition,d))return;const C=o.value.clone(),P=za(o.fieldTransforms,m,d);C.setAll(P),d.convertToFoundDocument(vd(d),C).setHasLocalMutations()}(i,e,t):i instanceof jo?function(o,d,m){if(!_d(o.precondition,d))return;const C=za(o.fieldTransforms,m,d),P=d.data;P.setAll(tc(o)),P.setAll(C),d.convertToFoundDocument(vd(d),P).setHasLocalMutations()}(i,e,t):_d(i.precondition,d=e)&&d.convertToNoDocument(er.min())}function lf(i,e){let t=null;for(const o of i.fieldTransforms){const d=e.data.field(o.field),m=ah(o.transform,d||null);null!=m&&(null==t&&(t=At.empty()),t.set(o.field,m))}return t||null}function uf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&_s(t,o,(d,m)=>function md(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Du&&o instanceof Du||t instanceof Mo&&o instanceof Mo?_s(t.elements,o.elements,Bi):t instanceof $o&&o instanceof $o?Bi(t.k,o.k):t instanceof Cu&&o instanceof Cu);var t,o}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function vd(i){return i.isFoundDocument()?i.version:er.min()}class Su extends Tu{constructor(e,t,o,d=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=d,this.type=0}}class jo extends Tu{constructor(e,t,o,d,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=d,this.fieldTransforms=m,this.type=1}}function tc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Ed(i,e,t){const o=new Map;gr(i.length===t.length);for(let d=0;d<t.length;d++){const m=i[d],C=m.transform,P=e.data.field(m.field);o.set(m.field,oh(C,P,t[d]))}return o}function za(i,e,t){const o=new Map;for(const d of i){const m=d.transform,C=t.data.field(d.field);o.set(d.field,sh(m,C,e))}return o}class ha extends Tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class xl extends Tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class bd{constructor(e){this.count=e}}var to,fr;function wd(i){switch(i){default:return Ln();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function Oc(i){if(void 0===i)return Hi("GRPC error has no .code"),Dt.UNKNOWN;switch(i){case to.OK:return Dt.OK;case to.CANCELLED:return Dt.CANCELLED;case to.UNKNOWN:return Dt.UNKNOWN;case to.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case to.INTERNAL:return Dt.INTERNAL;case to.UNAVAILABLE:return Dt.UNAVAILABLE;case to.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case to.NOT_FOUND:return Dt.NOT_FOUND;case to.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case to.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case to.ABORTED:return Dt.ABORTED;case to.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case to.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case to.DATA_LOSS:return Dt.DATA_LOSS;default:return Ln()}}(fr=to||(to={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[d,m]of o)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[t]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,o)=>{for(const[d,m]of o)e(d,m)})}isEmpty(){return dd(this.inner)}size(){return this.innerSize}}const qa=new ri(bn.comparator);function Ro(){return qa}const cf=new ri(bn.comparator);function Id(...i){let e=cf;for(const t of i)e=e.insert(t.key,t);return e}function nc(){return new Wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const eu=new ri(bn.comparator),cp=new Mi(bn.comparator);function zi(...i){let e=cp;for(const t of i)e=e.add(t);return e}const Au=new Mi(rr);function Ws(){return Au}class tu{constructor(e,t,o,d,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,t)),new tu(er.min(),o,Ws(),Ro(),zi())}}class Ma{constructor(e,t,o,d,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ma(Cs.EMPTY_BYTE_STRING,t,zi(),zi(),zi())}}class nu{constructor(e,t,o,d){this.O=e,this.removedTargetIds=t,this.key=o,this.F=d}}class no{constructor(e,t){this.targetId=e,this.$=t}}class fl{constructor(e,t,o=Cs.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=d}}class Ml{constructor(){this.B=0,this.L=rc(),this.U=Cs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=zi(),t=zi(),o=zi();return this.L.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:o=o.add(d);break;default:Ln()}}),new Ma(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=rc()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Pc{constructor(e){this.nt=e,this.st=new Map,this.it=Ro(),this.rt=xu(),this.ot=new Mi(rr)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:Ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,d)=>{this.ft(d)&&t(d)})}_t(e){const t=e.targetId,o=e.$.count,d=this.wt(t);if(d){const m=d.target;if(Dl(m))if(0===o){const C=new bn(m.path);this.ct(t,C,_n.newNoDocument(C,er.min()))}else gr(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((m,C)=>{const P=this.wt(C);if(P){if(m.current&&Dl(P.target)){const Q=new bn(P.target.path);null!==this.it.get(Q)||this.It(C,Q)||this.ct(C,Q,_n.newNoDocument(Q,e))}m.j&&(t.set(C,m.H()),m.J())}});let o=zi();this.rt.forEach((m,C)=>{let P=!0;C.forEachWhile(Q=>{const ee=this.wt(Q);return!ee||2===ee.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.it.forEach((m,C)=>C.setReadTime(e));const d=new tu(e,t,this.ot,this.it,o);return this.it=Ro(),this.rt=xu(),this.ot=new Mi(rr),d}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const d=this.lt(e);this.It(e,t)?d.Y(t,1):d.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Ml,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Mi(rr),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||un("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Ml),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function xu(){return new ri(bn.comparator)}function rc(){return new ri(bn.comparator)}const Ho={asc:"ASCENDING",desc:"DESCENDING"},Mu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ru{constructor(e,t){this.databaseId=e,this.N=t}}function Ou(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kc(i,e){return i.N?e.toBase64():e.toUint8Array()}function Cd(i,e){return Ou(i,e.toTimestamp())}function Bs(i){return gr(!!i),er.fromTimestamp(function(e){const t=Do(e);return new cs(t.seconds,t.nanos)}(i))}function Pu(i,e){return(t=i,new oi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lh(i){const e=oi.fromString(i);return gr(pe(e)),e}function Go(i,e){return Pu(i.databaseId,e.path)}function Ra(i,e){const t=lh(e);if(t.get(1)!==i.databaseId.projectId)throw new M(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new M(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new bn(ic(t))}function Dd(i,e){return Pu(i.databaseId,e)}function ku(i){const e=lh(i);return 4===e.length?oi.emptyPath():ic(e)}function ru(i){return new oi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ic(i){return gr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function wo(i,e,t){return{name:Go(i,e),fields:t.value.mapValue.fields}}function iu(i,e,t){const o=Ra(i,e.name),d=Bs(e.updateTime),m=new At({mapValue:{fields:e.fields}}),C=_n.newFoundDocument(o,d,m);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Jo(i,e){let t;if(e instanceof Su)t={update:wo(i,e.key,e.value)};else if(e instanceof ha)t={delete:Go(i,e.key)};else if(e instanceof jo)t={update:wo(i,e.key,e.data),updateMask:K(e.fieldMask)};else{if(!(e instanceof xl))return Ln();t={verify:Go(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(d,m){const C=m.transform;if(C instanceof Cu)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Du)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Mo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof $o)return{fieldPath:m.field.canonicalString(),increment:C.k};throw Ln()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Cd(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Ln()),t;var d}function su(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ls.updateTime(Bs(d.updateTime)):void 0!==d.exists?Ls.exists(d.exists):Ls.none():Ls.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(m,C){let P=null;"setToServerValue"in C?(gr("REQUEST_TIME"===C.setToServerValue),P=new Cu):"appendMissingElements"in C?P=new Du(C.appendMissingElements.values||[]):"removeAllFromArray"in C?P=new Mo(C.removeAllFromArray.values||[]):"increment"in C?P=new $o(m,C.increment):Ln();const Q=ds.fromServerFormat(C.fieldPath);return new Al(Q,P)}(i,d)):[];var d;if(e.update){const d=Ra(i,e.update.name),m=new At({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Yl((e.updateMask.fieldPaths||[]).map(ee=>ds.fromServerFormat(ee)));return new jo(d,m,C,t,o)}return new Su(d,m,t,o)}if(e.delete){const d=Ra(i,e.delete);return new ha(d,t)}if(e.verify){const d=Ra(i,e.verify);return new xl(d,t)}return Ln()}function Fc(i,e){return{documents:[Dd(i,e.path)]}}function uh(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Dd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(Q){if(0===Q.length)return;const ee=Q.map(Ve=>function(ot){if("=="===ot.op){if(al(ot.value))return{unaryFilter:{field:I(ot.field),op:"IS_NAN"}};if(ol(ot.value))return{unaryFilter:{field:I(ot.field),op:"IS_NULL"}}}else if("!="===ot.op){if(al(ot.value))return{unaryFilter:{field:I(ot.field),op:"IS_NOT_NAN"}};if(ol(ot.value))return{unaryFilter:{field:I(ot.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:I(ot.field),op:Ya(ot.op),value:ot.value}}}(Ve));return 1===ee.length?ee[0]:{compositeFilter:{op:"AND",filters:ee}}}(e.filters);d&&(t.structuredQuery.where=d);const m=function(Q){if(0!==Q.length)return Q.map(ee=>{return{field:I((Ve=ee).field),direction:Nu(Ve.dir)};var Ve})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const C=(ee=e.limit,i.N||To(ee)?ee:{value:ee});var ee,P,Q;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),t}function Rl(i){let e=ku(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let d=null;if(o>0){gr(1===o);const Ve=t.from[0];Ve.allDescendants?d=Ve.collectionId:e=e.child(Ve.collectionId)}let m=[];t.where&&(m=ch(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(Ve=>{return new Tl(g((ot=Ve).field),function(Ft){switch(Ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let P=null;t.limit&&(P=function(Ve){let ot;return ot="object"==typeof Ve?Ve.value:Ve,To(ot)?null:ot}(t.limit));let Q=null;var Ve;t.startAt&&(Q=new xa((Ve=t.startAt).values||[],!!Ve.before));let ee=null;return t.endAt&&(ee=function(Ve){return new xa(Ve.values||[],!Ve.before)}(t.endAt)),Sl(e,d,C,m,P,"F",Q,ee)}function ch(i){return i?void 0!==i.unaryFilter?[A(i)]:void 0!==i.fieldFilter?[_(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ch(e)).reduce((e,t)=>e.concat(t)):Ln():[]}function Nu(i){return Ho[i]}function Ya(i){return Mu[i]}function I(i){return{fieldPath:i.canonicalString()}}function g(i){return ds.fromServerFormat(i.fieldPath)}function _(i){return zs.create(g(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ln()}}(i.fieldFilter.op),i.fieldFilter.value)}function A(i){switch(i.unaryFilter.op){case"IS_NAN":const e=g(i.unaryFilter.field);return zs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=g(i.unaryFilter.field);return zs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=g(i.unaryFilter.field);return zs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=g(i.unaryFilter.field);return zs.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ln()}}function K(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pe(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function it(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=wn(e)),e=zt(i.get(t),e);return wn(e)}function zt(i,e){let t=e;const o=i.length;for(let d=0;d<o;d++){const m=i.charAt(d);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function wn(i){return i+"\x01\x01"}function An(i){const e=i.length;if(gr(e>=2),2===e)return gr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),oi.emptyPath();const t=e-2,o=[];let d="";for(let m=0;m<e;){const C=i.indexOf("\x01",m);switch((C<0||C>t)&&Ln(),i.charAt(C+1)){case"\x01":const P=i.substring(m,C);let Q;0===d.length?Q=P:(d+=P,Q=d,d=""),o.push(Q);break;case"\x10":d+=i.substring(m,C),d+="\0";break;case"\x11":d+=i.substring(m,C+1);break;default:Ln()}m=C+2}return new oi(o)}const dr=["userId","batchId"];function Zn(i,e){return[i,it(e)]}function Vs(i,e,t){return[i,it(e),t]}const Ts={},Fu=["prefixPath","collectionGroup","readTime","documentId"],df=["prefixPath","collectionGroup","documentId"],Oa=["collectionGroup","readTime","prefixPath","documentId"],Lu=["canonicalId","targetId"],ea=["targetId","path"],Lc=["path","targetId"],Bc=["collectionId","parent"],Sd=["indexId","uid"],Ad=["uid","sequenceNumber"],dh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hf=["indexId","uid","orderedDocumentKey"],Vc=["userId","collectionPath","documentId"],oc=["userId","collectionPath","largestBatchId"],ff=["userId","collectionGroup","largestBatchId"],xd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dp=[...xd,"documentOverlays"],Uc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hh=[...Uc,"indexConfiguration","indexState","indexEntries"],hp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Md{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t((o,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,d)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.reject(t)}static resolve(e){return new $t((t,o)=>{t(e)})}static reject(e){return new $t((t,o)=>{o(e)})}static waitFor(e){return new $t((t,o)=>{let d=0,m=0,C=!1;e.forEach(P=>{++d,P.next(()=>{++m,C&&m===d&&t()},Q=>o(Q))}),C=!0,m===d&&t()})}static or(e){let t=$t.resolve(!1);for(const o of e)t=t.next(d=>d?$t.resolve(d):o());return t}static forEach(e,t){const o=[];return e.forEach((d,m)=>{o.push(t.call(this,d,m))}),this.waitFor(o)}}class Ol{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new x,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Rd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const d=ph(o.target.error);this.At.reject(new Rd(e,d))}}static open(e,t,o,d){try{return new Ol(t,e.transaction(d,o))}catch(m){throw new Rd(t,m)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(un("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yg(t)}}class Ka{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===Ka.Vt((0,Xe.z$)())&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return un("SimpleDb","Removing database:",e),kl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xe.hl)())return!1;if(Ka.St())return!0;const e=(0,Xe.z$)(),t=Ka.Vt(e),o=0<t&&t<10,d=Ka.Dt(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(un("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,d)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=C=>{o(C.target.result)},m.onblocked=()=>{d(new Rd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=C=>{const P=C.target.error;d("VersionError"===P.name?new M(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new M(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Rd(e,P))},m.onupgradeneeded=C=>{un("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.Pt.kt(C.target.result,m.transaction,C.oldVersion,t.version).next(()=>{un("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,d){var m=this;return(0,we.Z)(function*(){const C="readonly"===t;let P=0;for(;;){++P;try{m.db=yield m.Nt(e);const Q=Ol.open(m.db,e,C?"readonly":"readwrite",o),ee=d(Q).next(Ve=>(Q.bt(),Ve)).catch(Ve=>(Q.abort(Ve),$t.reject(Ve))).toPromise();return ee.catch(()=>{}),yield Q.Rt,ee}catch(Q){const ee="FirebaseError"!==Q.name&&P<3;if(un("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ee),m.close(),!ee)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pf{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return kl(this.Ft.delete())}}class Rd extends M{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pl(i){return"IndexedDbTransactionError"===i.name}class yg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(un("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(un("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),kl(o)}add(e){return un("SimpleDb","ADD",this.store.name,e,e),kl(this.store.add(e))}get(e){return kl(this.store.get(e)).next(t=>(void 0===t&&(t=null),un("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return un("SimpleDb","DELETE",this.store.name,e),kl(this.store.delete(e))}count(){return un("SimpleDb","COUNT",this.store.name),kl(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),m=[];return this.Kt(d,(C,P)=>{m.push(P)}).next(()=>m)}{const d=this.store.getAll(o.range);return new $t((m,C)=>{d.onerror=P=>{C(P.target.error)},d.onsuccess=P=>{m(P.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new $t((d,m)=>{o.onerror=C=>{m(C.target.error)},o.onsuccess=C=>{d(C.target.result)}})}Qt(e,t){un("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const d=this.cursor(o);return this.Kt(d,(m,C,P)=>P.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const d=this.cursor(o);return this.Kt(d,t)}zt(e){const t=this.cursor({});return new $t((o,d)=>{t.onerror=m=>{const C=ph(m.target.error);d(C)},t.onsuccess=m=>{const C=m.target.result;C?e(C.primaryKey,C.value).next(P=>{P?C.continue():o()}):o()}})}Kt(e,t){const o=[];return new $t((d,m)=>{e.onerror=C=>{m(C.target.error)},e.onsuccess=C=>{const P=C.target.result;if(!P)return void d();const Q=new pf(P),ee=t(P.primaryKey,P.value,Q);if(ee instanceof $t){const Ve=ee.catch(ot=>(Q.done(),$t.reject(ot)));o.push(Ve)}Q.isDone?d():null===Q.Lt?P.continue():P.continue(Q.Lt)}}).next(()=>$t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kl(i){return new $t((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const d=ph(o.target.error);t(d)}})}let fh=!1;function ph(i){const e=Ka.Vt((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fh||(fh=!0,setTimeout(()=>{throw o},0)),o}}return i}class ou extends Md{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ss(i,e){const t=Sn(i);return Ka.xt(t.Ht,e)}class $c{constructor(e,t,o,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&ec(m,e,o[d])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),d=o;this.applyToLocalView(d),o.isValidDocument()||d.convertToNoDocument(er.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zi())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(t,o)=>uf(t,o))&&_s(this.baseMutations,e.baseMutations,(t,o)=>uf(t,o))}}class Bu{constructor(e,t,o,d){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=d}static from(e,t,o){gr(e.mutations.length===o.length);let d=eu;const m=e.mutations;for(let C=0;C<m.length;C++)d=d.insert(m[C].key,o[C].version);return new Bu(e,t,o,d)}}class ac{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nl{constructor(e,t,o,d,m=er.min(),C=er.min(),P=Cs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=P}withSequenceNumber(e){return new Nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vu{constructor(e){this.Jt=e}}function lc(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Od(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Go(d=i.Jt,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ou(d,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:au(e.version)};else{if(!e.isUnknownDocument())return Ln();o.unknownDocument={path:t.path.toArray(),version:au(e.version)}}var d,m;return o}function Od(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function au(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(i){const e=new cs(i.seconds,i.nanoseconds);return er.fromTimestamp(e)}function Uu(i,e){const t=(e.baseMutations||[]).map(m=>su(i.Jt,m));for(let m=0;m<e.mutations.length-1;++m){const C=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(C.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const o=e.mutations.map(m=>su(i.Jt,m)),d=cs.fromMillis(e.localWriteTimeMs);return new $c(e.batchId,d,t,o)}function $u(i){const e=Fl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Fl(i.lastLimboFreeSnapshotVersion):er.min();let o;var d;return void 0!==i.query.documents?(gr(1===(d=i.query).documents.length),o=Qo(Ha(ku(d.documents[0])))):o=Qo(Rl(i.query)),new Nl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Cs.fromBase64String(i.resumeToken))}function gh(i,e){const t=au(e.snapshotVersion),o=au(e.lastLimboFreeSnapshotVersion);let d;d=Dl(e.target)?Fc(i.Jt,e.target):uh(i.Jt,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Aa(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function mh(i){const e=Rl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ac(e,e.limit,"L"):e}function yh(i,e){return new ac(e.largestBatchId,su(i.Jt,e.overlayMutation))}function mf(i,e){const t=e.path.lastSegment();return[i,it(e.path.popLast()),t]}class fp{getBundleMetadata(e,t){return _h(e).get(t).next(o=>{if(o)return{id:(d=o).bundleId,createTime:Fl(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return _h(e).put({bundleId:(o=t).id,createTime:au(Bs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return yf(e).get(t).next(o=>{if(o)return{name:(d=o).name,query:mh(d.bundledQuery),readTime:Fl(d.readTime)};var d})}saveNamedQuery(e,t){return yf(e).put({name:(o=t).name,readTime:au(Bs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function _h(i){return Ss(i,"bundles")}function yf(i){return Ss(i,"namedQueries")}class vh{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new vh(e,t.uid||"")}getOverlay(e,t){return hs(e).get(mf(this.userId,t)).next(o=>o?yh(this.M,o):null)}saveOverlays(e,t,o){const d=[];return o.forEach((m,C)=>{const P=new ac(t,C);d.push(this.Xt(e,P))}),$t.waitFor(d)}removeOverlaysForBatchId(e,t,o){const d=new Set;t.forEach(C=>d.add(it(C.getCollectionPath())));const m=[];return d.forEach(C=>{const P=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,o+1],!1,!0);m.push(hs(e).Qt("collectionPathOverlayIndex",P))}),$t.waitFor(m)}getOverlaysForCollection(e,t,o){const d=nc(),m=it(t),C=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return hs(e).qt("collectionPathOverlayIndex",C).next(P=>{for(const Q of P){const ee=yh(this.M,Q);d.set(ee.getKey(),ee)}return d})}getOverlaysForCollectionGroup(e,t,o,d){const m=nc();let C;const P=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hs(e).Wt({index:"collectionGroupOverlayIndex",range:P},(Q,ee,Ve)=>{const ot=yh(this.M,ee);m.size()<d||ot.largestBatchId===C?(m.set(ot.getKey(),ot),C=ot.largestBatchId):Ve.done()}).next(()=>m)}Xt(e,t){return hs(e).put(function(o,d,m){const[C,P,Q]=mf(d,m.mutation.key);return{userId:d,collectionPath:P,documentId:Q,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Jo(o.Jt,m.mutation)}}(this.M,this.userId,t))}}function hs(i){return Ss(i,"documentOverlays")}class Ll{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Gi(e.integerValue));else if("doubleValue"in e){const o=Gi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),da(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(bl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?L(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Ln()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const d of Object.keys(o))this.re(d,t),this.te(o[d],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const d of o)this.te(d,t)}ae(e,t){this.ne(t,37),bn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function lu(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Pd(i){const e=64-function(t){let o=0;for(let d=0;d<8;++d){const m=lu(255&t[d]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}Ll.fe=new Ll;class Za{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const d=t.codePointAt(0);this._e(240|d>>>18),this._e(128|63&d>>>12),this._e(128|63&d>>>6),this._e(128|63&d)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const d=t.codePointAt(0);this.ge(240|d>>>18),this.ge(128|63&d>>>12),this.ge(128|63&d>>>6),this.ge(128|63&d)}}this.ye()}Te(e){const t=this.Ee(e),o=Pd(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Re(e){const t=this.Ee(e),o=Pd(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let d=1;d<t.length;++d)t[d]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class uc{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class pp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class cc{constructor(){this.De=new Za,this.Ce=new uc(this.De),this.xe=new pp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Pa{constructor(e,t,o,d){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=d}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pa(this.indexId,this.documentKey,this.arrayValue,o)}}function jc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=gp(i.arrayValue,e.arrayValue),0!==t?t:(t=gp(i.directionalValue,e.directionalValue),0!==t?t:bn.comparator(i.documentKey,e.documentKey)))}function gp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class ei{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=hr(e);if(void 0!==t&&!this.Be(t))return!1;const o=$r(e);let d=0,m=0;for(;d<o.length&&this.Be(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.Fe){const C=o[d];if(!this.Le(this.Fe,C)||!this.Ue(this.Me[m++],C))return!1;++d}for(;d<o.length;++d){const C=o[d];if(m>=this.Me.length||!this.Ue(this.Me[m++],C))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Eh{constructor(){this.qe=new bh}addToCollectionParentIndex(e,t){return this.qe.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getIndexType(e,t){return $t.resolve(0)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,t){return $t.resolve(bo.min())}updateCollectionGroup(e,t,o){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t]||new Mi(oi.comparator),m=!d.has(o);return this.index[t]=d.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t];return d&&d.has(o)}getEntries(e){return(this.index[e]||new Mi(oi.comparator)).toArray()}}const kd=new Uint8Array(0);class wh{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new bh,this.Ge=new Wa(o=>Aa(o),(o,d)=>ja(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const m={collectionId:o,parent:it(d)};return Xa(e).put(m)}return $t.resolve()}getCollectionParents(e,t){const o=[],d=IDBKeyRange.bound([t,""],[Lo(t),""],!1,!0);return Xa(e).qt(d).next(m=>{for(const C of m){if(C.collectionId!==t)break;o.push(An(C.parent))}return o})}addFieldIndex(e,t){const o=dc(e),d={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var m;return delete d.indexId,o.add(d).next()}deleteFieldIndex(e,t){const o=dc(e),d=Bl(e),m=uu(e);return o.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=uu(e);let d=!0;const m=new Map;return $t.forEach(this.Qe(t),C=>this.je(e,C).next(P=>{d&&(d=!!P),m.set(C,P)})).next(()=>{if(d){let C=zi();const P=[];return $t.forEach(m,(Q,ee)=>{var Ve;un("IndexedDbIndexManager",`Using index ${Ve=Q,`id=${Ve.indexId}|cg=${Ve.collectionGroup}|f=${Ve.fields.map(Qi=>`${Qi.fieldPath}:${Qi.kind}`).join(",")}`} to execute ${Aa(t)}`);const ot=function(Qi,ko){const Zs=hr(ko);if(void 0===Zs)return null;for(const co of Ku(Qi,Zs.fieldPath))switch(co.op){case"array-contains-any":return co.value.arrayValue.values||[];case"array-contains":return[co.value]}return null}(ee,Q),Ft=function(Qi,ko){const Zs=new Map;for(const co of $r(ko))for(const Ia of Ku(Qi,co.fieldPath))switch(Ia.op){case"==":case"in":Zs.set(co.fieldPath.canonicalString(),Ia.value);break;case"not-in":case"!=":return Zs.set(co.fieldPath.canonicalString(),Ia.value),Array.from(Zs.values())}return null}(ee,Q),rn=function(Qi,ko){const Zs=[];let co=!0;for(const Ia of $r(ko)){const ap=0===Ia.kind?Ic(Qi,Ia.fieldPath,Qi.startAt):Xl(Qi,Ia.fieldPath,Qi.startAt);Zs.push(ap.value),co&&(co=ap.inclusive)}return new xa(Zs,co)}(ee,Q),an=function(Qi,ko){const Zs=[];let co=!0;for(const Ia of $r(ko)){const ap=0===Ia.kind?Xl(Qi,Ia.fieldPath,Qi.endAt):Ic(Qi,Ia.fieldPath,Qi.endAt);Zs.push(ap.value),co&&(co=ap.inclusive)}return new xa(Zs,co)}(ee,Q),Vn=this.We(Q,ee,rn),zr=this.We(Q,ee,an),Ks=this.ze(Q,ee,Ft),po=this.He(Q.indexId,ot,Vn,rn.inclusive,zr,an.inclusive,Ks);return $t.forEach(po,Qi=>o.Gt(Qi,t.limit).next(ko=>{ko.forEach(Zs=>{const co=bn.fromSegments(Zs.documentKey);C.has(co)||(C=C.add(co),P.push(co))})}))}).next(()=>P)}return $t.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,o,d,m,C,P){const Q=(null!=t?t.length:1)*Math.max(o.length,m.length),ee=Q/(null!=t?t.length:1),Ve=[];for(let ot=0;ot<Q;++ot){const Ft=t?this.Je(t[ot/ee]):kd,rn=this.Ye(e,Ft,o[ot%ee],d),an=this.Xe(e,Ft,m[ot%ee],C),Vn=P.map(zr=>this.Ye(e,Ft,zr,!0));Ve.push(...this.createRange(rn,an,Vn))}return Ve}Ye(e,t,o,d){const m=new Pa(e,bn.empty(),t,o);return d?m:m.ke()}Xe(e,t,o,d){const m=new Pa(e,bn.empty(),t,o);return d?m.ke():m}je(e,t){const o=new ei(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let C=null;for(const P of m)o.$e(P)&&(!C||P.fields.length>C.fields.length)&&(C=P);return C})}getIndexType(e,t){let o=2;return $t.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{m?0!==o&&m.fields.length<function(C){let P=new Mi(ds.comparator),Q=!1;for(const ee of C.filters){const Ve=ee;Ve.field.isKeyField()||("array-contains"===Ve.op||"array-contains-any"===Ve.op?Q=!0:P=P.add(Ve.field))}for(const ee of C.orderBy)ee.field.isKeyField()||(P=P.add(ee.field));return P.size+(Q?1:0)}(d)&&(o=1):o=0})).next(()=>o)}Ze(e,t){const o=new cc;for(const d of $r(e)){const m=t.data.field(d.fieldPath);if(null==m)return null;const C=o.Ne(d.kind);Ll.fe.Zt(m,C)}return o.Se()}Je(e){const t=new cc;return Ll.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new cc;return Ll.fe.Zt(Vo(this.databaseId,t),o.Ne(function(d){const m=$r(d);return 0===m.length?0:m[m.length-1].kind}(e))),o.Se()}ze(e,t,o){if(null===o)return[];let d=[];d.push(new cc);let m=0;for(const C of $r(e)){const P=o[m++];for(const Q of d)if(this.en(t,C.fieldPath)&&Eo(P))d=this.nn(d,C,P);else{const ee=Q.Ne(C.kind);Ll.fe.Zt(P,ee)}}return this.sn(d)}We(e,t,o){return this.ze(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const d=[...e],m=[];for(const C of o.arrayValue.values||[])for(const P of d){const Q=new cc;Q.seed(P.Se()),Ll.fe.Zt(C,Q.Ne(t.kind)),m.push(Q)}return m}en(e,t){return!!e.filters.find(o=>o instanceof zs&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=dc(e),d=Bl(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(m=>{const C=[];return $t.forEach(m,P=>d.get([P.indexId,this.uid]).next(Q=>{C.push(function(ee,Ve){const ot=Ve?new ci(Ve.sequenceNumber,new bo(Fl(Ve.readTime),new bn(An(Ve.documentKey)),Ve.largestBatchId)):ci.empty(),Ft=ee.fields.map(([rn,an])=>new Ar(ds.fromServerFormat(rn),an));return new Cr(ee.indexId,ee.collectionGroup,Ft,ot)}(P,Q))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,d)=>{const m=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:rr(o.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const d=dc(e),m=Bl(e);return this.rn(e).next(C=>d.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>$t.forEach(P,Q=>{return m.put({indexId:Q.indexId,uid:this.user.uid||"",sequenceNumber:C,readTime:au((Ft=o).readTime),documentKey:it(Ft.documentKey.path),largestBatchId:Ft.largestBatchId});var Ft})))}updateIndexEntries(e,t){const o=new Map;return $t.forEach(t,(d,m)=>{const C=o.get(d.collectionGroup);return(C?$t.resolve(C):this.getFieldIndexes(e,d.collectionGroup)).next(P=>(o.set(d.collectionGroup,P),$t.forEach(P,Q=>this.on(e,d,Q).next(ee=>{const Ve=this.un(m,Q);return ee.isEqual(Ve)?$t.resolve():this.an(e,m,Q,ee,Ve)}))))})}cn(e,t,o,d){return uu(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,d){return uu(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const d=uu(e);let m=new Mi(jc);return d.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(C,P)=>{m=m.add(new Pa(o.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>m)}un(e,t){let o=new Mi(jc);const d=this.Ze(t,e);if(null==d)return o;const m=hr(t);if(null!=m){const C=e.data.field(m.fieldPath);if(Eo(C))for(const P of C.arrayValue.values||[])o=o.add(new Pa(t.indexId,e.key,this.Je(P),d))}else o=o.add(new Pa(t.indexId,e.key,kd,d));return o}an(e,t,o,d,m){un("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(P,Q,ee,Ve,ot){const Ft=P.getIterator(),rn=Q.getIterator();let an=Xo(Ft),Vn=Xo(rn);for(;an||Vn;){let zr=!1,Ks=!1;if(an&&Vn){const po=ee(an,Vn);po<0?Ks=!0:po>0&&(zr=!0)}else null!=an?Ks=!0:zr=!0;zr?(Ve(Vn),Vn=Xo(rn)):Ks?(ot(an),an=Xo(Ft)):(an=Xo(Ft),Vn=Xo(rn))}}(d,m,jc,P=>{C.push(this.cn(e,t,o,P))},P=>{C.push(this.hn(e,t,o,P))}),$t.waitFor(C)}rn(e){let t=1;return Bl(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,m)=>{m.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((C,P)=>jc(C,P)).filter((C,P,Q)=>!P||0!==jc(C,Q[P-1]));const d=[];d.push(e);for(const C of o){const P=jc(C,e),Q=jc(C,t);if(0===P)d[0]=e.ke();else if(P>0&&Q<0)d.push(C),d.push(C.ke());else if(Q>0)break}d.push(t);const m=[];for(let C=0;C<d.length;C+=2)m.push(IDBKeyRange.bound([d[C].indexId,this.uid,d[C].arrayValue,d[C].directionalValue,kd,[]],[d[C+1].indexId,this.uid,d[C+1].arrayValue,d[C+1].directionalValue,kd,[]]));return m}getMinOffset(e,t){let o;return $t.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{m?(!o||pi(m.indexState.offset,o)<0)&&(o=m.indexState.offset):o=bo.min()})).next(()=>o)}}function Xa(i){return Ss(i,"collectionParents")}function uu(i){return Ss(i,"indexEntries")}function dc(i){return Ss(i,"indexConfiguration")}function Bl(i){return Ss(i,"indexState")}const Qa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new zo(e,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ih(i,e,t){const o=i.store("mutations"),d=i.store("documentMutations"),m=[],C=IDBKeyRange.only(t.batchId);let P=0;const Q=o.Wt({range:C},(Ve,ot,Ft)=>(P++,Ft.delete()));m.push(Q.next(()=>{gr(1===P)}));const ee=[];for(const Ve of t.mutations){const ot=Vs(e,Ve.key.path,t.batchId);m.push(d.delete(ot)),ee.push(Ve.key)}return $t.waitFor(m).next(()=>ee)}function hc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Ln();e=i.noDocument}return JSON.stringify(e).length}zo.DEFAULT_COLLECTION_PERCENTILE=10,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zo.DEFAULT=new zo(41943040,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zo.DISABLED=new zo(-1,0,0);class _f{constructor(e,t,o,d){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=d,this.ln={}}static Yt(e,t,o,d){gr(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new _f(m,t,o,d)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).Wt({index:"userMutationsIndex",range:o},(d,m,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,o,d){const m=Vl(e),C=Wo(e);return C.add({}).next(P=>{gr("number"==typeof P);const Q=new $c(P,t,o,d),ee=function(Ft,rn,an){const Vn=an.baseMutations.map(Ks=>Jo(Ft.Jt,Ks)),zr=an.mutations.map(Ks=>Jo(Ft.Jt,Ks));return{userId:rn,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:Vn,mutations:zr}}(this.M,this.userId,Q),Ve=[];let ot=new Mi((Ft,rn)=>rr(Ft.canonicalString(),rn.canonicalString()));for(const Ft of d){const rn=Vs(this.userId,Ft.key.path,P);ot=ot.add(Ft.key.path.popLast()),Ve.push(C.put(ee)),Ve.push(m.put(rn,Ts))}return ot.forEach(Ft=>{Ve.push(this.indexManager.addToCollectionParentIndex(e,Ft))}),e.addOnCommittedListener(()=>{this.ln[P]=Q.keys()}),$t.waitFor(Ve).next(()=>Q)})}lookupMutationBatch(e,t){return Wo(e).get(t).next(o=>o?(gr(o.userId===this.userId),Uu(this.M,o)):null)}fn(e,t){return this.ln[t]?$t.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const d=o.keys();return this.ln[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,d=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Wo(e).Wt({index:"userMutationsIndex",range:d},(C,P,Q)=>{P.userId===this.userId&&(gr(P.batchId>=o),m=Uu(this.M,P)),Q.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wo(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(d,m,C)=>{o=m.batchId,C.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).qt("userMutationsIndex",t).next(o=>o.map(d=>Uu(this.M,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Zn(this.userId,t.path),d=IDBKeyRange.lowerBound(o),m=[];return Vl(e).Wt({range:d},(C,P,Q)=>{const[ee,Ve,ot]=C,Ft=An(Ve);if(ee===this.userId&&t.path.isEqual(Ft))return Wo(e).get(ot).next(rn=>{if(!rn)throw Ln();gr(rn.userId===this.userId),m.push(Uu(this.M,rn))});Q.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Mi(rr);const d=[];return t.forEach(m=>{const C=Zn(this.userId,m.path),P=IDBKeyRange.lowerBound(C),Q=Vl(e).Wt({range:P},(ee,Ve,ot)=>{const[Ft,rn,an]=ee,Vn=An(rn);Ft===this.userId&&m.path.isEqual(Vn)?o=o.add(an):ot.done()});d.push(Q)}),$t.waitFor(d).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1,m=Zn(this.userId,o),C=IDBKeyRange.lowerBound(m);let P=new Mi(rr);return Vl(e).Wt({range:C},(Q,ee,Ve)=>{const[ot,Ft,rn]=Q,an=An(Ft);ot===this.userId&&o.isPrefixOf(an)?an.length===d&&(P=P.add(rn)):Ve.done()}).next(()=>this.dn(e,P))}dn(e,t){const o=[],d=[];return t.forEach(m=>{d.push(Wo(e).get(m).next(C=>{if(null===C)throw Ln();gr(C.userId===this.userId),o.push(Uu(this.M,C))}))}),$t.waitFor(d).next(()=>o)}removeMutationBatch(e,t){return Ih(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),$t.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return Vl(e).Wt({range:o},(m,C,P)=>{if(m[0]===this.userId){const Q=An(m[1]);d.push(Q)}else P.done()}).next(()=>{gr(0===d.length)})})}containsKey(e,t){return Ch(e,this.userId,t)}wn(e){return Nd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ch(i,e,t){const o=Zn(e,t.path),d=o[1],m=IDBKeyRange.lowerBound(o);let C=!1;return Vl(i).Wt({range:m,jt:!0},(P,Q,ee)=>{const[Ve,ot,Ft]=P;Ve===e&&ot===d&&(C=!0),ee.done()}).next(()=>C)}function Wo(i){return Ss(i,"mutations")}function Vl(i){return Ss(i,"documentMutations")}function Nd(i){return Ss(i,"mutationQueues")}class cu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new cu(0)}static yn(){return new cu(-1)}}class vf{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new cu(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>er.fromTimestamp(new cs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(d=>(d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.In(e,d)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>du(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(gr(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let d=0;const m=[];return du(e).Wt((C,P)=>{const Q=$u(P);Q.sequenceNumber<=t&&null===o.get(Q.targetId)&&(d++,m.push(this.removeTargetData(e,Q)))}).next(()=>$t.waitFor(m)).next(()=>d)}forEachTarget(e,t){return du(e).Wt((o,d)=>{const m=$u(d);t(m)})}pn(e){return _g(e).get("targetGlobalKey").next(t=>(gr(null!==t),t))}In(e,t){return _g(e).put("targetGlobalKey",t)}Tn(e,t){return du(e).put(gh(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Aa(t),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return du(e).Wt({range:d,index:"queryTargetsIndex"},(C,P,Q)=>{const ee=$u(P);ja(t,ee.target)&&(m=ee,Q.done())}).next(()=>m)}addMatchingKeys(e,t,o){const d=[],m=ju(e);return t.forEach(C=>{const P=it(C.path);d.push(m.put({targetId:o,path:P})),d.push(this.referenceDelegate.addReference(e,o,C))}),$t.waitFor(d)}removeMatchingKeys(e,t,o){const d=ju(e);return $t.forEach(t,m=>{const C=it(m.path);return $t.waitFor([d.delete([o,C]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=ju(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),d=ju(e);let m=zi();return d.Wt({range:o,jt:!0},(C,P,Q)=>{const ee=An(C[1]),Ve=new bn(ee);m=m.add(Ve)}).next(()=>m)}containsKey(e,t){const o=it(t.path),d=IDBKeyRange.bound([o],[Lo(o)],!1,!0);let m=0;return ju(e).Wt({index:"documentTargetsIndex",jt:!0,range:d},([C,P],Q,ee)=>{0!==C&&(m++,ee.done())}).next(()=>m>0)}Et(e,t){return du(e).get(t).next(o=>o?$u(o):null)}}function du(i){return Ss(i,"targets")}function _g(i){return Ss(i,"targetGlobal")}function ju(i){return Ss(i,"targetDocuments")}function fc(i){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,we.Z)(function*(i){if(i.code!==Dt.FAILED_PRECONDITION||i.message!==hp)throw i;un("LocalStore","Unexpectedly lost primary lease")}),Ef.apply(this,arguments)}function mp([i,e],[t,o]){const d=rr(i,t);return 0===d?rr(e,o):d}class yp{constructor(e){this.An=e,this.buffer=new Mi(mp),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();mp(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fm{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;un("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,we.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(d){Pl(d)?un("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield fc(d)}yield t.Sn(e)}))}}class vg{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return $t.resolve(cn.A);const o=new yp(t);return this.Dn.forEachTarget(e,d=>o.Pn(d.sequenceNumber)).next(()=>this.Dn.xn(e,d=>o.Pn(d))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(un("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Qa)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(un("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qa):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,d,m,C,P,Q,ee;const Ve=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ot=>(ot>this.params.maximumSequenceNumbersToCollect?(un("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ot}`),d=this.params.maximumSequenceNumbersToCollect):d=ot,C=Date.now(),this.nthSequenceNumber(e,d))).next(ot=>(o=ot,P=Date.now(),this.removeTargets(e,o,t))).next(ot=>(m=ot,Q=Date.now(),this.removeOrphanedDocuments(e,o))).next(ot=>(ee=Date.now(),El()<=Mt.in.DEBUG&&un("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ve}ms\n\tDetermined least recently used ${d} in `+(P-C)+`ms\n\tRemoved ${m} targets in `+(Q-P)+`ms\n\tRemoved ${ot} documents in `+(ee-Q)+`ms\nTotal Duration: ${ee-Ve}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:ot})))}}class Lm{constructor(e,t){this.db=e,this.garbageCollector=new vg(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(d=>o+d))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,d)=>t(d))}addReference(e,t,o){return Fd(e,o)}removeReference(e,t,o){return Fd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Fd(e,t)}On(e,t){return function(o,d){let m=!1;return Nd(o).zt(C=>Ch(o,C,d).next(P=>(P&&(m=!0),$t.resolve(!P)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Mn(e,(C,P)=>{if(P<=t){const Q=this.On(e,C).next(ee=>{if(!ee)return m++,o.getEntry(e,C).next(()=>(o.removeEntry(C,er.min()),ju(e).delete([0,it(C.path)])))});d.push(Q)}}).next(()=>$t.waitFor(d)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Fd(e,t)}Mn(e,t){const o=ju(e);let d,m=cn.A;return o.Wt({index:"documentTargetsIndex"},([C,P],{path:Q,sequenceNumber:ee})=>{0===C?(m!==cn.A&&t(new bn(An(d)),m),m=ee,d=Q):m=cn.A}).next(()=>{m!==cn.A&&t(new bn(An(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fd(i,e){return ju(i).put((o=i.currentSequenceNumber,{targetId:0,path:it(e.path),sequenceNumber:o}));var o}class bf{constructor(){this.changes=new Wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?$t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Eg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Hc(e).put(o)}removeEntry(e,t,o){return Hc(e).delete(function(d,m){const C=d.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Od(m),C[C.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=_n.newInvalidDocument(t);return Hc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(d,m)=>{o=this.$n(t,m)}).next(()=>o)}Bn(e,t){let o={size:0,document:_n.newInvalidDocument(t)};return Hc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(d,m)=>{o={document:this.$n(t,m),size:hc(m)}}).next(()=>o)}getEntries(e,t){let o=Ro();return this.Ln(e,t,(d,m)=>{const C=this.$n(d,m);o=o.insert(d,C)}).next(()=>o)}Un(e,t){let o=Ro(),d=new ri(bn.comparator);return this.Ln(e,t,(m,C)=>{const P=this.$n(m,C);o=o.insert(m,P),d=d.insert(m,hc(C))}).next(()=>({documents:o,qn:d}))}Ln(e,t,o){if(t.isEmpty())return $t.resolve();let d=new Mi(gl);t.forEach(Q=>d=d.add(Q));const m=IDBKeyRange.bound(Dh(d.first()),Dh(d.last())),C=d.getIterator();let P=C.getNext();return Hc(e).Wt({index:"documentKeyIndex",range:m},(Q,ee,Ve)=>{const ot=bn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;P&&gl(P,ot)<0;)o(P,null),P=C.getNext();P&&P.isEqual(ot)&&(o(P,ee),P=C.hasNext()?C.getNext():null),P?Ve.Ut(Dh(P)):Ve.done()}).next(()=>{for(;P;)o(P,null),P=C.hasNext()?C.getNext():null})}getAllFromCollection(e,t,o){const d=[t.popLast().toArray(),t.lastSegment(),Od(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hc(e).qt(IDBKeyRange.bound(d,m,!0)).next(C=>{let P=Ro();for(const Q of C){const ee=this.$n(bn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);P=P.insert(ee.key,ee)}return P})}getAllFromCollectionGroup(e,t,o,d){let m=Ro();const C=wg(t,o),P=wg(t,bo.max());return Hc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,P,!0)},(Q,ee,Ve)=>{const ot=this.$n(bn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);m=m.insert(ot.key,ot),m.size===d&&Ve.done()}).next(()=>m)}newChangeBuffer(e){return new wf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bg(e).get("remoteDocumentGlobalKey").next(t=>(gr(!!t),t))}Fn(e,t){return bg(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function gf(i,e){let t;if(e.document)t=iu(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=bn.fromSegments(e.noDocument.path),d=Fl(e.noDocument.readTime);t=_n.newNoDocument(o,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ln();{const o=bn.fromSegments(e.unknownDocument.path),d=Fl(e.unknownDocument.version);t=_n.newUnknownDocument(o,d)}}return e.readTime&&t.setReadTime(function(o){const d=new cs(o[0],o[1]);return er.fromTimestamp(d)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(er.min()))return o}return _n.newInvalidDocument(e)}}class wf extends bf{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Wa(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const t=[];let o=0,d=new Mi((m,C)=>rr(m.canonicalString(),C.canonicalString()));return this.changes.forEach((m,C)=>{const P=this.Gn.get(m);if(t.push(this.Kn.removeEntry(e,m,P.readTime)),C.isValidDocument()){const Q=lc(this.Kn.M,C);d=d.add(m.path.popLast()),o+=hc(Q)-P.size,t.push(this.Kn.addEntry(e,m,Q))}else if(o-=P.size,this.trackRemovals){const Q=lc(this.Kn.M,C.convertToNoDocument(er.min()));t.push(this.Kn.addEntry(e,m,Q))}}),d.forEach(m=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Kn.updateMetadata(e,o)),$t.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:d})=>(d.forEach((m,C)=>{this.Gn.set(m,{size:C,readTime:o.get(m).readTime})}),o))}}function bg(i){return Ss(i,"remoteDocumentGlobal")}function Hc(i){return Ss(i,"remoteDocumentsV14")}function Dh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wg(i,e){const t=e.documentKey.path.toArray();return[i,Od(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gl(i,e){const t=i.path.toArray(),o=e.path.toArray();let d=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(d=rr(t[m],o[m]),d)return d;return d=rr(t.length,o.length),d||(d=rr(t[t.length-2],o[o.length-2]),d||rr(t[t.length-1],o[o.length-1]))}class Bm{constructor(e){this.M=e}kt(e,t,o,d){const m=new Ol("createOrUpgrade",t);var P;o<1&&d>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0}),P.createObjectStore("documentMutations"),If(e),function(P){P.createObjectStore("remoteDocuments")}(e));let C=$t.resolve();return o<3&&d>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),If(e)),C=C.next(()=>function(P){const Q=P.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:er.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ee)}(m))),o<4&&d>=4&&(0!==o&&(C=C.next(()=>function(P,Q){return Q.store("mutations").qt().next(ee=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dr,{unique:!0});const Ve=Q.store("mutations"),ot=ee.map(Ft=>Ve.put(Ft));return $t.waitFor(ot)})}(e,m))),C=C.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(C=C.next(()=>this.Qn(m))),o<6&&d>=6&&(C=C.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.jn(m)))),o<7&&d>=7&&(C=C.next(()=>this.Wn(m))),o<8&&d>=8&&(C=C.next(()=>this.zn(e,m))),o<9&&d>=9&&(C=C.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(C=C.next(()=>this.Hn(m))),o<11&&d>=11&&(C=C.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(C=C.next(()=>{!function(P){const Q=P.createObjectStore("documentOverlays",{keyPath:Vc});Q.createIndex("collectionPathOverlayIndex",oc,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",ff,{unique:!1})}(e)})),o<13&&d>=13&&(C=C.next(()=>function(P){const Q=P.createObjectStore("remoteDocumentsV14",{keyPath:Fu});Q.createIndex("documentKeyIndex",df),Q.createIndex("collectionGroupIndex",Oa)}(e)).next(()=>this.Jn(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(C=C.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Sd}).createIndex("sequenceNumberIndex",Ad,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:dh}).createIndex("documentKeyIndex",hf,{unique:!1})}(e)})),C}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,d)=>{t+=hc(d)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(d=>$t.forEach(d,m=>{const C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",C).next(P=>$t.forEach(P,Q=>{gr(Q.userId===m.userId);const ee=Uu(this.M,Q);return Ih(e,m.userId,ee).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return o.Wt((C,P)=>{const Q=new oi(C),ee=[0,it(Q)];m.push(t.get(ee).next(Ve=>Ve?$t.resolve():t.put({targetId:0,path:it(Q),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>$t.waitFor(m))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Bc});const o=t.store("collectionParents"),d=new bh,m=C=>{if(d.add(C)){const P=C.lastSegment(),Q=C.popLast();return o.put({collectionId:P,parent:it(Q)})}};return t.store("remoteDocuments").Wt({jt:!0},(C,P)=>{const Q=new oi(C);return m(Q.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([C,P,Q],ee)=>{const Ve=An(P);return m(Ve.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,d)=>{const m=$u(d),C=gh(this.M,m);return t.put(C)})}Jn(e,t){const o=t.store("remoteDocuments"),d=[];return o.Wt((m,C)=>{const P=t.store("remoteDocumentsV14"),Q=(ee=C,ee.document?new bn(oi.fromString(ee.document.name).popFirst(5)):ee.noDocument?bn.fromSegments(ee.noDocument.path):ee.unknownDocument?bn.fromSegments(ee.unknownDocument.path):Ln()).path.toArray();var ee;const Ve={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};d.push(P.put(Ve))}).next(()=>$t.waitFor(d))}}function If(i){i.createObjectStore("targetDocuments",{keyPath:ea}).createIndex("documentTargetsIndex",Lc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lu,{unique:!0}),i.createObjectStore("targetGlobal")}const Cf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _p{constructor(e,t,o,d,m,C,P,Q,ee,Ve,ot=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=m,this.window=C,this.document=P,this.Xn=ee,this.Zn=Ve,this.ts=ot,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Ft=>Promise.resolve(),!_p.vt())throw new M(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lm(this,d),this.hs=t+"main",this.M=new Vu(Q),this.ls=new Ka(this.hs,this.ts,new Bm(this.M)),this.fs=new vf(this.referenceDelegate,this.M),this.ds=new Eg(this.M),this._s=new fp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ve&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(Dt.FAILED_PRECONDITION,Cf);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new cn(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,we.Z)(function*(d){if(t.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,we.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ml(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Pl(e))return un("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return un("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Ld(e).get("owner").next(t=>$t.resolve(this.Ps(t)))}Vs(e){return ml(e).delete(this.clientId)}vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=Ss(o,"clientMetadata");return d.qt().next(m=>{const C=e.Ds(m,18e5),P=m.filter(Q=>-1===C.indexOf(Q));return $t.forEach(P,Q=>d.delete(Q.clientId)).next(()=>P)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?$t.resolve(!0):Ld(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new M(Dt.FAILED_PRECONDITION,Cf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ml(e).qt().next(o=>void 0===this.Ds(o,5e3).find(d=>{if(this.clientId!==d.clientId){const C=!this.inForeground&&d.inForeground,P=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||C&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&un("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ou(t,cn.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ml(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return _f.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new wh(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return vh.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){un("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",m=14===(C=this.ts)?hh:13===C?Uc:12===C?dp:11===C?xd:void Ln();var C;let P;return this.ls.runTransaction(e,d,m,Q=>(P=new ou(Q,this.es?this.es.next():cn.A),"readwrite-primary"===t?this.Es(P).next(ee=>!!ee||this.As(P)).next(ee=>{if(!ee)throw Hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new M(Dt.FAILED_PRECONDITION,hp);return o(P)}).next(ee=>this.bs(P).next(()=>ee)):this.$s(P).next(()=>o(P)))).then(Q=>(P.raiseOnCommittedEvent(),Q))}$s(e){return Ld(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new M(Dt.FAILED_PRECONDITION,Cf)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ld(e).put("owner",t)}static vt(){return Ka.vt()}Rs(e){const t=Ld(e);return t.get("owner").next(o=>this.Ps(o)?(un("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$t.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(Hi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Xe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return un("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Hi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Hi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ld(i){return Ss(i,"owner")}function ml(i){return Ss(i,"clientMetadata")}function Bd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Ig{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(d=>{for(const m of o)m.applyToLocalView(d);return d})}qs(e,t){e.forEach((o,d)=>{for(const m of t)m.applyToLocalView(d)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return bn.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.js(e,t.path):Sc(t)?this.Ws(e,t,o):this.zs(e,t,o);var d}js(e,t){return this.Ls(e,new bn(t)).next(o=>{let d=Id();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}Ws(e,t,o){const d=t.collectionGroup;let m=Id();return this.indexManager.getCollectionParents(e,d).next(C=>$t.forEach(C,P=>{const Q=(ee=t,Ve=P.child(d),new cl(Ve,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,Ve;return this.zs(e,Q,o).next(ee=>{ee.forEach((Ve,ot)=>{m=m.insert(Ve,ot)})})}).next(()=>m))}zs(e,t,o){let d;return this.ds.getAllFromCollection(e,t.path,o).next(m=>(d=m,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(m=>{for(const C of m)for(const P of C.mutations){const Q=P.key;let ee=d.get(Q);null==ee&&(ee=_n.newInvalidDocument(Q),d=d.insert(Q,ee)),Jl(P,ee,C.localWriteTime),ee.isFoundDocument()||(d=d.remove(Q))}}).next(()=>(d.forEach((m,C)=>{dl(t,C)||(d=d.remove(m))}),d))}}class Th{constructor(e,t,o,d){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=d}static Ys(e,t){let o=zi(),d=zi();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new Th(e,t.fromCache,o,d)}}class Vd{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,o,d){return this.ti(e,t).next(m=>m||this.ei(e,t,d,o)).next(m=>m||this.ni(e,t))}ti(e,t){return $t.resolve(null)}ei(e,t,o,d){return function Tc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||d.isEqual(er.min())?this.ni(e,t):this.Zs.Ks(e,o).next(m=>{const C=this.si(t,m);return this.ii(t,C,o,d)?this.ni(e,t):(El()<=Mt.in.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ga(t)),this.ri(e,C,t,as(d,-1)))})}si(e,t){let o=new Mi(Iu(e));return t.forEach((d,m)=>{dl(e,m)&&(o=o.add(m))}),o}ii(e,t,o,d){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}ni(e,t){return El()<=Mt.in.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",Ga(t)),this.Zs.Qs(e,t,bo.min())}ri(e,t,o,d){return this.Zs.Qs(e,o,d).next(m=>(t.forEach(C=>{m=m.insert(C.key,C)}),m))}}class vp{constructor(e,t,o,d){this.persistence=e,this.oi=t,this.M=d,this.ui=new ri(rr),this.ai=new Wa(m=>Aa(m),ja),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Ig(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Sh(i,e,t,o){return new vp(i,e,t,o)}function Cg(i,e){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,we.Z)(function*(i,e){const t=Sn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let d;return t.Bs.getAllMutationBatches(o).next(m=>(d=m,t.li(e),t.Bs.getAllMutationBatches(o))).next(m=>{const C=[],P=[];let Q=zi();for(const ee of d){C.push(ee.batchId);for(const Ve of ee.mutations)Q=Q.add(Ve.key)}for(const ee of m){P.push(ee.batchId);for(const Ve of ee.mutations)Q=Q.add(Ve.key)}return t.fi.Ks(o,Q).next(ee=>({di:ee,removedBatchIds:C,addedBatchIds:P}))})})}),Ul.apply(this,arguments)}function Ep(i,e){const t=Sn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),m=t.hi.newChangeBuffer({trackRemovals:!0});return function(C,P,Q,ee){const Ve=Q.batch,ot=Ve.keys();let Ft=$t.resolve();return ot.forEach(rn=>{Ft=Ft.next(()=>ee.getEntry(P,rn)).next(an=>{const Vn=Q.docVersions.get(rn);gr(null!==Vn),an.version.compareTo(Vn)<0&&(Ve.applyToRemoteDocument(an,Q),an.isValidDocument()&&(an.setReadTime(Q.commitVersion),ee.addEntry(an)))})}),Ft.next(()=>C.Bs.removeMutationBatch(P,Ve))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.fi.Ks(o,d))})}function bp(i){const e=Sn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Df(i,e){const t=Sn(i),o=e.snapshotVersion;let d=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const C=t.hi.newChangeBuffer({trackRemovals:!0});d=t.ui;const P=[];e.targetChanges.forEach((ee,Ve)=>{const ot=d.get(Ve);if(!ot)return;P.push(t.fs.removeMatchingKeys(m,ee.removedDocuments,Ve).next(()=>t.fs.addMatchingKeys(m,ee.addedDocuments,Ve)));let Ft=ot.withSequenceNumber(m.currentSequenceNumber);var rn,an,Vn;e.targetMismatches.has(Ve)?Ft=Ft.withResumeToken(Cs.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):ee.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(ee.resumeToken,o)),d=d.insert(Ve,Ft),an=Ft,Vn=ee,(0===(rn=ot).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&P.push(t.fs.updateTargetData(m,Ft))});let Q=Ro();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(m,ee))}),P.push(wp(m,C,e.documentUpdates).next(ee=>{Q=ee})),!o.isEqual(er.min())){const ee=t.fs.getLastRemoteSnapshotVersion(m).next(Ve=>t.fs.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(ee)}return $t.waitFor(P).next(()=>C.apply(m)).next(()=>t.fi.Gs(m,Q)).next(()=>Q)}).then(m=>(t.ui=d,m))}function wp(i,e,t){let o=zi();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let m=Ro();return t.forEach((C,P)=>{const Q=d.get(C);P.isNoDocument()&&P.version.isEqual(er.min())?(e.removeEntry(C,P.readTime),m=m.insert(C,P)):!Q.isValidDocument()||P.version.compareTo(Q.version)>0||0===P.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(P),m=m.insert(C,P)):un("LocalStore","Ignoring outdated watch update for ",C,". Current version:",Q.version," Watch version:",P.version)}),m})}function Ip(i,e){const t=Sn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function Gc(i,e){const t=Sn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return t.fs.getTargetData(o,e).next(m=>m?(d=m,$t.resolve(d)):t.fs.allocateTargetId(o).next(C=>(d=new Nl(e,C,0,o.currentSequenceNumber),t.fs.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=t.ui.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.ui=t.ui.insert(o.targetId,o),t.ai.set(e,o.targetId)),o})}function zc(i,e,t){return pc.apply(this,arguments)}function pc(){return pc=(0,we.Z)(function*(i,e,t){const o=Sn(i),d=o.ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,C=>o.persistence.referenceDelegate.removeTarget(C,d)))}catch(C){if(!Pl(C))throw C;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}o.ui=o.ui.remove(e),o.ai.delete(d.target)}),pc.apply(this,arguments)}function hu(i,e,t){const o=Sn(i);let d=er.min(),m=zi();return o.persistence.runTransaction("Execute query","readonly",C=>function(P,Q,ee){const Ve=Sn(P),ot=Ve.ai.get(ee);return void 0!==ot?$t.resolve(Ve.ui.get(ot)):Ve.fs.getTargetData(Q,ee)}(o,C,Qo(e)).next(P=>{if(P)return d=P.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(C,P.targetId).next(Q=>{m=Q})}).next(()=>o.oi.Qs(C,e,t?d:er.min(),t?m:zi())).next(P=>(qc(o,pd(e),P),{documents:P,_i:m})))}function Tf(i,e){const t=Sn(i),o=Sn(t.fs),d=t.ui.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",m=>o.Et(m,e).next(C=>C?C.target:null))}function Wc(i,e){const t=Sn(i),o=t.ci.get(e)||er.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.hi.getAllFromCollectionGroup(d,e,as(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(qc(t,e,d),d))}function qc(i,e,t){let o=er.min();t.forEach((d,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.ci.set(e,o)}function Sf(){return Sf=(0,we.Z)(function*(i,e,t,o){const d=Sn(i);let m=zi(),C=Ro();for(const ee of t){const Ve=e.wi(ee.metadata.name);ee.document&&(m=m.add(Ve));const ot=e.mi(ee);ot.setReadTime(e.gi(ee.metadata.readTime)),C=C.insert(Ve,ot)}const P=d.hi.newChangeBuffer({trackRemovals:!0}),Q=yield Gc(d,(ee=o,Qo(Ha(oi.fromString(`__bundle__/docs/${ee}`)))));var ee;return d.persistence.runTransaction("Apply bundle documents","readwrite",ee=>wp(ee,P,C).next(Ve=>(P.apply(ee),Ve)).next(Ve=>d.fs.removeMatchingKeysForTargetId(ee,Q.targetId).next(()=>d.fs.addMatchingKeys(ee,m,Q.targetId)).next(()=>d.fi.Gs(ee,Ve)).next(()=>Ve)))}),Sf.apply(this,arguments)}function Af(i,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,we.Z)(function*(i,e,t=zi()){const o=yield Gc(i,Qo(mh(e.bundledQuery))),d=Sn(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const C=Bs(e.readTime);if(o.snapshotVersion.compareTo(C)>=0)return d._s.saveNamedQuery(m,e);const P=o.withResumeToken(Cs.EMPTY_BYTE_STRING,C);return d.ui=d.ui.insert(P.targetId,P),d.fs.updateTargetData(m,P).next(()=>d.fs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>d.fs.addMatchingKeys(m,t,o.targetId)).next(()=>d._s.saveNamedQuery(m,e))})}),Ah.apply(this,arguments)}class xf{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return $t.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var o;return this.yi.set(t.id,{id:(o=t).id,version:o.version,createTime:Bs(o.createTime)}),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(o=t).name,query:mh(o.bundledQuery),readTime:Bs(o.readTime)}),$t.resolve();var o}}class Mf{constructor(){this.overlays=new ri(bn.comparator),this.Ii=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((d,m)=>{this.Xt(e,t,m)}),$t.resolve()}removeOverlaysForBatchId(e,t,o){const d=this.Ii.get(o);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ii.delete(o)),$t.resolve()}getOverlaysForCollection(e,t,o){const d=nc(),m=t.length+1,C=new bn(t.child("")),P=this.overlays.getIteratorFrom(C);for(;P.hasNext();){const Q=P.getNext().value,ee=Q.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===m&&Q.largestBatchId>o&&d.set(Q.getKey(),Q)}return $t.resolve(d)}getOverlaysForCollectionGroup(e,t,o,d){let m=new ri((ee,Ve)=>ee-Ve);const C=this.overlays.getIterator();for(;C.hasNext();){const ee=C.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>o){let Ve=m.get(ee.largestBatchId);null===Ve&&(Ve=nc(),m=m.insert(ee.largestBatchId,Ve)),Ve.set(ee.getKey(),ee)}}const P=nc(),Q=m.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ee,Ve)=>P.set(ee,Ve)),!(P.size()>=d)););return $t.resolve(P)}Xt(e,t,o){if(null===o)return;const d=this.overlays.get(o.key);if(null!==d){const C=this.Ii.get(d.largestBatchId).delete(o.key);this.Ii.set(d.largestBatchId,C)}this.overlays=this.overlays.insert(o.key,new ac(t,o));let m=this.Ii.get(t);void 0===m&&(m=zi(),this.Ii.set(t,m)),this.Ii.set(t,m.add(o.key))}}class xh{constructor(){this.Ti=new Mi(fs.Ei),this.Ai=new Mi(fs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const o=new fs(e,t);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Pi(new fs(e,t))}Vi(e,t){e.forEach(o=>this.removeReference(o,t))}vi(e){const t=new bn(new oi([])),o=new fs(t,e),d=new fs(t,e+1),m=[];return this.Ai.forEachInRange([o,d],C=>{this.Pi(C),m.push(C.key)}),m}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new bn(new oi([])),o=new fs(t,e),d=new fs(t,e+1);let m=zi();return this.Ai.forEachInRange([o,d],C=>{m=m.add(C.key)}),m}containsKey(e){const t=new fs(e,0),o=this.Ti.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class fs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return bn.comparator(e.key,t.key)||rr(e.Ci,t.Ci)}static Ri(e,t){return rr(e.Ci,t.Ci)||bn.comparator(e.key,t.key)}}class qo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Mi(fs.Ei)}checkEmpty(e){return $t.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,d){const m=this.xi;this.xi++;const C=new $c(m,t,o,d);this.Bs.push(C);for(const P of d)this.Ni=this.Ni.add(new fs(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return $t.resolve(C)}lookupMutationBatch(e,t){return $t.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.Mi(t+1),m=d<0?0:d;return $t.resolve(this.Bs.length>m?this.Bs[m]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return $t.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new fs(t,0),d=new fs(t,Number.POSITIVE_INFINITY),m=[];return this.Ni.forEachInRange([o,d],C=>{const P=this.ki(C.Ci);m.push(P)}),$t.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Mi(rr);return t.forEach(d=>{const m=new fs(d,0),C=new fs(d,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([m,C],P=>{o=o.add(P.Ci)})}),$t.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1;let m=o;bn.isDocumentKey(m)||(m=m.child(""));const C=new fs(new bn(m),0);let P=new Mi(rr);return this.Ni.forEachWhile(Q=>{const ee=Q.key.path;return!!o.isPrefixOf(ee)&&(ee.length===d&&(P=P.add(Q.Ci)),!0)},C),$t.resolve(this.Oi(P))}Oi(e){const t=[];return e.forEach(o=>{const d=this.ki(o);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){gr(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let o=this.Ni;return $t.forEach(t.mutations,d=>{const m=new fs(d.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,t){const o=new fs(t,0),d=this.Ni.firstAfterOrEqual(o);return $t.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return $t.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class va{constructor(e){this.$i=e,this.docs=new ri(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,d=this.docs.get(o),m=d?d.size:0,C=this.$i(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:C}),this.size+=C-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return $t.resolve(o?o.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let o=Ro();return t.forEach(d=>{const m=this.docs.get(d);o=o.insert(d,m?m.document.mutableCopy():_n.newInvalidDocument(d))}),$t.resolve(o)}getAllFromCollection(e,t,o){let d=Ro();const m=new bn(t.child("")),C=this.docs.getIteratorFrom(m);for(;C.hasNext();){const{key:P,value:{document:Q}}=C.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||pi(Ua(Q),o)<=0||(d=d.insert(Q.key,Q.mutableCopy()))}return $t.resolve(d)}getAllFromCollectionGroup(e,t,o,d){Ln()}Bi(e,t){return $t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Mh(this)}getSize(e){return $t.resolve(this.size)}}class Mh extends bf{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?t.push(this.Kn.addEntry(e,d)):this.Kn.removeEntry(o)}),$t.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Cp{constructor(e){this.persistence=e,this.Li=new Wa(t=>Aa(t),ja),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.Ui=0,this.qi=new xh,this.targetCount=0,this.Ki=cu.gn()}forEachTarget(e,t){return this.Li.forEach((o,d)=>t(d)),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ui&&(this.Ui=t),$t.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.Tn(t),$t.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,o){let d=0;const m=[];return this.Li.forEach((C,P)=>{P.sequenceNumber<=t&&null===o.get(P.targetId)&&(this.Li.delete(C),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),d++)}),$t.waitFor(m).next(()=>d)}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const o=this.Li.get(t)||null;return $t.resolve(o)}addMatchingKeys(e,t,o){return this.qi.bi(t,o),$t.resolve()}removeMatchingKeys(e,t,o){this.qi.Vi(t,o);const d=this.persistence.referenceDelegate,m=[];return d&&t.forEach(C=>{m.push(d.markPotentiallyOrphaned(e,C))}),$t.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qi.Di(t);return $t.resolve(o)}containsKey(e,t){return $t.resolve(this.qi.containsKey(t))}}class Dp{constructor(e,t){this.Gi={},this.overlays={},this.es=new cn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Cp(this),this.indexManager=new Eh,this.ds=new va(o=>this.referenceDelegate.Qi(o)),this.M=new Vu(t),this._s=new xf(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Gi[e.toKey()];return o||(o=new qo(t,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){un("MemoryPersistence","Starting transaction:",e);const d=new Dg(this.es.next());return this.referenceDelegate.ji(),o(d).next(m=>this.referenceDelegate.Wi(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}zi(e,t){return $t.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,t)))}}class Dg extends Md{constructor(e){super(),this.currentSequenceNumber=e}}class Rh{constructor(e){this.persistence=e,this.Hi=new xh,this.Ji=null}static Yi(e){return new Rh(e)}get Xi(){if(this.Ji)return this.Ji;throw Ln()}addReference(e,t,o){return this.Hi.addReference(o,t),this.Xi.delete(o.toString()),$t.resolve()}removeReference(e,t,o){return this.Hi.removeReference(o,t),this.Xi.add(o.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),$t.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(d=>this.Xi.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(m=>this.Xi.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Xi,o=>{const d=bn.fromPath(o);return this.Zi(e,d).next(m=>{m||t.removeEntry(d,er.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(o=>{o?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return $t.or([()=>$t.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Tp(i,e){return`firestore_clients_${i}_${e}`}function Sp(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function fa(i,e){return`firestore_targets_${i}_${e}`}class Oh{constructor(e,t,o,d){this.user=e,this.batchId=t,this.state=o,this.error=d}static tr(e,t,o){const d=JSON.parse(o);let m,C="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return C&&d.error&&(C="string"==typeof d.error.message&&"string"==typeof d.error.code,C&&(m=new M(d.error.code,d.error.message))),C?new Oh(e,t,d.state,m):(Hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static tr(e,t){const o=JSON.parse(t);let d,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(d=new M(o.error.code,o.error.message))),m?new Kc(e,o.state,d):(Hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ph{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const o=JSON.parse(t);let d="object"==typeof o&&o.activeTargetIds instanceof Array,m=Ws();for(let C=0;d&&C<o.activeTargetIds.length;++C)d=wl(o.activeTargetIds[C]),m=m.add(o.activeTargetIds[C]);return d?new Ph(e,m):(Hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rf{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rf(t.clientId,t.onlineState):(Hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ud{constructor(){this.activeTargetIds=Ws()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zc{constructor(e,t,o,d,m){this.window=e,this.Yn=t,this.persistenceKey=o,this.ir=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ri(rr),this.started=!1,this.cr=[];const C=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.hr=Tp(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Ud),this.dr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Fs();for(const d of t){if(d===e.ir)continue;const m=e.getItem(Tp(e.persistenceKey,d));if(m){const C=Ph.tr(d,m);C&&(e.ar=e.ar.insert(C.clientId,C))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const d=e.pr(o);d&&e.Ir(d)}for(const d of e.cr)e.ur(d);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((o,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,o){this.Er(e,t,o),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(fa(this.persistenceKey,e));if(o){const d=Kc.tr(e,o);d&&(t=d.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fa(this.persistenceKey,e))}updateQueryState(e,t,o){this.br(e,t,o)}handleUserChange(e,t,o){t.forEach(d=>{this.Ar(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return un("SharedClientState","READ",e,t),t}setItem(e,t){un("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){un("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const o=e;if(o.storageArea===this.storage){if(un("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void Hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==o.key)if(t.dr.test(o.key)){if(null==o.newValue){const d=t.vr(o.key);return t.Sr(d,null)}{const d=t.Dr(o.key,o.newValue);if(d)return t.Sr(d.clientId,d)}}else if(t._r.test(o.key)){if(null!==o.newValue){const d=t.Cr(o.key,o.newValue);if(d)return t.Nr(d)}}else if(t.wr.test(o.key)){if(null!==o.newValue){const d=t.kr(o.key,o.newValue);if(d)return t.Mr(d)}}else if(o.key===t.mr){if(null!==o.newValue){const d=t.pr(o.newValue);if(d)return t.Ir(d)}}else if(o.key===t.lr){const d=function(m){let C=cn.A;if(null!=m)try{const P=JSON.parse(m);gr("number"==typeof P),C=P}catch(P){Hi("SharedClientState","Failed to read sequence number from WebStorage",P)}return C}(o.newValue);d!==cn.A&&t.sequenceNumberHandler(d)}else if(o.key===t.gr){const d=t.Or(o.newValue);yield Promise.all(d.map(m=>t.syncEngine.Fr(m)))}}else t.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,o){const d=new Oh(this.currentUser,e,t,o),m=Sp(this.persistenceKey,this.currentUser,e);this.setItem(m,d.er())}Ar(e){const t=Sp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,o){const d=fa(this.persistenceKey,e),m=new Kc(e,t,o);this.setItem(d,m.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const o=this.vr(e);return Ph.tr(o,t)}Cr(e,t){const o=this._r.exec(e),d=Number(o[1]);return Oh.tr(new ws(void 0!==o[2]?o[2]:null),d,t)}kr(e,t){const o=this.wr.exec(e),d=Number(o[1]);return Kc.tr(d,t)}pr(e){return Rf.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);un("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const o=t?this.ar.insert(e,t):this.ar.remove(e),d=this.Tr(this.ar),m=this.Tr(o),C=[],P=[];return m.forEach(Q=>{d.has(Q)||C.push(Q)}),d.forEach(Q=>{m.has(Q)||P.push(Q)}),this.syncEngine.Lr(C,P).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Ws();return e.forEach((o,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class Ap{constructor(){this.Ur=new Ud,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Ud,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kh{Kr(e){}shutdown(){}}class Of{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xp{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Mp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,d,m){const C=this.ho(e,t);un("RestConnection","Sending: ",C,o);const P={};return this.lo(P,d,m),this.fo(e,C,P,o).then(Q=>(un("RestConnection","Received: ",Q),Q),Q=>{throw Gs("RestConnection",`${e} failed with error: `,Q,"url: ",C,"request:",o),Q})}_o(e,t,o,d,m){return this.co(e,t,o,d,m)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,m)=>e[m]=d),o&&o.headers.forEach((d,m)=>e[m]=d)}ho(e,t){return`${this.uo}/v1/${t}:${Tg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,d){return new Promise((m,C)=>{const P=new Da;P.listenOnce(La.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case la.NO_ERROR:const ee=P.getResponseJson();un("Connection","XHR received:",JSON.stringify(ee)),m(ee);break;case la.TIMEOUT:un("Connection",'RPC "'+e+'" timed out'),C(new M(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case la.HTTP_ERROR:const Ve=P.getStatus();if(un("Connection",'RPC "'+e+'" failed with status:',Ve,"response text:",P.getResponseText()),Ve>0){const ot=P.getResponseJson().error;if(ot&&ot.status&&ot.message){const Ft=function(rn){const an=rn.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(an)>=0?an:Dt.UNKNOWN}(ot.status);C(new M(Ft,ot.message))}else C(new M(Dt.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new M(Dt.UNAVAILABLE,"Connection failed."));break;default:Ln()}}finally{un("Connection",'RPC "'+e+'" completed.')}});const Q=JSON.stringify(d);P.send(t,"POST",Q,o,15)})}wo(e,t,o){const d=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=aa(),C=br(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new fi({})),this.lo(P.initMessageHeaders,t,o),(0,Xe.uI)()||(0,Xe.b$)()||(0,Xe.d)()||(0,Xe.w1)()||(0,Xe.Mn)()||(0,Xe.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const Q=d.join("");un("Connection","Creating WebChannel: "+Q,P);const ee=m.createWebChannel(Q,P);let Ve=!1,ot=!1;const Ft=new xp({Jr:an=>{ot?un("Connection","Not sending because WebChannel is closed:",an):(Ve||(un("Connection","Opening WebChannel transport."),ee.open(),Ve=!0),un("Connection","WebChannel sending:",an),ee.send(an))},Yr:()=>ee.close()}),rn=(an,Vn,zr)=>{an.listen(Vn,Ks=>{try{zr(Ks)}catch(po){setTimeout(()=>{throw po},0)}})};return rn(ee,Ps.EventType.OPEN,()=>{ot||un("Connection","WebChannel transport opened.")}),rn(ee,Ps.EventType.CLOSE,()=>{ot||(ot=!0,un("Connection","WebChannel transport closed"),Ft.ro())}),rn(ee,Ps.EventType.ERROR,an=>{ot||(ot=!0,Gs("Connection","WebChannel transport errored:",an),Ft.ro(new M(Dt.UNAVAILABLE,"The operation could not be completed")))}),rn(ee,Ps.EventType.MESSAGE,an=>{var Vn;if(!ot){const zr=an.data[0];gr(!!zr);const Ks=zr,po=Ks.error||(null===(Vn=Ks[0])||void 0===Vn?void 0:Vn.error);if(po){un("Connection","WebChannel received error:",po);const Qi=po.status;let ko=function(co){const Ia=to[co];if(void 0!==Ia)return Oc(Ia)}(Qi),Zs=po.message;void 0===ko&&(ko=Dt.INTERNAL,Zs="Unknown error status: "+Qi+" with message "+po.message),ot=!0,Ft.ro(new M(ko,Zs)),ee.close()}else un("Connection","WebChannel received:",zr),Ft.oo(zr)}}),rn(C,vo.STAT_EVENT,an=>{an.stat===Co.PROXY?un("Connection","Detected buffering proxy"):an.stat===Co.NOPROXY&&un("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ft.io()},0),Ft}}function Nh(){return"undefined"!=typeof window?window:null}function Fh(){return"undefined"!=typeof document?document:null}function Xc(i){return new Ru(i,!0)}class Pf{constructor(e,t,o=1e3,d=1.5,m=6e4){this.Yn=e,this.timerId=t,this.mo=o,this.yo=d,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),d=Math.max(0,t-o);d>0&&un("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,d,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class kf{constructor(e,t,o,d,m,C,P,Q){this.Yn=e,this.Vo=o,this.vo=d,this.So=m,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=P,this.listener=Q,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Pf(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,we.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,we.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,we.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Do===t&&this.Qo(o,d)},o=>{e(()=>{const d=new M(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(d)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(d=>{o(()=>this.jo(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}Oo(){var e=this;this.state=5,this.No.Ro((0,we.Z)(function*(){e.state=0,e.start()}))}jo(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rp extends kf{constructor(e,t,o,d,m,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,d,C),this.M=m}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Nc(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Ln(),d=e.targetChange.targetIds||[],m=function(Q,ee){return Q.N?(gr(void 0===ee||"string"==typeof ee),Cs.fromBase64String(ee||"")):(gr(void 0===ee||ee instanceof Uint8Array),Cs.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,P=C&&function(Q){const ee=void 0===Q.code?Dt.UNKNOWN:Oc(Q.code);return new M(ee,Q.message||"")}(C);t=new fl(o,d,m,P||null)}else if("documentChange"in e){const o=e.documentChange,d=Ra(i,o.document.name),m=Bs(o.document.updateTime),C=new At({mapValue:{fields:o.document.fields}}),P=_n.newFoundDocument(d,m,C);t=new nu(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,d=Ra(i,o.document),m=o.readTime?Bs(o.readTime):er.min(),C=_n.newNoDocument(d,m);t=new nu([],o.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const o=e.documentRemove,d=Ra(i,o.document);t=new nu([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Ln();{const o=e.filter,m=new bd(o.count||0);t=new no(o.targetId,m)}}var Q;return t}(this.M,e),o=function(d){if(!("targetChange"in d))return er.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?er.min():m.readTime?Bs(m.readTime):er.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=ru(this.M),t.addTarget=function(d,m){let C;const P=m.target;return C=Dl(P)?{documents:Fc(d,P)}:{query:uh(d,P)},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?C.resumeToken=kc(d,m.resumeToken):m.snapshotVersion.compareTo(er.min())>0&&(C.readTime=Ou(d,m.snapshotVersion.toTimestamp())),C}(this.M,e);const o=function Td(i,e){const t=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ln()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=ru(this.M),t.removeTarget=e,this.Lo(t)}}class Op extends kf{constructor(e,t,o,d,m,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,d,C),this.M=m,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(gr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function sc(i,e){return i&&i.length>0?(gr(void 0!==e),i.map(t=>function(o,d){let m=Bs(o.updateTime?o.updateTime:d);return m.isEqual(er.min())&&(m=Bs(d)),new yd(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Bs(e.commitTime);return this.listener.tu(o,t)}return gr(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ru(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Jo(this.M,o))};this.Lo(t)}}class Pp extends class{}{constructor(e,t,o,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.M=d,this.su=!1}iu(){if(this.su)throw new M(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.So.co(e,t,o,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new M(Dt.UNKNOWN,d.toString())})}_o(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.So._o(e,t,o,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new M(Dt.UNKNOWN,d.toString())})}terminate(){this.su=!0}}class $l{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Hi(t),this.uu=!1):un("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Nf{constructor(e,t,o,d,m){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=m,this.gu.Kr(P=>{o.enqueueAndForget((0,we.Z)(function*(){var Q;O(C)&&(un("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,we.Z)(function*(ee){const Ve=Sn(ee);Ve.wu.add(4),yield jd(Ve),Ve.yu.set("Unknown"),Ve.wu.delete(4),yield $d(Ve)}),function(ee){return Q.apply(this,arguments)})(C))}))}),this.yu=new $l(o,d)}}function $d(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,we.Z)(function*(i){if(O(i))for(const e of i.mu)yield e(!0)}),Ff.apply(this,arguments)}function jd(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,we.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Lh.apply(this,arguments)}function Bh(i,e){const t=Sn(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),w(t)?p(t):Gd(t).Mo()&&l(t,e))}function h(i,e){const t=Sn(i),o=Gd(t);t._u.delete(e),o.Mo()&&a(t,e),0===t._u.size&&(o.Mo()?o.$o():O(t)&&t.yu.set("Unknown"))}function l(i,e){i.pu.Z(e.targetId),Gd(i).Ho(e)}function a(i,e){i.pu.Z(e),Gd(i).Jo(e)}function p(i){i.pu=new Pc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Gd(i).start(),i.yu.au()}function w(i){return O(i)&&!Gd(i).ko()&&i._u.size>0}function O(i){return 0===Sn(i).wu.size}function H(i){i.pu=void 0}function oe(i){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,we.Z)(function*(i){i._u.forEach((e,t)=>{l(i,e)})}),Ce.apply(this,arguments)}function Ze(i,e){return kt.apply(this,arguments)}function kt(){return kt=(0,we.Z)(function*(i,e){H(i),w(i)?(i.yu.lu(e),p(i)):i.yu.set("Unknown")}),kt.apply(this,arguments)}function Ot(i,e,t){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,we.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof fl&&2===e.state&&e.cause)try{yield(o=(0,we.Z)(function*(d,m){const C=m.cause;for(const P of m.targetIds)d._u.has(P)&&(yield d.remoteSyncer.rejectListen(P,C),d._u.delete(P),d.pu.removeTarget(P))}),function(d,m){return o.apply(this,arguments)})(i,e)}catch(o){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bn(i,o)}else if(e instanceof nu?i.pu.ut(e):e instanceof no?i.pu._t(e):i.pu.ht(e),!t.isEqual(er.min()))try{const o=yield bp(i.localStore);t.compareTo(o)>=0&&(yield function(d,m){const C=d.pu.yt(m);return C.targetChanges.forEach((P,Q)=>{if(P.resumeToken.approximateByteSize()>0){const ee=d._u.get(Q);ee&&d._u.set(Q,ee.withResumeToken(P.resumeToken,m))}}),C.targetMismatches.forEach(P=>{const Q=d._u.get(P);if(!Q)return;d._u.set(P,Q.withResumeToken(Cs.EMPTY_BYTE_STRING,Q.snapshotVersion)),a(d,P);const ee=new Nl(Q.target,P,1,Q.sequenceNumber);l(d,ee)}),d.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(o){un("RemoteStore","Failed to raise snapshot:",o),yield Bn(i,o)}var o}),Jt.apply(this,arguments)}function Bn(i,e,t){return vr.apply(this,arguments)}function vr(){return vr=(0,we.Z)(function*(i,e,t){if(!Pl(e))throw e;i.wu.add(1),yield jd(i),i.yu.set("Offline"),t||(t=()=>bp(i.localStore)),i.asyncQueue.enqueueRetryable((0,we.Z)(function*(){un("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield $d(i)}))}),vr.apply(this,arguments)}function Ki(i,e){return e().catch(t=>Bn(i,t,e))}function Us(i){return jl.apply(this,arguments)}function jl(){return jl=(0,we.Z)(function*(i){const e=Sn(i),t=Qc(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Hl(e);)try{const d=yield Ip(e.localStore,o);if(null===d){0===e.du.length&&t.$o();break}o=d.batchId,gc(e,d)}catch(d){yield Bn(e,d)}Lf(e)&&Hu(e)}),jl.apply(this,arguments)}function Hl(i){return O(i)&&i.du.length<10}function gc(i,e){i.du.push(e);const t=Qc(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Lf(i){return O(i)&&!Qc(i).ko()&&i.du.length>0}function Hu(i){Qc(i).start()}function kp(i){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,we.Z)(function*(i){Qc(i).nu()}),Sg.apply(this,arguments)}function c_(i){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,we.Z)(function*(i){const e=Qc(i);for(const t of i.du)e.Zo(t.mutations)}),Vm.apply(this,arguments)}function Ag(i,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,we.Z)(function*(i,e,t){const o=i.du.shift(),d=Bu.from(o,e,t);yield Ki(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield Us(i)}),Np.apply(this,arguments)}function xg(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,we.Z)(function*(i,e){var t;e&&Qc(i).Xo&&(yield(t=(0,we.Z)(function*(o,d){if(wd(m=d.code)&&m!==Dt.ABORTED){const C=o.du.shift();Qc(o).Fo(),yield Ki(o,()=>o.remoteSyncer.rejectFailedWrite(C.batchId,d)),yield Us(o)}var m}),function(o,d){return t.apply(this,arguments)})(i,e)),Lf(i)&&Hu(i)}),Hd.apply(this,arguments)}function Um(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,we.Z)(function*(i,e){const t=Sn(i);t.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const o=O(t);t.wu.add(3),yield jd(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield $d(t)}),Bf.apply(this,arguments)}function Fp(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,we.Z)(function*(i,e){const t=Sn(i);e?(t.wu.delete(2),yield $d(t)):e||(t.wu.add(2),yield jd(t),t.yu.set("Unknown"))}),Lp.apply(this,arguments)}function Gd(i){return i.Iu||(i.Iu=function(e,t,o){const d=Sn(e);return d.iu(),new Rp(t,d.So,d.authCredentials,d.appCheckCredentials,d.M,o)}(i.datastore,i.asyncQueue,{Xr:oe.bind(null,i),eo:Ze.bind(null,i),zo:Ot.bind(null,i)}),i.mu.push(function(){var e=(0,we.Z)(function*(t){t?(i.Iu.Fo(),w(i)?p(i):i.yu.set("Unknown")):(yield i.Iu.stop(),H(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Qc(i){return i.Tu||(i.Tu=function(e,t,o){const d=Sn(e);return d.iu(),new Op(t,d.So,d.authCredentials,d.appCheckCredentials,d.M,o)}(i.datastore,i.asyncQueue,{Xr:kp.bind(null,i),eo:xg.bind(null,i),eu:c_.bind(null,i),tu:Ag.bind(null,i)}),i.mu.push(function(){var e=(0,we.Z)(function*(t){t?(i.Tu.Fo(),yield Us(i)):(yield i.Tu.stop(),i.du.length>0&&(un("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class Vf{constructor(e,t,o,d,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=d,this.removalCallback=m,this.deferred=new x,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,o,d,m){const C=Date.now()+o,P=new Vf(e,t,C,d,m);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vh(i,e){if(Hi("AsyncQueue",`${e}: ${i}`),Pl(i))return new M(Dt.UNAVAILABLE,`${e}: ${i}`);throw i}class Uh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||bn.comparator(t.key,o.key):(t,o)=>bn.comparator(t.key,o.key),this.keyedMap=Id(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new Uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Uh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Mg{constructor(){this.Eu=new ri(bn.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Ln():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class fu{constructor(e,t,o,d,m,C,P,Q){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=m,this.fromCache=C,this.syncStateChanged=P,this.excludesMetadataChanges=Q}static fromInitialDocuments(e,t,o,d){const m=[];return t.forEach(C=>{m.push({type:0,doc:C})}),new fu(e,t,Uh.emptySet(t),m,o,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==o[d].type||!t[d].doc.isEqual(o[d].doc))return!1;return!0}}class $m{constructor(){this.Ru=void 0,this.listeners=[]}}class d_{constructor(){this.queries=new Wa(e=>rh(e),Ju),this.onlineState="Unknown",this.bu=new Set}}function Rg(i,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,we.Z)(function*(i,e){const t=Sn(i),o=e.query;let d=!1,m=t.queries.get(o);if(m||(d=!0,m=new $m),d)try{m.Ru=yield t.onListen(o)}catch(C){const P=Vh(C,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(P)}t.queries.set(o,m),m.listeners.push(e),e.Pu(t.onlineState),m.Ru&&e.Vu(m.Ru)&&yl(t)}),Jc.apply(this,arguments)}function Og(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,we.Z)(function*(i,e){const t=Sn(i),o=e.query;let d=!1;const m=t.queries.get(o);if(m){const C=m.listeners.indexOf(e);C>=0&&(m.listeners.splice(C,1),d=0===m.listeners.length)}if(d)return t.queries.delete(o),t.onUnlisten(o)}),Pg.apply(this,arguments)}function h_(i,e){const t=Sn(i);let o=!1;for(const d of e){const C=t.queries.get(d.query);if(C){for(const P of C.listeners)P.Vu(d)&&(o=!0);C.Ru=d}}o&&yl(t)}function f_(i,e,t){const o=Sn(i),d=o.queries.get(e);if(d)for(const m of d.listeners)m.onError(t);o.queries.delete(e)}function yl(i){i.bu.forEach(e=>{e.next()})}class Uf{constructor(e,t,o){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new fu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class jm{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class kg{constructor(e){this.M=e}wi(e){return Ra(this.M,e)}mi(e){return e.metadata.exists?iu(this.M,e.document,!1):_n.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Bs(e)}}class Hm{constructor(e,t,o){this.Ou=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ng(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=oi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new kg(this.M);for(const d of e)if(d.metadata.queries){const m=o.wi(d.metadata.name);for(const C of d.metadata.queries){const P=(t.get(C)||zi()).add(m);t.set(C,P)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Yc(i,e,t,o){return Sf.apply(this,arguments)}(e.localStore,new kg(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const d of e.queries)yield Af(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ng(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Gm{constructor(e){this.key=e}}class zm{constructor(e){this.key=e}}class Wm{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=zi(),this.mutatedKeys=zi(),this.Gu=Iu(e),this.Qu=new Uh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Mg,d=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,C=d,P=!1;const Q="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,ee="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((Ve,ot)=>{const Ft=d.get(Ve),rn=dl(this.query,ot)?ot:null,an=!!Ft&&this.mutatedKeys.has(Ft.key),Vn=!!rn&&(rn.hasLocalMutations||this.mutatedKeys.has(rn.key)&&rn.hasCommittedMutations);let zr=!1;Ft&&rn?Ft.data.isEqual(rn.data)?an!==Vn&&(o.track({type:3,doc:rn}),zr=!0):this.Hu(Ft,rn)||(o.track({type:2,doc:rn}),zr=!0,(Q&&this.Gu(rn,Q)>0||ee&&this.Gu(rn,ee)<0)&&(P=!0)):!Ft&&rn?(o.track({type:0,doc:rn}),zr=!0):Ft&&!rn&&(o.track({type:1,doc:Ft}),zr=!0,(Q||ee)&&(P=!0)),zr&&(rn?(C=C.add(rn),m=Vn?m.add(Ve):m.delete(Ve)):(C=C.delete(Ve),m=m.delete(Ve)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Ve="F"===this.query.limitType?C.last():C.first();C=C.delete(Ve.key),m=m.delete(Ve.key),o.track({type:1,doc:Ve})}return{Qu:C,zu:o,ii:P,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const d=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Au();m.sort((ee,Ve)=>function(ot,Ft){const rn=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ln()}};return rn(ot)-rn(Ft)}(ee.type,Ve.type)||this.Gu(ee.doc,Ve.doc)),this.Ju(o);const C=t?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,Q=P!==this.qu;return this.qu=P,0!==m.length||Q?{snapshot:new fu(this.query,e.Qu,d,m,e.mutatedKeys,0===P,Q,!1),Xu:C}:{Xu:C}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mg,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=zi(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new zm(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Gm(o))}),t}ta(e){this.Uu=e._i,this.Ku=zi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return fu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class p_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class qm{constructor(e){this.key=e,this.na=!1}}class zv{constructor(e,t,o,d,m,C){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=C,this.sa={},this.ia=new Wa(P=>rh(P),Ju),this.ra=new Map,this.oa=new Set,this.ua=new ri(bn.comparator),this.aa=new Map,this.ca=new xh,this.ha={},this.la=new Map,this.fa=cu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Ym(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,we.Z)(function*(i,e){const t=id(i);let o,d;const m=t.ia.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),d=m.view.ea();else{const C=yield Gc(t.localStore,Qo(e));t.isPrimaryClient&&Bh(t.remoteStore,C);const P=t.sharedClientState.addLocalQueryTarget(C.targetId);o=C.targetId,d=yield Lg(t,e,o,"current"===P)}return d}),Fg.apply(this,arguments)}function Lg(i,e,t,o){return Km.apply(this,arguments)}function Km(){return Km=(0,we.Z)(function*(i,e,t,o){i._a=(Ve,ot,Ft)=>{return(rn=(0,we.Z)(function*(an,Vn,zr,Ks){let po=Vn.view.Wu(zr);po.ii&&(po=yield hu(an.localStore,Vn.query,!1).then(({documents:Zs})=>Vn.view.Wu(Zs,po)));const Qi=Ks&&Ks.targetChanges.get(Vn.targetId),ko=Vn.view.applyChanges(po,an.isPrimaryClient,Qi);return $g(an,Vn.targetId,ko.Xu),ko.snapshot}),function(an,Vn,zr,Ks){return rn.apply(this,arguments)})(i,Ve,ot,Ft);var rn};const d=yield hu(i.localStore,e,!0),m=new Wm(e,d._i),C=m.Wu(d.documents),P=Ma.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),Q=m.applyChanges(C,i.isPrimaryClient,P);$g(i,t,Q.Xu);const ee=new p_(e,t,m);return i.ia.set(e,ee),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),Q.snapshot}),Km.apply(this,arguments)}function Wv(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,we.Z)(function*(i,e){const t=Sn(i),o=t.ia.get(e),d=t.ra.get(o.targetId);if(d.length>1)return t.ra.set(o.targetId,d.filter(m=>!Ju(m,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield zc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),h(t.remoteStore,o.targetId),ed(t,o.targetId)}).catch(fc))):(ed(t,o.targetId),yield zc(t.localStore,o.targetId,!0))}),$f.apply(this,arguments)}function Bp(){return Bp=(0,we.Z)(function*(i,e,t){const o=sd(i);try{const d=yield function(m,C){const P=Sn(m),Q=cs.now(),ee=C.reduce((ot,Ft)=>ot.add(Ft.key),zi());let Ve;return P.persistence.runTransaction("Locally write mutations","readwrite",ot=>P.fi.Ks(ot,ee).next(Ft=>{Ve=Ft;const rn=[];for(const an of C){const Vn=lf(an,Ve.get(an.key));null!=Vn&&rn.push(new jo(an.key,Vn,ln(Vn.value.mapValue),Ls.exists(!0)))}return P.Bs.addMutationBatch(ot,Q,rn,C)})).then(ot=>(ot.applyToLocalDocumentSet(Ve),{batchId:ot.batchId,changes:Ve}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(m,C,P){let Q=m.ha[m.currentUser.toKey()];Q||(Q=new ri(rr)),Q=Q.insert(C,P),m.ha[m.currentUser.toKey()]=Q}(o,d.batchId,t),yield mc(o,d.changes),yield Us(o.remoteStore)}catch(d){const m=Vh(d,"Failed to persist write");t.reject(m)}}),Bp.apply(this,arguments)}function Bg(i,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,we.Z)(function*(i,e){const t=Sn(i);try{const o=yield Df(t.localStore,e);e.targetChanges.forEach((d,m)=>{const C=t.aa.get(m);C&&(gr(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?C.na=!0:d.modifiedDocuments.size>0?gr(C.na):d.removedDocuments.size>0&&(gr(C.na),C.na=!1))}),yield mc(t,o,e)}catch(o){yield fc(o)}}),Zm.apply(this,arguments)}function Gl(i,e,t){const o=Sn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const d=[];o.ia.forEach((m,C)=>{const P=C.view.Pu(e);P.snapshot&&d.push(P.snapshot)}),function(m,C){const P=Sn(m);P.onlineState=C;let Q=!1;P.queries.forEach((ee,Ve)=>{for(const ot of Ve.listeners)ot.Pu(C)&&(Q=!0)}),Q&&yl(P)}(o.eventManager,e),d.length&&o.sa.zo(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function qv(i,e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,we.Z)(function*(i,e,t){const o=Sn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const d=o.aa.get(e),m=d&&d.key;if(m){let C=new ri(bn.comparator);C=C.insert(m,_n.newNoDocument(m,er.min()));const P=zi().add(m),Q=new tu(er.min(),new Map,new Mi(rr),C,P);yield Bg(o,Q),o.ua=o.ua.remove(m),o.aa.delete(e),jg(o)}else yield zc(o.localStore,e,!1).then(()=>ed(o,e,t)).catch(fc)}),Xm.apply(this,arguments)}function Qm(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,we.Z)(function*(i,e){const t=Sn(i),o=e.batch.batchId;try{const d=yield Ep(t.localStore,e);Ug(t,o,null),jf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield mc(t,d)}catch(d){yield fc(d)}}),Vp.apply(this,arguments)}function Jm(i,e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,we.Z)(function*(i,e,t){const o=Sn(i);try{const d=yield function(m,C){const P=Sn(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ee;return P.Bs.lookupMutationBatch(Q,C).next(Ve=>(gr(null!==Ve),ee=Ve.keys(),P.Bs.removeMutationBatch(Q,Ve))).next(()=>P.Bs.performConsistencyCheck(Q)).next(()=>P.fi.Ks(Q,ee))})}(o.localStore,e);Ug(o,e,t),jf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield mc(o,d)}catch(d){yield fc(d)}}),Vg.apply(this,arguments)}function Up(){return Up=(0,we.Z)(function*(i,e){const t=Sn(i);O(t.remoteStore)||un("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const C=Sn(m);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>C.Bs.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===o)return void e.resolve();const d=t.la.get(o)||[];d.push(e),t.la.set(o,d)}catch(o){const d=Vh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),Up.apply(this,arguments)}function jf(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function Ug(i,e,t){const o=Sn(i);let d=o.ha[o.currentUser.toKey()];if(d){const m=d.get(e);m&&(t?m.reject(t):m.resolve(),d=d.remove(e)),o.ha[o.currentUser.toKey()]=d}}function ed(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),t&&i.sa.wa(o,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||ey(i,o)})}function ey(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(h(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),jg(i))}function $g(i,e,t){for(const o of t)o instanceof Gm?(i.ca.addReference(o.key,e),m_(i,o)):o instanceof zm?(un("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||ey(i,o.key)):Ln()}function m_(i,e){const t=e.key,o=t.path.canonicalString();i.ua.get(t)||i.oa.has(o)||(un("SyncEngine","New document in limbo: "+t),i.oa.add(o),jg(i))}function jg(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new bn(oi.fromString(e)),o=i.fa.next();i.aa.set(o,new qm(t)),i.ua=i.ua.insert(t,o),Bh(i.remoteStore,new Nl(Qo(Ha(t.path)),o,2,cn.A))}}function mc(i,e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,we.Z)(function*(i,e,t){const o=Sn(i),d=[],m=[],C=[];var P;o.ia.isEmpty()||(o.ia.forEach((P,Q)=>{C.push(o._a(Q,e,t).then(ee=>{if(ee){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Q.targetId,ee.fromCache?"not-current":"current"),d.push(ee);const Ve=Th.Ys(Q.targetId,ee);m.push(Ve)}}))}),yield Promise.all(C),o.sa.zo(d),yield(P=(0,we.Z)(function*(Q,ee){const Ve=Sn(Q);try{yield Ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>$t.forEach(ee,Ft=>$t.forEach(Ft.Hs,rn=>Ve.persistence.referenceDelegate.addReference(ot,Ft.targetId,rn)).next(()=>$t.forEach(Ft.Js,rn=>Ve.persistence.referenceDelegate.removeReference(ot,Ft.targetId,rn)))))}catch(ot){if(!Pl(ot))throw ot;un("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of ee){const Ft=ot.targetId;if(!ot.fromCache){const rn=Ve.ui.get(Ft),Vn=rn.withLastLimboFreeSnapshotVersion(rn.snapshotVersion);Ve.ui=Ve.ui.insert(Ft,Vn)}}}),function(Q,ee){return P.apply(this,arguments)})(o.localStore,m))}),Hg.apply(this,arguments)}function $p(i,e){return td.apply(this,arguments)}function td(){return td=(0,we.Z)(function*(i,e){const t=Sn(i);if(!t.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const o=yield Cg(t.localStore,e);t.currentUser=e,(d=t).la.forEach(C=>{C.forEach(P=>{P.reject(new M(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.la.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield mc(t,o.di)}var d}),td.apply(this,arguments)}function y_(i,e){const t=Sn(i),o=t.aa.get(e);if(o&&o.na)return zi().add(o.key);{let d=zi();const m=t.ra.get(e);if(!m)return d;for(const C of m){const P=t.ia.get(C);d=d.unionWith(P.view.ju)}return d}}function Hf(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,we.Z)(function*(i,e){const t=Sn(i),o=yield hu(t.localStore,e.query,!0),d=e.view.ta(o);return t.isPrimaryClient&&$g(t,e.targetId,d.Xu),d}),Gg.apply(this,arguments)}function __(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,we.Z)(function*(i,e){const t=Sn(i);return Wc(t.localStore,e).then(o=>mc(t,o))}),Gf.apply(this,arguments)}function Gu(i,e,t,o){return zd.apply(this,arguments)}function zd(){return zd=(0,we.Z)(function*(i,e,t,o){const d=Sn(i),m=yield function(C,P){const Q=Sn(C),ee=Sn(Q.Bs);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ve=>ee.fn(Ve,P).next(ot=>ot?Q.fi.Ks(Ve,ot):$t.resolve(null)))}(d.localStore,e);var P;null!==m?("pending"===t?yield Us(d.remoteStore):"acknowledged"===t||"rejected"===t?(Ug(d,e,o||null),jf(d,e),P=e,Sn(Sn(d.localStore).Bs)._n(P)):Ln(),yield mc(d,m)):un("SyncEngine","Cannot apply mutation batch with id: "+e)}),zd.apply(this,arguments)}function yc(){return yc=(0,we.Z)(function*(i,e){const t=Sn(i);if(id(t),sd(t),!0===e&&!0!==t.da){const o=t.sharedClientState.getAllActiveQueryTargets(),d=yield zf(t,o.toArray());t.da=!0,yield Fp(t.remoteStore,!0);for(const m of d)Bh(t.remoteStore,m)}else if(!1===e&&!1!==t.da){const o=[];let d=Promise.resolve();t.ra.forEach((m,C)=>{t.sharedClientState.isLocalQueryTarget(C)?o.push(C):d=d.then(()=>(ed(t,C),zc(t.localStore,C,!0))),h(t.remoteStore,C)}),yield d,yield zf(t,o),function(m){const C=Sn(m);C.aa.forEach((P,Q)=>{h(C.remoteStore,Q)}),C.ca.Si(),C.aa=new Map,C.ua=new ri(bn.comparator)}(t),t.da=!1,yield Fp(t.remoteStore,!1)}}),yc.apply(this,arguments)}function zf(i,e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,we.Z)(function*(i,e,t){const o=Sn(i),d=[],m=[];for(const C of e){let P;const Q=o.ra.get(C);if(Q&&0!==Q.length){P=yield Gc(o.localStore,Qo(Q[0]));for(const ee of Q){const Ve=o.ia.get(ee),ot=yield Hf(o,Ve);ot.snapshot&&m.push(ot.snapshot)}}else{const ee=yield Tf(o.localStore,C);P=yield Gc(o.localStore,ee),yield Lg(o,jp(ee),C,!1)}d.push(P)}return o.sa.zo(m),d}),Ja.apply(this,arguments)}function jp(i){return Sl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function $h(i){const e=Sn(i);return Sn(Sn(e.localStore).persistence).Fs()}function jh(i,e,t,o){return nd.apply(this,arguments)}function nd(){return nd=(0,we.Z)(function*(i,e,t,o){const d=Sn(i);if(d.da)return void un("SyncEngine","Ignoring unexpected query state notification.");const m=d.ra.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const C=yield Wc(d.localStore,pd(m[0])),P=tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield mc(d,C,P);break}case"rejected":yield zc(d.localStore,e,!0),ed(d,e,o);break;default:Ln()}}),nd.apply(this,arguments)}function Hh(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,we.Z)(function*(i,e,t){const o=id(i);if(o.da){for(const d of e){if(o.ra.has(d)){un("SyncEngine","Adding an already active target "+d);continue}const m=yield Tf(o.localStore,d),C=yield Gc(o.localStore,m);yield Lg(o,jp(m),C.targetId,!1),Bh(o.remoteStore,C)}for(const d of t)o.ra.has(d)&&(yield zc(o.localStore,d,!1).then(()=>{h(o.remoteStore,d),ed(o,d)}).catch(fc))}}),rd.apply(this,arguments)}function id(i){const e=Sn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qv.bind(null,e),e.sa.zo=h_.bind(null,e.eventManager),e.sa.wa=f_.bind(null,e.eventManager),e}function sd(i){const e=Sn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jm.bind(null,e),e}class Wd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=Xc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Sh(this.persistence,new Vd,e.initialUser,this.M)}ya(e){return new Dp(Rh.Yi,this.M)}ga(e){return new Ap}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zg extends Wd{constructor(e,t,o){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,we.Z)(function*(){yield t().call(o,e),yield o.Ta.initialize(o,e),yield sd(o.Ta.syncEngine),yield Us(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Sh(this.persistence,new Vd,e.initialUser,this.M)}pa(e){return new Fm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zo.withCacheSize(this.cacheSizeBytes):zo.DEFAULT;return new _p(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Nh(),Fh(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Ap}}class ty extends zg{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,we.Z)(function*(){yield t().call(o,e);const d=o.Ta.syncEngine;o.sharedClientState instanceof Zc&&(o.sharedClientState.syncEngine={$r:Gu.bind(null,d),Br:jh.bind(null,d),Lr:Hh.bind(null,d),Fs:$h.bind(null,d),Fr:__.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var m=(0,we.Z)(function*(C){yield function Ea(i,e){return yc.apply(this,arguments)}(o.Ta.syncEngine,C),o.gcScheduler&&(C&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):C||o.gcScheduler.stop())});return function(C){return m.apply(this,arguments)}}())})()}ga(e){const t=Nh();if(!Zc.vt(t))throw new M(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zc(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Hp{initialize(e,t){var o=this;return(0,we.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>Gl(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=$p.bind(null,o.syncEngine),yield Fp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new d_}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),o=new Mp(e.databaseInfo);return new Pp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,d=e.asyncQueue,m=P=>Gl(this.syncEngine,P,0),C=Of.vt()?new Of:new kh,new Nf(t,o,d,m,C);var t,o,d,m,C}createSyncEngine(e,t){return function(o,d,m,C,P,Q,ee){const Ve=new zv(o,d,m,C,P,Q);return ee&&(Ve.da=!0),Ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const o=Sn(t);un("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield jd(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wg(i,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Wf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ny{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new x,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,we.Z)(function*(){const t=yield e.Va();if(null===t)return null;const o=e.ba.decode(t),d=Number(o);isNaN(d)&&e.va(`length string (${o}) is not valid number`);const m=yield e.Sa(d);return new jm(JSON.parse(m),t.length+d)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,we.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Sa(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const o=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class ry{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new M(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,we.Z)(function*(m,C){const P=Sn(m),Q=ru(P.M)+"/documents",ee={documents:C.map(rn=>Go(P.M,rn))},Ve=yield P._o("BatchGetDocuments",Q,ee),ot=new Map;Ve.forEach(rn=>{const an=function pl(i,e){return"found"in e?function(t,o){gr(!!o.found);const d=Ra(t,o.found.name),m=Bs(o.found.updateTime),C=new At({mapValue:{fields:o.found.fields}});return _n.newFoundDocument(d,m,C)}(i,e):"missing"in e?function(t,o){gr(!!o.missing),gr(!!o.readTime);const d=Ra(t,o.missing),m=Bs(o.readTime);return _n.newNoDocument(d,m)}(i,e):Ln()}(P.M,rn);ot.set(an.key.toString(),an)});const Ft=[];return C.forEach(rn=>{const an=ot.get(rn.toString());gr(!!an),Ft.push(an)}),Ft}),function(m,C){return d.apply(this,arguments)})(t.datastore,e);var d;return o.forEach(d=>t.recordVersion(d)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ha(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,d)=>{const m=bn.fromPath(d);e.mutations.push(new xl(m,e.precondition(m)))}),yield(o=(0,we.Z)(function*(d,m){const C=Sn(d),P=ru(C.M)+"/documents",Q={writes:m.map(ee=>Jo(C.M,ee))};yield C.co("Commit",P,Q)}),function(d,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ln();t=er.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new M(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ls.updateTime(t):Ls.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(er.min()))throw new M(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ls.updateTime(t)}return Ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iy{constructor(e,t,o,d,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=d,this.deferred=m,this.xa=o.maxAttempts,this.No=new Pf(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,we.Z)(function*(){const t=new ry(e.datastore),o=e.ka(t);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Ma(m)}))}).catch(d=>{e.Ma(d)})}))}ka(e){try{const t=this.updateFunction(e);return!To(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wd(t)}return!1}}class sy{constructor(e,t,o,d){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=d,this.user=ws.UNAUTHENTICATED,this.clientId=si.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var C=(0,we.Z)(function*(P){un("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(un("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new x;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const d=Vh(o,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function oy(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,we.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,we.Z)(function*(m){o.isEqual(m)||(yield Cg(e.localStore,m),o=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Gp.apply(this,arguments)}function ay(i,e){return qg.apply(this,arguments)}function qg(){return qg=(0,we.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield zp(i);un("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(d=>Um(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>Um(e.remoteStore,m)),i.onlineComponents=e}),qg.apply(this,arguments)}function zp(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,we.Z)(function*(i){return i.offlineComponents||(un("FirestoreClient","Using default OfflineComponentProvider"),yield oy(i,new Wd)),i.offlineComponents}),Yg.apply(this,arguments)}function Wp(i){return qp.apply(this,arguments)}function qp(){return qp=(0,we.Z)(function*(i){return i.onlineComponents||(un("FirestoreClient","Using default OnlineComponentProvider"),yield ay(i,new Hp)),i.onlineComponents}),qp.apply(this,arguments)}function ly(i){return zp(i).then(e=>e.persistence)}function Yp(i){return zp(i).then(e=>e.localStore)}function uy(i){return Wp(i).then(e=>e.remoteStore)}function Kg(i){return Wp(i).then(e=>e.syncEngine)}function qf(i){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,we.Z)(function*(i){const e=yield Wp(i),t=e.eventManager;return t.onListen=Ym.bind(null,e.syncEngine),t.onUnlisten=Wv.bind(null,e.syncEngine),t}),Zg.apply(this,arguments)}function E_(i,e,t={}){const o=new x;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(d,m,C,P,Q){const ee=new Wf({next:ot=>{m.enqueueAndForget(()=>Og(d,Ve));const Ft=ot.docs.has(C);!Ft&&ot.fromCache?Q.reject(new M(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&ot.fromCache&&P&&"server"===P.source?Q.reject(new M(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(ot)},error:ot=>Q.reject(ot)}),Ve=new Uf(Ha(C.path),ee,{includeMetadataChanges:!0,ku:!0});return Rg(d,Ve)}(yield qf(i),i.asyncQueue,e,t,o)})),o.promise}function b_(i,e,t={}){const o=new x;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(d,m,C,P,Q){const ee=new Wf({next:ot=>{m.enqueueAndForget(()=>Og(d,Ve)),ot.fromCache&&"server"===P.source?Q.reject(new M(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(ot)},error:ot=>Q.reject(ot)}),Ve=new Uf(C,ee,{includeMetadataChanges:!0,ku:!0});return Rg(d,Ve)}(yield qf(i),i.asyncQueue,e,t,o)})),o.promise}const qd=new Map;function Jg(i,e,t){if(!t)throw new M(Dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function em(i,e,t,o){if(!0===e&&!0===o)throw new M(Dt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function dy(i){if(!bn.isDocumentKey(i))throw new M(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tm(i){if(bn.isDocumentKey(i))throw new M(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Ln()}function Vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new M(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yd(i);throw new M(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function nm(i,e){if(e<=0)throw new M(Dt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class hy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1,e instanceof fo?this._databaseId=e:(this._app=e,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new M(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(d.options.projectId)}(e))}get app(){if(!this._app)throw new M(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U;switch(t.type){case"gapi":const o=t.client;return gr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Le(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new M(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qd.get(e);t&&(un("ComponentProvider","Removing Datastore"),qd.delete(e),t.terminate())}(this),Promise.resolve()}}class qs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qs(this.firestore,e,this._key)}}class ba{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class pu extends ba{constructor(e,t,o){super(e,t,Ha(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qs(this.firestore,null,new bn(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function fy(i,e,...t){if(i=(0,Xe.m9)(i),Jg("collection","path",e),i instanceof Yf){const o=oi.fromString(e,...t);return tm(o),new pu(i,null,o)}{if(!(i instanceof qs||i instanceof pu))throw new M(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(oi.fromString(e,...t));return tm(o),new pu(i.firestore,null,o)}}function Kf(i,e,...t){if(i=(0,Xe.m9)(i),1===arguments.length&&(e=si.R()),Jg("doc","path",e),i instanceof Yf){const o=oi.fromString(e,...t);return dy(o),new qs(i,null,new bn(o))}{if(!(i instanceof qs||i instanceof pu))throw new M(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(oi.fromString(e,...t));return dy(o),new qs(i.firestore,i instanceof pu?i.converter:null,new bn(o))}}function Kp(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),(i instanceof qs||i instanceof pu)&&(e instanceof qs||e instanceof pu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function D_(i,e){return i=(0,Xe.m9)(i),e=(0,Xe.m9)(e),i instanceof ba&&e instanceof ba&&i.firestore===e.firestore&&Ju(i._query,e._query)&&i.converter===e.converter}class rm{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Pf(this,"async_queue_retry"),this.Qa=()=>{const t=Fh();t&&un("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Fh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Fh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new x;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,we.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Pl(t))throw t;un("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=t,t}enqueueAfterDelay(e,t,o){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const d=Vf.createAndSchedule(this,e,t,o,m=>this.Ha(m));return this.La.push(d),d}ja(){this.Ua&&Ln()}verifyOperationInProgress(){}Ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function im(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(i)}class Xv{constructor(){this._progressObserver={},this._taskCompletionResolver=new x,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ys extends Yf{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new rm,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xf(this),this._firestoreClient.terminate()}}function Oo(i){return i._firestoreClient||Xf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xf(i){var e;const t=i._freezeSettings(),o=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Sa(i._databaseId,m,i._persistenceKey,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var m,P;i._firestoreClient=new sy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function T_(i,e,t){const o=new x;return i.asyncQueue.enqueue((0,we.Z)(function*(){try{yield oy(i,t),yield ay(i,e),o.resolve()}catch(d){if(!("FirebaseError"===(m=d).name?m.code===Dt.FAILED_PRECONDITION||m.code===Dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var m})).then(()=>o.promise)}function lm(i){if(i._initialized||i._terminated)throw new M(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(Cs.fromBase64String(e))}catch(t){throw new M(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zu(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(e){this._methodName=e}}class Qf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}const um=/^__.*__$/;class _y{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}class vy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ln()}}class Jf{constructor(e,t,o,d,m,C){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=d,void 0===m&&this.tc(),this.fieldTransforms=m||[],this.fieldMask=C||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.nc({path:o,ic:!1});return d.rc(e),d}oc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.nc({path:o,ic:!1});return d.tc(),d}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return tp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(cm(this.ec)&&um.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class dm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Xc(e)}lc(e,t,o,d=!1){return new Jf({ec:e,methodName:t,hc:o,path:ds.emptyPath(),ic:!1,cc:d},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function _c(i){const e=i._freezeSettings(),t=Xc(i._databaseId);return new dm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ep(i,e,t,o,d,m={}){const C=i.lc(m.merge||m.mergeFields?2:0,e,t,d);Io("Data must be an object, but it was:",C,o);const P=fm(o,C);let Q,ee;if(m.merge)Q=new Yl(C.fieldMask),ee=C.fieldTransforms;else if(m.mergeFields){const Ve=[];for(const ot of m.mergeFields){const Ft=tg(e,ot,t);if(!C.contains(Ft))throw new M(Dt.INVALID_ARGUMENT,`Field '${Ft}' is specified in your field mask but missing from your input data.`);Ty(Ve,Ft)||Ve.push(Ft)}Q=new Yl(Ve),ee=C.fieldTransforms.filter(ot=>Q.covers(ot.field))}else Q=null,ee=C.fieldTransforms;return new _y(new At(P),Q,ee)}class zh extends od{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function hm(i,e,t){return new Jf({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Jp extends od{_toFieldTransform(e){return new Al(e.path,new Cu)}isEqual(e){return e instanceof Jp}}class Ey extends od{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=hm(this,e,!0),o=this.fc.map(m=>Kd(m,t)),d=new Du(o);return new Al(e.path,d)}isEqual(e){return this===e}}class by extends od{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=hm(this,e,!0),o=this.fc.map(m=>Kd(m,t)),d=new Mo(o);return new Al(e.path,d)}isEqual(e){return this===e}}class wy extends od{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new $o(e.M,xc(e.M,this.dc));return new Al(e.path,t)}isEqual(e){return this===e}}function eg(i,e,t,o){const d=i.lc(1,e,t);Io("Data must be an object, but it was:",d,o);const m=[],C=At.empty();rl(o,(Q,ee)=>{const Ve=ng(e,Q,t);ee=(0,Xe.m9)(ee);const ot=d.oc(Ve);if(ee instanceof zh)m.push(Ve);else{const Ft=Kd(ee,ot);null!=Ft&&(m.push(Ve),C.set(Ve,Ft))}});const P=new Yl(m);return new vy(C,P,d.fieldTransforms)}function Iy(i,e,t,o,d,m){const C=i.lc(1,e,t),P=[tg(e,o,t)],Q=[d];if(m.length%2!=0)throw new M(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ft=0;Ft<m.length;Ft+=2)P.push(tg(e,m[Ft])),Q.push(m[Ft+1]);const ee=[],Ve=At.empty();for(let Ft=P.length-1;Ft>=0;--Ft)if(!Ty(ee,P[Ft])){const rn=P[Ft];let an=Q[Ft];an=(0,Xe.m9)(an);const Vn=C.oc(rn);if(an instanceof zh)ee.push(rn);else{const zr=Kd(an,Vn);null!=zr&&(ee.push(rn),Ve.set(rn,zr))}}const ot=new Yl(ee);return new vy(Ve,ot,C.fieldTransforms)}function Cy(i,e,t,o=!1){return Kd(t,i.lc(o?4:3,e))}function Kd(i,e){if(Dy(i=(0,Xe.m9)(i)))return Io("Unsupported field value:",e,i),fm(i,e);if(i instanceof od)return function(t,o){if(!cm(o.ec))throw o.ac(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,o){const d=[];let m=0;for(const C of t){let P=Kd(C,o.uc(m));null==P&&(P={nullValue:"NULL_VALUE"}),d.push(P),m++}return{arrayValue:{values:d}}}(i,e)}return function(t,o){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xc(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=cs.fromDate(t);return{timestampValue:Ou(o.M,d)}}if(t instanceof cs){const d=new cs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ou(o.M,d)}}if(t instanceof Qf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zu)return{bytesValue:kc(o.M,t._byteString)};if(t instanceof qs){const d=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(d))throw o.ac(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Pu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ac(`Unsupported field value: ${Yd(t)}`)}(i,e)}function fm(i,e){const t={};return dd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(i,(o,d)=>{const m=Kd(d,e.sc(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function Dy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof cs||i instanceof Qf||i instanceof zu||i instanceof qs||i instanceof od)}function Io(i,e,t){if(!Dy(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Yd(t);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function tg(i,e,t){if((e=(0,Xe.m9)(e))instanceof gu)return e._internalPath;if("string"==typeof e)return ng(i,e);throw tp("Field path arguments must be of type string or ",i,!1,void 0,t)}const x_=new RegExp("[~\\*/\\[\\]]");function ng(i,e,t){if(e.search(x_)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gu(...e.split("."))._internalPath}catch(o){throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function tp(i,e,t,o,d){const m=o&&!o.isEmpty(),C=void 0!==d;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let Q="";return(m||C)&&(Q+=" (found",m&&(Q+=` in field ${o}`),C&&(Q+=` in document ${d}`),Q+=")"),new M(Dt.INVALID_ARGUMENT,P+i+Q)}function Ty(i,e){return i.some(t=>t.isEqual(e))}class Wh{constructor(e,t,o,d,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new qs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sy extends Wh{data(){return super.data()}}function vc(i,e){return"string"==typeof e?ng(i,e):e instanceof gu?e._internalPath:e._delegate._internalPath}class Zd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ec extends Wh{constructor(e,t,o,d,m,C){super(e,t,o,d,C),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(vc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class qh extends Ec{data(e={}){return super.data(e)}}class ad{constructor(e,t,o,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Zd(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new qh(this._firestore,this._userDataWriter,o.key,o,new Zd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(C=>({type:"added",doc:new qh(o._firestore,o._userDataWriter,C.doc.key,C.doc,new Zd(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(C=>d||3!==C.type).map(C=>{const P=new qh(o._firestore,o._userDataWriter,C.doc.key,C.doc,new Zd(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter);let Q=-1,ee=-1;return 0!==C.type&&(Q=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),ee=m.indexOf(C.doc.key)),{type:Ay(C.type),doc:P,oldIndex:Q,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ay(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ln()}}function M_(i,e){return i instanceof Ec&&e instanceof Ec?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ad&&e instanceof ad&&i._firestore===e._firestore&&D_(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function pm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new M(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xd{}function pa(i,...e){for(const t of e)i=t._apply(i);return i}class R_ extends Xd{constructor(e,t,o){super(),this._c=e,this.wc=t,this.mc=o,this.type="where"}_apply(e){const t=_c(e.firestore),o=function(d,m,C,P,Q,ee,Ve){let ot;if(Q.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new M(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){ky(Ve,ee);const rn=[];for(const an of Ve)rn.push(mm(P,d,an));ot={arrayValue:{values:rn}}}else ot=mm(P,d,Ve)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||ky(Ve,ee),ot=Cy(C,"where",Ve,"in"===ee||"not-in"===ee);const Ft=zs.create(Q,ee,ot);return function(rn,an){if(an.S()){const zr=Qu(rn);if(null!==zr&&!zr.isEqual(an.field))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${zr.toString()}' and '${an.field.toString()}'`);const Ks=Xu(rn);null!==Ks&&ym(0,an.field,Ks)}const Vn=function(zr,Ks){for(const po of zr.filters)if(Ks.indexOf(po.op)>=0)return po.op;return null}(rn,function(zr){switch(zr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(an.op));if(null!==Vn)throw new M(Dt.INVALID_ARGUMENT,Vn===an.op?`Invalid query. You cannot use more than one '${an.op.toString()}' filter.`:`Invalid query. You cannot use '${an.op.toString()}' filters with '${Vn.toString()}' filters.`)}(d,Ft),Ft}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ba(e.firestore,e.converter,function(d,m){const C=d.filters.concat([m]);return new cl(d.path,d.collectionGroup,d.explicitOrderBy.slice(),C,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,o))}}class Wu extends Xd{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(o,d,m){if(null!==o.startAt)throw new M(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new M(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Tl(d,m);return function(P,Q){if(null===Xu(P)){const ee=Qu(P);null!==ee&&ym(0,ee,Q.field)}}(o,C),C}(e._query,this._c,this.gc);return new ba(e.firestore,e.converter,function(o,d){const m=o.explicitOrderBy.concat([d]);return new cl(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class zl extends Xd{constructor(e,t,o){super(),this.type=e,this.yc=t,this.Ic=o}_apply(e){return new ba(e.firestore,e.converter,Ac(e._query,this.yc,this.Ic))}}class Ry extends Xd{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=Py(e,this.type,this.Tc,this.Ec);return new ba(e.firestore,e.converter,(d=t,new cl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}class Oy extends Xd{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=Py(e,this.type,this.Tc,this.Ec);return new ba(e.firestore,e.converter,(d=t,new cl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function Py(i,e,t,o){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof Wh)return function(d,m,C,P,Q){if(!P)throw new M(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ee=[];for(const Ve of wu(d))if(Ve.field.isKeyField())ee.push(Vo(m,P.key));else{const ot=P.data.field(Ve.field);if(sl(ot))throw new M(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Ft=Ve.field.canonicalString();throw new M(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}ee.push(ot)}return new xa(ee,Q)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const d=_c(i.firestore);return function(m,C,P,Q,ee,Ve){const ot=m.explicitOrderBy;if(ee.length>ot.length)throw new M(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let rn=0;rn<ee.length;rn++){const an=ee[rn];if(ot[rn].field.isKeyField()){if("string"!=typeof an)throw new M(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof an}`);if(!Sc(m)&&-1!==an.indexOf("/"))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${an}' contains a slash.`);const Vn=m.path.child(oi.fromString(an));if(!bn.isDocumentKey(Vn))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const zr=new bn(Vn);Ft.push(Vo(C,zr))}else{const Vn=Cy(P,Q,an);Ft.push(Vn)}}return new xa(Ft,Ve)}(i._query,i.firestore._databaseId,d,e,t,o)}}function mm(i,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new M(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sc(e)&&-1!==t.indexOf("/"))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(oi.fromString(t));if(!bn.isDocumentKey(o))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Vo(i,new bn(o))}if(t instanceof qs)return Vo(i,t._key);throw new M(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(t)}.`)}function ky(i,e){if(!Array.isArray(i)||0===i.length)throw new M(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new M(Dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ym(i,e,t){if(!t.isEqual(e))throw new M(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Ny={maxAttempts:5};class Yh{convertValue(e,t="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ln()}}convertObject(e,t){const o={};return rl(e.fields,(d,m)=>{o[d]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Qf(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=uo(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const t=Do(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=oi.fromString(e);gr(pe(o));const d=new fo(o.get(1),o.get(3)),m=new bn(o.popFirst(5));return d.isEqual(t)||Hi(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function rg(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Fy extends Yh{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,t)}}class _m{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,t,o){this._verifyNotCommitted();const d=qu(e,this._firestore),m=rg(d.converter,t,o),C=ep(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,o);return this._mutations.push(C.toMutation(d._key,Ls.none())),this}update(e,t,o,...d){this._verifyNotCommitted();const m=qu(e,this._firestore);let C;return C="string"==typeof(t=(0,Xe.m9)(t))||t instanceof gu?Iy(this._dataReader,"WriteBatch.update",m._key,t,o,d):eg(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(C.toMutation(m._key,Ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qu(e,this._firestore);return this._mutations=this._mutations.concat(new ha(t._key,Ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qu(i,e){if((i=(0,Xe.m9)(i)).firestore!==e)throw new M(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ld extends Yh{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,t)}}function vm(i,e,t){i=Vi(i,qs);const o=Vi(i.firestore,Ys),d=rg(i.converter,e,t);return Kh(o,[ep(_c(o),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,Ls.none())])}function Em(i,e,t,...o){i=Vi(i,qs);const d=Vi(i.firestore,Ys),m=_c(d);let C;return C="string"==typeof(e=(0,Xe.m9)(e))||e instanceof gu?Iy(m,"updateDoc",i._key,e,t,o):eg(m,"updateDoc",i._key,e),Kh(d,[C.toMutation(i._key,Ls.exists(!0))])}function jy(i,...e){var t,o,d;i=(0,Xe.m9)(i);let m={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||im(e[C])||(m=e[C],C++);const P={includeMetadataChanges:m.includeMetadataChanges};if(im(e[C])){const ot=e[C];e[C]=null===(t=ot.next)||void 0===t?void 0:t.bind(ot),e[C+1]=null===(o=ot.error)||void 0===o?void 0:o.bind(ot),e[C+2]=null===(d=ot.complete)||void 0===d?void 0:d.bind(ot)}let Q,ee,Ve;if(i instanceof qs)ee=Vi(i.firestore,Ys),Ve=Ha(i._key.path),Q={next:ot=>{e[C]&&e[C](bm(ee,i,ot))},error:e[C+1],complete:e[C+2]};else{const ot=Vi(i,ba);ee=Vi(ot.firestore,Ys),Ve=ot._query;const Ft=new ld(ee);Q={next:rn=>{e[C]&&e[C](new ad(ee,Ft,ot,rn))},error:e[C+1],complete:e[C+2]},pm(i._query)}return function(ot,Ft,rn,an){const Vn=new Wf(an),zr=new Uf(Ft,Vn,rn);return ot.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Rg(yield qf(ot),zr)})),()=>{Vn.Aa(),ot.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Og(yield qf(ot),zr)}))}}(Oo(ee),Ve,P,Q)}function Kh(i,e){return function(t,o){const d=new x;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function g_(i,e,t){return Bp.apply(this,arguments)}(yield Kg(t),o,d)})),d.promise}(Oo(i),e)}function bm(i,e,t){const o=t.docs.get(e._key),d=new ld(i);return new Ec(i,d,e._key,o,new Zd(t.hasPendingWrites,t.fromCache),e.converter)}class B_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_c(e)}get(e){const t=qu(e,this._firestore),o=new Fy(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return Ln();const m=d[0];if(m.isFoundDocument())return new Wh(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new Wh(this._firestore,o,t._key,null,t.converter);throw Ln()})}set(e,t,o){const d=qu(e,this._firestore),m=rg(d.converter,t,o),C=ep(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,o);return this._transaction.set(d._key,C),this}update(e,t,o,...d){const m=qu(e,this._firestore);let C;return C="string"==typeof(t=(0,Xe.m9)(t))||t instanceof gu?Iy(this._dataReader,"Transaction.update",m._key,t,o,d):eg(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,C),this}delete(e){const t=qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qu(e,this._firestore),o=new ld(this._firestore);return super.get(e).then(d=>new Ec(this._firestore,o,t._key,d._document,new Zd(!1,!1),t.converter))}}function sg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new M("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function wm(){if("undefined"==typeof Uint8Array)throw new M("unimplemented","Uint8Arrays are not available in this environment.")}function Im(){if(!function il(){return"undefined"!=typeof atob}())throw new M("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ua=lt.SDK_VERSION,(0,lt._registerComponent)(new It.wA("firestore",(t,{options:o})=>{const d=t.getProvider("app").getImmediate(),m=new Ys(d,new ae(t.getProvider("auth-internal")),new Mn(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),m._setSettings(o),m},"PUBLIC")),(0,lt.registerVersion)(Js,"3.4.9",i),(0,lt.registerVersion)(Js,"3.4.9","esm2017")}();class Zh{constructor(e){this._delegate=e}static fromBase64String(e){return Im(),new Zh(zu.fromBase64String(e))}static fromUint8Array(e){return wm(),new Zh(zu.fromUint8Array(e))}toBase64(){return Im(),this._delegate.toBase64()}toUint8Array(){return wm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function og(i){return function Gy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class zy{enableIndexedDbPersistence(e,t){return function Zp(i,e){lm(i=Vi(i,Ys));const t=Oo(i),o=i._freezeSettings(),d=new Hp;return T_(t,d,new zg(d,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function sm(i){lm(i=Vi(i,Ys));const e=Oo(i),t=i._freezeSettings(),o=new Hp;return T_(e,o,new ty(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S_(i){if(i._initialized&&!i._terminated)throw new M(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new x;return i._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(o){if(!Ka.vt())return Promise.resolve();const d=o+"main";yield Ka.delete(d)}),function(o){return t.apply(this,arguments)})(Bd(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Cm{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof fo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function C_(i,e,t,o={}){var d;const m=(i=Vi(i,Yf))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Gs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let C,P;if("string"==typeof o.mockUserToken)C=o.mockUserToken,P=ws.MOCK_USER;else{C=(0,Xe.Sg)(o.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const Q=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Q)throw new M(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ws(Q)}i._authCredentials=new q(new S(C,P))}}(this._delegate,e,t,o)}enableNetwork(){return function Qp(i){return function Xg(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield ly(i),t=yield uy(i);return e.setNetworkEnabled(!0),function(o){const d=Sn(o);return d.wu.delete(0),$d(d)}(t)}))}(Oo(i=Vi(i,Ys)))}(this._delegate)}disableNetwork(){return function om(i){return function Qg(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield ly(i),t=yield uy(i);return e.setNetworkEnabled(!1),(o=(0,we.Z)(function*(d){const m=Sn(d);m.wu.add(0),yield jd(m),m.yu.set("Offline")}),function(d){return o.apply(this,arguments)})(t);var o}))}(Oo(i=Vi(i,Ys)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,em("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xp(i){return function(e){const t=new x;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Yv(i,e){return Up.apply(this,arguments)}(yield Kg(e),t)})),t.promise}(Oo(i=Vi(i,Ys)))}(this._delegate)}onSnapshotsInSync(e){return function L_(i,e){return function w_(i,e){const t=new Wf(e);return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return o=yield qf(i),d=t,Sn(o).bu.add(d),void d.next();var o,d})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return o=yield qf(i),d=t,void Sn(o).bu.delete(d);var o,d}))}}(Oo(i=Vi(i,Ys)),im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new M("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qh(this,fy(this._delegate,e))}catch(t){throw Po(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wl(this,Kf(this._delegate,e))}catch(t){throw Po(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wa(this,function py(i,e){if(i=Vi(i,Yf),Jg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new M(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ba(i,null,(t=e,new cl(oi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Po(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function V_(i,e,t){i=Vi(i,Ys);const o=Object.assign(Object.assign({},Ny),t);return function(d){if(d.maxAttempts<1)throw new M(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function cy(i,e,t){const o=new x;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const d=yield(m=i,Wp(m).then(C=>C.datastore));var m;new iy(i.asyncQueue,d,t,e,o).run()})),o.promise}(Oo(i),d=>e(new B_(i,d)),o)}(this._delegate,t=>e(new Dm(this,t)))}batch(){return Oo(this._delegate),new ud(new _m(this._delegate,e=>Kh(this._delegate,e)))}loadBundle(e){return function am(i,e){const t=Oo(i=Vi(i,Ys)),o=new Xv;return function Zv(i,e,t,o){const d=function(m,C){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,Q=function(Q,ee){if(Q instanceof Uint8Array)return Wg(Q,void 0);if(Q instanceof ArrayBuffer)return Wg(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new ny(Q,C);var Q}(t,Xc(e));i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function Gh(i,e,t){const o=Sn(i);var d;(d=(0,we.Z)(function*(m,C,P){try{const Q=yield C.getMetadata();if(yield function(Ft,rn){const an=Sn(Ft),Vn=Bs(rn.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",zr=>an._s.getBundleMetadata(zr,rn.id)).then(zr=>!!zr&&zr.createTime.compareTo(Vn)>=0)}(m.localStore,Q))return yield C.close(),P._completeWith({taskState:"Success",documentsLoaded:(Ft=Q).totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}),Promise.resolve(new Set);P._updateProgress(Ng(Q));const ee=new Hm(Q,m.localStore,C.M);let Ve=yield C.ma();for(;Ve;){const Ft=yield ee.Fu(Ve);Ft&&P._updateProgress(Ft),Ve=yield C.ma()}const ot=yield ee.complete();return yield mc(m,ot.Lu,void 0),yield function(Ft,rn){const an=Sn(Ft);return an.persistence.runTransaction("Save bundle","readwrite",Vn=>an._s.saveBundleMetadata(Vn,rn))}(m.localStore,Q),P._completeWith(ot.progress),Promise.resolve(ot.Bu)}catch(Q){return Gs("SyncEngine",`Loading bundle failed with ${Q}`),P._failWith(Q),Promise.resolve(new Set)}var Ft}),function(m,C,P){return d.apply(this,arguments)})(o,e,t).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield Kg(i),d,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function yy(i,e){return function I_(i,e){return i.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,o){const d=Sn(t);return d.persistence.runTransaction("Get named query","readonly",m=>d._s.getNamedQuery(m,o))}(yield Yp(i),e)}))}(Oo(i=Vi(i,Ys)),e).then(t=>t?new ba(i,null,t.query):null)}(this._delegate,e).then(t=>t?new wa(this,t):null)}}class rp extends Yh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zh(new zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wl.forKey(t,this.firestore,null)}}class Dm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}get(e){const t=Jd(e);return this._delegate.get(t).then(o=>new lg(this._firestore,new Ec(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const d=Jd(e);return o?(sg("Transaction.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const m=Jd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...d),this}delete(e){const t=Jd(e);return this._delegate.delete(t),this}}class ud{constructor(e){this._delegate=e}set(e,t,o){const d=Jd(e);return o?(sg("WriteBatch.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const m=Jd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...d),this}delete(e){const t=Jd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qd{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Qd.INSTANCES;let d=o.get(e);d||(d=new WeakMap,o.set(e,d));let m=d.get(t);return m||(m=new Qd(e,new rp(e),t),d.set(t,m)),m}}Qd.INSTANCES=new WeakMap;class Wl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}static forPath(e,t,o){if(e.length%2!=0)throw new M("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wl(t,new qs(t._delegate,o,new bn(e)))}static forKey(e,t,o){return new Wl(t,new qs(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Qh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qh(this.firestore,fy(this._delegate,e))}catch(t){throw Po(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof qs&&Kp(this._delegate,e)}set(e,t){t=sg("DocumentReference.set",t);try{return t?vm(this._delegate,e,t):vm(this._delegate,e)}catch(o){throw Po(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Em(this._delegate,e):Em(this._delegate,e,t,...o)}catch(d){throw Po(d,"updateDoc()","DocumentReference.update()")}}delete(){return function N_(i){return Kh(Vi(i.firestore,Ys),[new ha(i._key,Ls.none())])}(this._delegate)}onSnapshot(...e){const t=q_(e),o=ag(e,d=>new lg(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return jy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ly(i){i=Vi(i,qs);const e=Vi(i.firestore,Ys),t=Oo(e),o=new ld(e);return function v_(i,e){const t=new x;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(o=(0,we.Z)(function*(d,m,C){try{const P=yield function(Q,ee){const Ve=Sn(Q);return Ve.persistence.runTransaction("read document","readonly",ot=>Ve.fi.Ls(ot,ee))}(d,m);P.isFoundDocument()?C.resolve(P):P.isNoDocument()?C.resolve(null):C.reject(new M(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const Q=Vh(P,`Failed to get document '${m} from cache`);C.reject(Q)}}),function(d,m,C){return o.apply(this,arguments)})(yield Yp(i),e,t);var o})),t.promise}(t,i._key).then(d=>new Ec(e,o,i._key,d,new Zd(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function By(i){i=Vi(i,qs);const e=Vi(i.firestore,Ys);return E_(Oo(e),i._key,{source:"server"}).then(t=>bm(e,i,t))}(this._delegate):function ig(i){i=Vi(i,qs);const e=Vi(i.firestore,Ys);return E_(Oo(e),i._key).then(t=>bm(e,i,t))}(this._delegate),t.then(o=>new lg(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Wl(this.firestore,this._delegate.withConverter(e?Qd.getInstance(this.firestore,e):null))}}function Po(i,e,t){return i.message=i.message.replace(e,t),i}function q_(i){for(const e of i)if("object"==typeof e&&!og(e))return e;return{}}function ag(i,e){var t,o;let d;return d=og(i[0])?i[0]:og(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{d.next&&d.next(e(m))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(o=d.complete)||void 0===o?void 0:o.bind(d)}}class lg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return M_(this._delegate,e._delegate)}}class Xh extends lg{data(e){const t=this._delegate.data(e);return function Ta(i,e){i||Ln()}(void 0!==t),t}}class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}where(e,t,o){try{return new wa(this.firestore,pa(this._delegate,function O_(i,e,t){const o=e,d=vc("where",i);return new R_(d,o,t)}(e,t,o)))}catch(d){throw Po(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wa(this.firestore,pa(this._delegate,function mu(i,e="asc"){const t=e,o=vc("orderBy",i);return new Wu(o,t)}(e,t)))}catch(o){throw Po(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wa(this.firestore,pa(this._delegate,function xy(i){return nm("limit",i),new zl("limit",i,"F")}(e)))}catch(t){throw Po(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wa(this.firestore,pa(this._delegate,function My(i){return nm("limitToLast",i),new zl("limitToLast",i,"L")}(e)))}catch(t){throw Po(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wa(this.firestore,pa(this._delegate,function P_(...i){return new Ry("startAt",i,!0)}(...e)))}catch(t){throw Po(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wa(this.firestore,pa(this._delegate,function k_(...i){return new Ry("startAfter",i,!1)}(...e)))}catch(t){throw Po(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wa(this.firestore,pa(this._delegate,function gm(...i){return new Oy("endBefore",i,!1)}(...e)))}catch(t){throw Po(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wa(this.firestore,pa(this._delegate,function np(...i){return new Oy("endAt",i,!0)}(...e)))}catch(t){throw Po(t,"endAt()","Query.endAt()")}}isEqual(e){return D_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Uy(i){i=Vi(i,ba);const e=Vi(i.firestore,Ys),t=Oo(e),o=new ld(e);return function Kv(i,e){const t=new x;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(o=(0,we.Z)(function*(d,m,C){try{const P=yield hu(d,m,!0),Q=new Wm(m,P._i),ee=Q.Wu(P.documents),Ve=Q.applyChanges(ee,!1);C.resolve(Ve.snapshot)}catch(P){const Q=Vh(P,`Failed to execute query '${m} against cache`);C.reject(Q)}}),function(d,m,C){return o.apply(this,arguments)})(yield Yp(i),e,t);var o})),t.promise}(t,i._query).then(d=>new ad(e,o,i,d))}(this._delegate):"server"===(null==e?void 0:e.source)?function $y(i){i=Vi(i,ba);const e=Vi(i.firestore,Ys),t=Oo(e),o=new ld(e);return b_(t,i._query,{source:"server"}).then(d=>new ad(e,o,i,d))}(this._delegate):function Vy(i){i=Vi(i,ba);const e=Vi(i.firestore,Ys),t=Oo(e),o=new ld(e);return pm(i._query),b_(t,i._query).then(d=>new ad(e,o,i,d))}(this._delegate),t.then(o=>new xr(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=q_(e),o=ag(e,d=>new xr(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return jy(this._delegate,t,o)}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Qd.getInstance(this.firestore,e):null))}}class t0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xr{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new t0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Xh(this._firestore,o))})}isEqual(e){return M_(this._delegate,e._delegate)}}class Qh extends wa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wl(this.firestore,e):null}doc(e){try{return new Wl(this.firestore,void 0===e?Kf(this._delegate):Kf(this._delegate,e))}catch(t){throw Po(t,"doc()","CollectionReference.doc()")}}add(e){return function F_(i,e){const t=Vi(i.firestore,Ys),o=Kf(i),d=rg(i.converter,e);return Kh(t,[ep(_c(i.firestore),"addDoc",o._key,d,null!==i.converter,{}).toMutation(o._key,Ls.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Wl(this.firestore,t))}isEqual(e){return Kp(this._delegate,e._delegate)}withConverter(e){return new Qh(this.firestore,this._delegate.withConverter(e?Qd.getInstance(this.firestore,e):null))}}function Jd(i){return Vi(i,qs)}class Tm{constructor(...e){this._delegate=new gu(...e)}static documentId(){return new Tm(ds.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof gu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $_(){return new Jp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yu(e)}static delete(){const e=function U_(){return new zh("deleteField")}();return e._methodName="FieldValue.delete",new Yu(e)}static arrayUnion(...e){const t=function j_(...i){return new Ey("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Yu(t)}static arrayRemove(...e){const t=function H_(...i){return new by("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Yu(t)}static increment(e){const t=function G_(i){return new wy("increment",i)}(e);return t._methodName="FieldValue.increment",new Yu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Y_={Firestore:Cm,GeoPoint:Qf,Timestamp:cs,Blob:Zh,Transaction:Dm,WriteBatch:ud,DocumentReference:Wl,DocumentSnapshot:lg,Query:wa,QueryDocumentSnapshot:Xh,QuerySnapshot:xr,CollectionReference:Qh,FieldPath:Tm,FieldValue:Yu,setLogLevel:function Wy(i){!function ca(i){Ko.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function cg(i){(function ug(i,e){i.INTERNAL.registerComponent(new It.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(o,d)},"PUBLIC").setServiceProps(Object.assign({},Y_)))})(i,(e,t)=>new Cm(e,t,new zy)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(gt.Z);var vs=B(4941),n0=B(440),qy=B(127);function Yy(i,e){return function K_(i,e=te.z){return new X.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function dg(i,e){return Yy(i,e).pipe((0,re.U)(t=>({payload:t,type:"query"})))}function ip(i,e){return dg(i,e).pipe((0,ve.O)(void 0),De(),(0,re.U)(([t,o])=>{const d=o.payload.docChanges(),m=d.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((C,P)=>{const Q=d.find(Ve=>Ve.doc.ref.isEqual(C.ref)),ee=null==t?void 0:t.payload.docs.find(Ve=>Ve.ref.isEqual(C.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(C.metadata)||!Q&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(C.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:C}})}),m}))}function Sm(i,e,t){return ip(i,t).pipe((0,fe.R)((o,d)=>function Z_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function X_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Am(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Am(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Am(i,e.oldIndex,1)}return i}(i,o))}),i}(o,d.map(m=>m.payload),e),[]),(0,Ye.x)(),(0,re.U)(o=>o.map(d=>({type:d.type,payload:d}))))}function Am(i,e,t,...o){const d=i.slice();return d.splice(e,t,...o),d}function Jh(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Zy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=ip(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,re.U)(o=>o.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,ve.O)(void 0),De(),(0,Ue.h)(([o,d])=>d.length>0||!o),(0,re.U)(([o,d])=>d),ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Jh(e);return Sm(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return dg(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ue.iC)}get(e){return(0,ze.D)(this.query.get(e)).pipe(ue.iC)}add(e){return this.ref.add(e)}doc(e){return new Xy(this.ref.doc(e),this.afs)}}class Xy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:d,query:m}=e_(o,t);return new Zy(d,m,this.afs)}snapshotChanges(){return function Ky(i,e){return Yy(i,e).pipe((0,ve.O)(void 0),De(),(0,re.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,re.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ze.D)(this.ref.get(e)).pipe(ue.iC)}}class Q_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ue.h)(t=>t.length>0),ue.iC):ip(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Jh(e);return Sm(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return dg(this.query,this.afs.schedulers.outsideAngular).pipe((0,re.U)(o=>o.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),ue.iC)}get(e){return(0,ze.D)(this.query.get(e)).pipe(ue.iC)}}const sp=new u.OlP("angularfire2.enableFirestorePersistence"),xm=new u.OlP("angularfire2.firestore.persistenceSettings"),Qy=new u.OlP("angularfire2.firestore.settings"),Jy=new u.OlP("angularfire2.firestore.use-emulator");function e_(i,e=(t=>t)){return{query:e(i),ref:i}}let ef=(()=>{class i{constructor(t,o,d,m,C,P,Q,ee,Ve,ot,Ft,rn,an,Vn,zr,Ks,po){this.schedulers=Q;const Qi=(0,Ee.on)(t,P,o),ko=Ve;ot&&(0,vs.nw)(Qi,P,Ft,an,Vn,zr,rn,Ks),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${Qi.name}.firestore`,"AngularFirestore",Qi.name,()=>{const Zs=P.runOutsideAngular(()=>Qi.firestore());if(m&&Zs.settings(m),ko&&Zs.useEmulator(...ko),d&&!(0,Fe.PM)(C)){const co=()=>{try{return(0,ze.D)(Zs.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Ia){return"undefined"!=typeof console&&console.warn(Ia),(0,Be.of)(!1)}};return[Zs,P.runOutsideAngular(co)]}return[Zs,(0,Be.of)(!1)]},[m,ko,d])}collection(t,o){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:C}=e_(d,o),P=this.schedulers.ngZone.run(()=>m);return new Zy(P,C,this)}collectionGroup(t,o){const d=o||(C=>C),m=this.firestore.collectionGroup(t);return new Q_(d(m),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>o);return new Xy(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(Ee.Dh),u.LFG(Ee.xv,8),u.LFG(sp,8),u.LFG(Qy,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ue.HU),u.LFG(xm,8),u.LFG(Jy,8),u.LFG(vs.zQ,8),u.LFG(vs.Qv,8),u.LFG(vs.L6,8),u.LFG(vs._Q,8),u.LFG(vs.rT,8),u.LFG(vs.lh,8),u.LFG(vs.f7,8),u.LFG(n0.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),op=(()=>{class i{constructor(){qy.Z.registerVersion("angularfire",ue.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:sp,useValue:!0},{provide:xm,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[ef]}),i})()},4586:(nn,dt,B)=>{"use strict";B.d(dt,{Q1:()=>Lt,TE:()=>b});var u=B(2916),te=B(1086),X=B(5254),ze=B(3489),Be=B(353);class xe{constructor(D,Y){this.dueTime=D,this.scheduler=Y}call(D,Y){return Y.subscribe(new De(D,this.dueTime,this.scheduler))}}class De extends ze.L{constructor(D,Y,ge){super(D),this.dueTime=Y,this.scheduler=ge,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(D){this.clearDebounce(),this.lastValue=D,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ie,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:D}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(D)}}clearDebounce(){const D=this.debouncedSubscription;null!==D&&(this.remove(D),D.unsubscribe(),this.debouncedSubscription=null)}}function Ie(v){v.debouncedNext()}var ce=B(4850),ve=B(7545),re=B(6351),fe=B(5e3),Ye=B(2011),Ue=B(3942),Ee=B(5861),Fe=B(9681),je=B(2090),gt=B(4859);const we="firebasestorage.googleapis.com",lt="storageBucket";class Xe extends je.ZR{constructor(D,Y){super(bt(D),`Firebase Storage: ${Y} (${bt(D)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}_codeEquals(D){return bt(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function bt(v){return"storage/"+v}function ye(){return new Xe("unknown","An unknown error occurred, please check the error payload for server response.")}function St(){return new Xe("canceled","User canceled the upload/download.")}function qe(){return new Xe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Te(v){return new Xe("invalid-argument",v)}function et(){return new Xe("app-deleted","The Firebase app was deleted.")}function jt(v){return new Xe("invalid-root-operation","The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Et(v,D){return new Xe("invalid-format","String does not match format '"+v+"': "+D)}function en(v){throw new Xe("internal-error","Internal error: "+v)}class pn{constructor(D,Y){this.bucket=D,this.path_=Y}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,Y){let ge;try{ge=pn.makeFromUrl(D,Y)}catch(ke){return new pn(D,"")}if(""===ge.path)return ge;throw function pt(v){return new Xe("invalid-default-bucket","Invalid default bucket '"+v+"'.")}(D)}static makeFromUrl(D,Y){let ge=null;const ke="([A-Za-z0-9.\\-_]+)",En=new RegExp("^gs://"+ke+"(/(.*))?$","i");function Hn(is){is.path_=decodeURIComponent(is.path)}const cr=Y.replace(/[.]/g,"\\."),rs=[{regex:En,indices:{bucket:1,path:3},postModify:function ht(is){"/"===is.path.charAt(is.path.length-1)&&(is.path_=is.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${cr}/v[A-Za-z0-9_]+/b/${ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Hn},{regex:new RegExp(`^https?://${Y===we?"(?:storage.googleapis.com|storage.cloud.google.com)":Y}/${ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Hn}];for(let is=0;is<rs.length;is++){const yo=rs[is],_o=yo.regex.exec(D);if(_o){let ta=_o[yo.indices.path];ta||(ta=""),ge=new pn(_o[yo.indices.bucket],ta),yo.postModify(ge);break}}if(null==ge)throw function Wt(v){return new Xe("invalid-url","Invalid URL '"+v+"'.")}(D);return ge}}class Rn{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function zn(v){return"string"==typeof v||v instanceof String}function tn(v){return Mr()&&v instanceof Blob}function Mr(){return"undefined"!=typeof Blob}function ur(v,D,Y,ge){if(ge<D)throw Te(`Invalid value for '${v}'. Expected ${D} or greater.`);if(ge>Y)throw Te(`Invalid value for '${v}'. Expected ${Y} or less.`)}function ar(v,D,Y){let ge=D;return null==Y&&(ge=`https://${D}`),`${Y}://${ge}/v0${v}`}function Qn(v){const D=encodeURIComponent;let Y="?";for(const ge in v)v.hasOwnProperty(ge)&&(Y=Y+(D(ge)+"=")+D(v[ge])+"&");return Y=Y.slice(0,-1),Y}var mr=(()=>{return(v=mr||(mr={}))[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",mr;var v})();class yt{constructor(D,Y,ge,ke,ht,Ut,En,fn,Hn,tr,cr){this.url_=D,this.method_=Y,this.headers_=ge,this.body_=ke,this.successCodes_=ht,this.additionalRetryCodes_=Ut,this.callback_=En,this.errorCallback_=fn,this.timeout_=Hn,this.progressCallback_=tr,this.connectionFactory_=cr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_r,xi)=>{this.resolve_=_r,this.reject_=xi,this.start_()})}start_(){const Y=(ge,ke)=>{const ht=this.resolve_,Ut=this.reject_,En=ke.connection;if(ke.wasSuccessCode)try{const fn=this.callback_(En,En.getResponse());!function Wn(v){return void 0!==v}(fn)?ht():ht(fn)}catch(fn){Ut(fn)}else if(null!==En){const fn=ye();fn.serverResponse=En.getErrorText(),Ut(this.errorCallback_?this.errorCallback_(En,fn):fn)}else Ut(ke.canceled?this.appDelete_?et():St():function Je(){return new Xe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?Y(0,new Ke(!1,null,!0)):this.backoffId_=function gn(v,D,Y){let ge=1,ke=null,ht=null,Ut=!1,En=0;function fn(){return 2===En}let Hn=!1;function tr(...Ti){Hn||(Hn=!0,D.apply(null,Ti))}function cr(Ti){ke=setTimeout(()=>{ke=null,v(xi,fn())},Ti)}function _r(){ht&&clearTimeout(ht)}function xi(Ti,...so){if(Hn)return void _r();if(Ti)return _r(),void tr.call(null,Ti,...so);if(fn()||Ut)return _r(),void tr.call(null,Ti,...so);let rs;ge<64&&(ge*=2),1===En?(En=2,rs=0):rs=1e3*(ge+Math.random()),cr(rs)}let bi=!1;function Ni(Ti){bi||(bi=!0,_r(),!Hn&&(null!==ke?(Ti||(En=2),clearTimeout(ke),cr(0)):Ti||(En=1)))}return cr(0),ht=setTimeout(()=>{Ut=!0,Ni(!0)},Y),Ni}((ge,ke)=>{if(ke)return void ge(!1,new Ke(!1,null,!0));const ht=this.connectionFactory_();this.pendingConnection_=ht;const Ut=En=>{null!==this.progressCallback_&&this.progressCallback_(En.loaded,En.lengthComputable?En.total:-1)};null!==this.progressCallback_&&ht.addUploadProgressListener(Ut),ht.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ht.removeUploadProgressListener(Ut),this.pendingConnection_=null;const En=ht.getErrorCode()===mr.NO_ERROR,fn=ht.getStatus();if(!En||this.isRetryStatusCode_(fn)){const tr=ht.getErrorCode()===mr.ABORT;return void ge(!1,new Ke(!1,null,tr))}const Hn=-1!==this.successCodes_.indexOf(fn);ge(!0,new Ke(Hn,ht))})},Y,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function dn(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(D){const Y=D>=500&&D<600,ke=-1!==[408,429].indexOf(D),ht=-1!==this.additionalRetryCodes_.indexOf(D);return Y||ke||ht}}class Ke{constructor(D,Y,ge){this.wasSuccessCode=D,this.connection=Y,this.canceled=!!ge}}function Un(...v){const D=function Xn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==D){const Y=new D;for(let ge=0;ge<v.length;ge++)Y.append(v[ge]);return Y.getBlob()}if(Mr())return new Blob(v);throw new Xe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yr{constructor(D,Y){this.data=D,this.contentType=Y||null}}function Me(v,D){switch(v){case pr.RAW:return new yr(We(D));case pr.BASE64:case pr.BASE64URL:return new yr(Nt(v,D));case pr.DATA_URL:return new yr(function ut(v){const D=new Ge(v);return D.base64?Nt(pr.BASE64,D.rest):function tt(v){let D;try{D=decodeURIComponent(v)}catch(Y){throw Et(pr.DATA_URL,"Malformed data URL.")}return We(D)}(D.rest)}(D),function Zt(v){return new Ge(v).contentType}(D))}throw ye()}function We(v){const D=[];for(let Y=0;Y<v.length;Y++){let ge=v.charCodeAt(Y);ge<=127?D.push(ge):ge<=2047?D.push(192|ge>>6,128|63&ge):55296==(64512&ge)?Y<v.length-1&&56320==(64512&v.charCodeAt(Y+1))?(ge=65536|(1023&ge)<<10|1023&v.charCodeAt(++Y),D.push(240|ge>>18,128|ge>>12&63,128|ge>>6&63,128|63&ge)):D.push(239,191,189):56320==(64512&ge)?D.push(239,191,189):D.push(224|ge>>12,128|ge>>6&63,128|63&ge)}return new Uint8Array(D)}function Nt(v,D){switch(v){case pr.BASE64:{const ke=-1!==D.indexOf("-"),ht=-1!==D.indexOf("_");if(ke||ht)throw Et(v,"Invalid character '"+(ke?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const ke=-1!==D.indexOf("+"),ht=-1!==D.indexOf("/");if(ke||ht)throw Et(v,"Invalid character '"+(ke?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let Y;try{Y=function On(v){return atob(v)}(D)}catch(ke){throw Et(v,"Invalid character found")}const ge=new Uint8Array(Y.length);for(let ke=0;ke<Y.length;ke++)ge[ke]=Y.charCodeAt(ke);return ge}class Ge{constructor(D){this.base64=!1,this.contentType=null;const Y=D.match(/^data:([^,]+)?,/);if(null===Y)throw Et(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ge=Y[1]||null;null!=ge&&(this.base64=function on(v,D){return v.length>=D.length&&v.substring(v.length-D.length)===D}(ge,";base64"),this.contentType=this.base64?ge.substring(0,ge.length-7):ge),this.rest=D.substring(D.indexOf(",")+1)}}class vn{constructor(D,Y){let ge=0,ke="";tn(D)?(this.data_=D,ge=D.size,ke=D.type):D instanceof ArrayBuffer?(Y?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),ge=this.data_.length):D instanceof Uint8Array&&(Y?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),ge=D.length),this.size_=ge,this.type_=ke}size(){return this.size_}type(){return this.type_}slice(D,Y){if(tn(this.data_)){const ke=function xn(v,D,Y){return v.webkitSlice?v.webkitSlice(D,Y):v.mozSlice?v.mozSlice(D,Y):v.slice?v.slice(D,Y):null}(this.data_,D,Y);return null===ke?null:new vn(ke)}{const ge=new Uint8Array(this.data_.buffer,D,Y-D);return new vn(ge,!0)}}static getBlob(...D){if(Mr()){const Y=D.map(ge=>ge instanceof vn?ge.data_:ge);return new vn(Un.apply(null,Y))}{const Y=D.map(Ut=>zn(Ut)?Me(pr.RAW,Ut).data:Ut.data_);let ge=0;Y.forEach(Ut=>{ge+=Ut.byteLength});const ke=new Uint8Array(ge);let ht=0;return Y.forEach(Ut=>{for(let En=0;En<Ut.length;En++)ke[ht++]=Ut[En]}),new vn(ke,!0)}}uploadData(){return this.data_}}function Pn(v){let D;try{D=JSON.parse(v)}catch(Y){return null}return function Gn(v){return"object"==typeof v&&!Array.isArray(v)}(D)?D:null}function wr(v){const D=v.lastIndexOf("/",v.length-2);return-1===D?v:v.slice(D+1)}function Zr(v,D){return D}class Hr{constructor(D,Y,ge,ke){this.server=D,this.local=Y||D,this.writable=!!ge,this.xform=ke||Zr}}let Ri=null;function gi(){if(Ri)return Ri;const v=[];v.push(new Hr("bucket")),v.push(new Hr("generation")),v.push(new Hr("metageneration")),v.push(new Hr("name","fullPath",!0));const Y=new Hr("name");Y.xform=function D(ht,Ut){return function ls(v){return!zn(v)||v.length<2?v:wr(v)}(Ut)},v.push(Y);const ke=new Hr("size");return ke.xform=function ge(ht,Ut){return void 0!==Ut?Number(Ut):Ut},v.push(ke),v.push(new Hr("timeCreated")),v.push(new Hr("updated")),v.push(new Hr("md5Hash",null,!0)),v.push(new Hr("cacheControl",null,!0)),v.push(new Hr("contentDisposition",null,!0)),v.push(new Hr("contentEncoding",null,!0)),v.push(new Hr("contentLanguage",null,!0)),v.push(new Hr("contentType",null,!0)),v.push(new Hr("metadata","customMetadata",!0)),Ri=v,Ri}function Oi(v,D,Y){const ge=Pn(D);return null===ge?null:function Si(v,D,Y){const ge={type:"file"},ke=Y.length;for(let ht=0;ht<ke;ht++){const Ut=Y[ht];ge[Ut.local]=Ut.xform(ge,D[Ut.server])}return function ai(v,D){Object.defineProperty(v,"ref",{get:function Y(){const ht=new pn(v.bucket,v.fullPath);return D._makeStorageReference(ht)}})}(ge,v),ge}(v,ge,Y)}function Fr(v,D){const Y={},ge=D.length;for(let ke=0;ke<ge;ke++){const ht=D[ke];ht.writable&&(Y[ht.server]=v[ht.local])}return JSON.stringify(Y)}const Jn="prefixes";class Dr{constructor(D,Y,ge,ke){this.url=D,this.method=Y,this.handler=ge,this.timeout=ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kr(v){if(!v)throw ye()}function Lr(v,D){return function Y(ge,ke){const ht=Oi(v,ke,D);return kr(null!==ht),ht}}function qn(v){return function D(Y,ge){let ke;return ke=401===Y.getStatus()?Y.getErrorText().includes("Firebase App Check token is invalid")?function _e(){return new Xe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function he(){return new Xe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Y.getStatus()?function Ae(v){return new Xe("quota-exceeded","Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===Y.getStatus()?function He(v){return new Xe("unauthorized","User does not have permission to access '"+v+"'.")}(v.path):ge,ke.serverResponse=ge.serverResponse,ke}}function Wr(v){const D=qn(v);return function Y(ge,ke){let ht=D(ge,ke);return 404===ge.getStatus()&&(ht=function Oe(v){return new Xe("object-not-found","Object '"+v+"' does not exist.")}(v.path)),ht.serverResponse=ke.serverResponse,ht}}function Qr(v,D,Y){const ke=ar(D.fullServerUrl(),v.host,v._protocol),Ut=v.maxOperationRetryTime,En=new Dr(ke,"GET",Lr(v,Y),Ut);return En.errorHandler=Wr(D),En}function Ir(v,D,Y,ge,ke){const ht={};ht.prefix=D.isRoot?"":D.path+"/",Y&&Y.length>0&&(ht.delimiter=Y),ge&&(ht.pageToken=ge),ke&&(ht.maxResults=ke);const En=ar(D.bucketOnlyServerUrl(),v.host,v._protocol),Hn=v.maxOperationRetryTime,tr=new Dr(En,"GET",function Kt(v,D){return function Y(ge,ke){const ht=function Ei(v,D,Y){const ge=Pn(Y);return null===ge?null:function Ii(v,D,Y){const ge={prefixes:[],items:[],nextPageToken:Y.nextPageToken};if(Y[Jn])for(const ke of Y[Jn]){const ht=ke.replace(/\/$/,""),Ut=v._makeStorageReference(new pn(D,ht));ge.prefixes.push(Ut)}if(Y.items)for(const ke of Y.items){const ht=v._makeStorageReference(new pn(D,ke.name));ge.items.push(ht)}return ge}(v,D,ge)}(v,D,ke);return kr(null!==ht),ht}}(v,D.bucket),Hn);return tr.urlParams=ht,tr.errorHandler=qn(D),tr}function Zi(v,D,Y){const ge=Object.assign({},Y);return ge.fullPath=v.path,ge.size=D.size(),ge.contentType||(ge.contentType=function Kn(v,D){return v&&v.contentType||D&&D.type()||"application/octet-stream"}(null,D)),ge}class Ai{constructor(D,Y,ge,ke){this.current=D,this.total=Y,this.finalized=!!ge,this.metadata=ke||null}}function Jr(v,D){let Y=null;try{Y=v.getResponseHeader("X-Goog-Upload-Status")}catch(ke){kr(!1)}return kr(!!Y&&-1!==(D||["active"]).indexOf(Y)),Y}const me={STATE_CHANGED:"state_changed"},W={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ft(v){switch(v){case"running":case"pausing":case"canceling":return W.RUNNING;case"paused":return W.PAUSED;case"success":return W.SUCCESS;case"canceled":return W.CANCELED;default:return W.ERROR}}class be{constructor(D,Y,ge){if(function jr(v){return"function"==typeof v}(D)||null!=Y||null!=ge)this.next=D,this.error=null!=Y?Y:void 0,this.complete=null!=ge?ge:void 0;else{const ht=D;this.next=ht.next,this.error=ht.error,this.complete=ht.complete}}}function Pe(v){return(...D)=>{Promise.resolve().then(()=>v(...D))}}class Pt extends class Bt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mr.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mr.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,Y,ge,ke){if(this.sent_)throw en("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Y,D,!0),void 0!==ke)for(const ht in ke)ke.hasOwnProperty(ht)&&this.xhr_.setRequestHeader(ht,ke[ht].toString());return void 0!==ge?this.xhr_.send(ge):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw en("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw en("cannot .getStatus() before sending");try{return this.xhr_.status}catch(D){return-1}}getResponse(){if(!this.sent_)throw en("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw en("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}{initXhr(){this.xhr_.responseType="text"}}function xt(){return new Pt}class ti{constructor(D,Y,ge=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=Y,this._metadata=ge,this._mappings=gi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ke=>{this._request=void 0,this._chunkMultiplier=1,ke._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ke,this._transition("error"))},this._metadataErrorHandler=ke=>{this._request=void 0,ke._codeEquals("canceled")?this.completeTransitions_():(this._error=ke,this._transition("error"))},this._promise=new Promise((ke,ht)=>{this._resolve=ke,this._reject=ht,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const D=this._transferred;return Y=>this._updateProgress(D+Y)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Y,ge])=>{switch(this._state){case"running":D(Y,ge);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,Y)=>{const ge=function ii(v,D,Y,ge,ke){const ht=D.bucketOnlyServerUrl(),Ut=Zi(D,ge,ke),En={name:Ut.fullPath},fn=ar(ht,v.host,v._protocol),tr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ge.size()}`,"X-Goog-Upload-Header-Content-Type":Ut.contentType,"Content-Type":"application/json; charset=utf-8"},cr=Fr(Ut,Y),bi=new Dr(fn,"POST",function xi(Ni){let Ti;Jr(Ni);try{Ti=Ni.getResponseHeader("X-Goog-Upload-URL")}catch(so){kr(!1)}return kr(zn(Ti)),Ti},v.maxUploadRetryTime);return bi.urlParams=En,bi.headers=tr,bi.body=cr,bi.errorHandler=qn(D),bi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(ge,xt,D,Y);this._request=ke,ke.getPromise().then(ht=>{this._request=void 0,this._uploadUrl=ht,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((Y,ge)=>{const ke=function $i(v,D,Y,ge){const fn=new Dr(Y,"POST",function ht(Hn){const tr=Jr(Hn,["active","final"]);let cr=null;try{cr=Hn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(xi){kr(!1)}cr||kr(!1);const _r=Number(cr);return kr(!isNaN(_r)),new Ai(_r,ge.size(),"final"===tr)},v.maxUploadRetryTime);return fn.headers={"X-Goog-Upload-Command":"query"},fn.errorHandler=qn(D),fn}(this._ref.storage,this._ref._location,D,this._blob),ht=this._ref.storage._makeRequest(ke,xt,Y,ge);this._request=ht,ht.getPromise().then(Ut=>{Ut=Ut,this._request=void 0,this._updateProgress(Ut.current),this._needToFetchStatus=!1,Ut.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,Y=new Ai(this._transferred,this._blob.size()),ge=this._uploadUrl;this._resolveToken((ke,ht)=>{let Ut;try{Ut=function J(v,D,Y,ge,ke,ht,Ut,En){const fn=new Ai(0,0);if(Ut?(fn.current=Ut.current,fn.total=Ut.total):(fn.current=0,fn.total=ge.size()),ge.size()!==fn.total)throw function at(){return new Xe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Hn=fn.total-fn.current;let tr=Hn;ke>0&&(tr=Math.min(tr,ke));const cr=fn.current,bi={"X-Goog-Upload-Command":tr===Hn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${fn.current}`},Ni=ge.slice(cr,cr+tr);if(null===Ni)throw qe();const rs=new Dr(Y,"POST",function Ti(is,yo){const _o=Jr(is,["active","final"]),Yo=fn.current+tr,ta=ge.size();let na;return na="final"===_o?Lr(D,ht)(is,yo):null,new Ai(Yo,ta,"final"===_o,na)},D.maxUploadRetryTime);return rs.headers=bi,rs.body=Ni.uploadData(),rs.progressCallback=En||null,rs.errorHandler=qn(v),rs}(this._ref._location,this._ref.storage,ge,this._blob,D,this._mappings,Y,this._makeProgressCallback())}catch(fn){return this._error=fn,void this._transition("error")}const En=this._ref.storage._makeRequest(Ut,xt,ke,ht);this._request=En,En.getPromise().then(fn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fn.current),fn.finalized?(this._metadata=fn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,Y)=>{const ge=Qr(this._ref.storage,this._ref._location,this._mappings),ke=this._ref.storage._makeRequest(ge,xt,D,Y);this._request=ke,ke.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,Y)=>{const ge=function Pi(v,D,Y,ge,ke){const ht=D.bucketOnlyServerUrl(),Ut={"X-Goog-Upload-Protocol":"multipart"},fn=function En(){let rs="";for(let is=0;is<2;is++)rs+=Math.random().toString().slice(2);return rs}();Ut["Content-Type"]="multipart/related; boundary="+fn;const Hn=Zi(D,ge,ke),tr=Fr(Hn,Y),xi=vn.getBlob("--"+fn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tr+"\r\n--"+fn+"\r\nContent-Type: "+Hn.contentType+"\r\n\r\n",ge,"\r\n--"+fn+"--");if(null===xi)throw qe();const bi={name:Hn.fullPath},Ni=ar(ht,v.host,v._protocol),so=v.maxUploadRetryTime,vi=new Dr(Ni,"POST",Lr(v,Y),so);return vi.urlParams=bi,vi.headers=Ut,vi.body=xi.uploadData(),vi.errorHandler=qn(D),vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(ge,xt,D,Y);this._request=ke,ke.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const Y=this._transferred;this._transferred=D,this._transferred!==Y&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request&&this._request.cancel();break;case"running":const Y="paused"===this._state;this._state=D,Y&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=St(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=ft(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,Y,ge,ke){const ht=new be(Y||void 0,ge||void 0,ke||void 0);return this._addObserver(ht),()=>{this._removeObserver(ht)}}then(D,Y){return this._promise.then(D,Y)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const Y=this._observers.indexOf(D);-1!==Y&&this._observers.splice(Y,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Y=>{this._notifyObserver(Y)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(ft(this._state)){case W.SUCCESS:Pe(this._resolve.bind(null,this.snapshot))();break;case W.CANCELED:case W.ERROR:Pe(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(ft(this._state)){case W.RUNNING:case W.PAUSED:D.next&&Pe(D.next.bind(D,this.snapshot))();break;case W.SUCCESS:D.complete&&Pe(D.complete.bind(D))();break;default:D.error&&Pe(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class yi{constructor(D,Y){this._service=D,this._location=Y instanceof pn?Y:pn.makeFromUrl(Y,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,Y){return new yi(D,Y)}get root(){const D=new pn(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wr(this._location.path)}get storage(){return this._service}get parent(){const D=function $n(v){if(0===v.length)return null;const D=v.lastIndexOf("/");return-1===D?"":v.slice(0,D)}(this._location.path);if(null===D)return null;const Y=new pn(this._location.bucket,D);return new yi(this._service,Y)}_throwIfRoot(D){if(""===this._location.path)throw jt(D)}}function Ur(v,D,Y){return Or.apply(this,arguments)}function Or(){return(Or=(0,Ee.Z)(function*(v,D,Y){const ke=yield Yn(v,{pageToken:Y});D.prefixes.push(...ke.prefixes),D.items.push(...ke.items),null!=ke.nextPageToken&&(yield Ur(v,D,ke.nextPageToken))})).apply(this,arguments)}function Yn(v,D){null!=D&&"number"==typeof D.maxResults&&ur("options.maxResults",1,1e3,D.maxResults);const Y=D||{},ge=Ir(v.storage,v._location,"/",Y.pageToken,Y.maxResults);return v.storage.makeRequestWithTokens(ge,xt)}function Wi(v){v._throwIfRoot("getDownloadURL");const D=function Rr(v,D,Y){const ke=ar(D.fullServerUrl(),v.host,v._protocol),Ut=v.maxOperationRetryTime,En=new Dr(ke,"GET",function mn(v,D){return function Y(ge,ke){const ht=Oi(v,ke,D);return kr(null!==ht),function Xr(v,D,Y,ge){const ke=Pn(D);if(null===ke||!zn(ke.downloadTokens))return null;const ht=ke.downloadTokens;if(0===ht.length)return null;const Ut=encodeURIComponent;return ht.split(",").map(Hn=>{const cr=v.fullPath;return ar("/b/"+Ut(v.bucket)+"/o/"+Ut(cr),Y,ge)+Qn({alt:"media",token:Hn})})[0]}(ht,ke,v.host,v._protocol)}}(v,Y),Ut);return En.errorHandler=Wr(D),En}(v.storage,v._location,gi());return v.storage.makeRequestWithTokens(D,xt).then(Y=>{if(null===Y)throw function mt(){return new Xe("no-download-url","The given file does not have any download URLs.")}();return Y})}function Li(v,D){const Y=function Dn(v,D){const Y=D.split("/").filter(ge=>ge.length>0).join("/");return 0===v.length?Y:v+"/"+Y}(v._location.path,D),ge=new pn(v._location.bucket,Y);return new yi(v.storage,ge)}function Xs(v,D){if(v instanceof gs){const Y=v;if(null==Y._bucket)throw function _t(){return new Xe("no-default-bucket","No default bucket found. Did you set the '"+lt+"' property when initializing the app?")}();const ge=new yi(Y,Y._bucket);return null!=D?Xs(ge,D):ge}return void 0!==D?Li(v,D):v}function ki(v,D){if(D&&function qi(v){return/^[A-Za-z]+:\/\//.test(v)}(D)){if(v instanceof gs)return function ro(v,D){return new yi(v,D)}(v,D);throw Te("To use ref(service, url), the first argument must be a Storage instance.")}return Xs(v,D)}function es(v,D){const Y=null==D?void 0:D[lt];return null==Y?null:pn.makeFromBucketSpec(Y,v)}class gs{constructor(D,Y,ge,ke,ht){this.app=D,this._authProvider=Y,this._appCheckProvider=ge,this._url=ke,this._firebaseVersion=ht,this._bucket=null,this._host=we,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ke?pn.makeFromBucketSpec(ke,this._host):es(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?pn.makeFromBucketSpec(this._url,D):es(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){ur("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){ur("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,Ee.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const Y=D._authProvider.getImmediate({optional:!0});if(Y){const ge=yield Y.getToken();if(null!==ge)return ge.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,Ee.Z)(function*(){const Y=D._appCheckProvider.getImmediate({optional:!0});return Y?(yield Y.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new yi(this,D)}_makeRequest(D,Y,ge,ke){if(this._deleted)return new Rn(et());{const ht=function hn(v,D,Y,ge,ke,ht){const Ut=Qn(v.urlParams),En=v.url+Ut,fn=Object.assign({},v.headers);return function Rt(v,D){D&&(v["X-Firebase-GMPID"]=D)}(fn,D),function Se(v,D){null!==D&&D.length>0&&(v.Authorization="Firebase "+D)}(fn,Y),function Yt(v,D){v["X-Firebase-Storage-Version"]="webjs/"+(null!=D?D:"AppManager")}(fn,ht),function qt(v,D){null!==D&&(v["X-Firebase-AppCheck"]=D)}(fn,ge),new yt(En,v.method,fn,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,ke)}(D,this._appId,ge,ke,Y,this._firebaseVersion);return this._requests.add(ht),ht.getPromise().then(()=>this._requests.delete(ht),()=>this._requests.delete(ht)),ht}}makeRequestWithTokens(D,Y){var ge=this;return(0,Ee.Z)(function*(){const[ke,ht]=yield Promise.all([ge._getAuthToken(),ge._getAppCheckToken()]);return ge._makeRequest(D,Y,ke,ht).getPromise()})()}}const io="@firebase/storage";function ms(v,D){return ki(v=(0,je.m9)(v),D)}function se(v,{instanceIdentifier:D}){const Y=v.getProvider("app").getImmediate(),ge=v.getProvider("auth-internal"),ke=v.getProvider("app-check-internal");return new gs(Y,ge,ke,D,Fe.SDK_VERSION)}!function $(){(0,Fe._registerComponent)(new gt.wA("storage",se,"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(io,"0.9.6",""),(0,Fe.registerVersion)(io,"0.9.6","esm2017")}();class de{constructor(D,Y,ge){this._delegate=D,this.task=Y,this.ref=ge}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class nt{constructor(D,Y){this._delegate=D,this._ref=Y,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new de(this._delegate.snapshot,this,this._ref)}then(D,Y){return this._delegate.then(ge=>{if(D)return D(new de(ge,this,this._ref))},Y)}on(D,Y,ge,ke){let ht;return Y&&(ht="function"==typeof Y?Ut=>Y(new de(Ut,this,this._ref)):{next:Y.next?Ut=>Y.next(new de(Ut,this,this._ref)):void 0,complete:Y.complete||void 0,error:Y.error||void 0}),this._delegate.on(D,ht,ge||void 0,ke||void 0)}}class Ct{constructor(D,Y){this._delegate=D,this._service=Y}get prefixes(){return this._delegate.prefixes.map(D=>new Vt(D,this._service))}get items(){return this._delegate.items.map(D=>new Vt(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Vt{constructor(D,Y){this._delegate=D,this.storage=Y}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const Y=function ns(v,D){return Li(v,D)}(this._delegate,D);return new Vt(Y,this.storage)}get root(){return new Vt(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new Vt(D,this.storage)}put(D,Y){return this._throwIfRoot("put"),new nt(function Yi(v,D,Y){return function Ht(v,D,Y){return v._throwIfRoot("uploadBytesResumable"),new ti(v,new vn(D),Y)}(v=(0,je.m9)(v),D,Y)}(this._delegate,D,Y),this)}putString(D,Y=pr.RAW,ge){this._throwIfRoot("putString");const ke=Me(Y,D),ht=Object.assign({},ge);return null==ht.contentType&&null!=ke.contentType&&(ht.contentType=ke.contentType),new nt(new ti(this._delegate,new vn(ke.data,!0),ht),this)}listAll(){return function mo(v){return function Cn(v){const D={prefixes:[],items:[]};return Ur(v,D).then(()=>D)}(v=(0,je.m9)(v))}(this._delegate).then(D=>new Ct(D,this.storage))}list(D){return function hi(v,D){return Yn(v=(0,je.m9)(v),D)}(this._delegate,D||void 0).then(Y=>new Ct(Y,this.storage))}getMetadata(){return function Br(v){return function xs(v){v._throwIfRoot("getMetadata");const D=Qr(v.storage,v._location,gi());return v.storage.makeRequestWithTokens(D,xt)}(v=(0,je.m9)(v))}(this._delegate)}updateMetadata(D){return function Es(v,D){return function Ji(v,D){v._throwIfRoot("updateMetadata");const Y=function Ci(v,D,Y,ge){const ht=ar(D.fullServerUrl(),v.host,v._protocol),En=Fr(Y,ge),Hn=v.maxOperationRetryTime,tr=new Dr(ht,"PATCH",Lr(v,ge),Hn);return tr.headers={"Content-Type":"application/json; charset=utf-8"},tr.body=En,tr.errorHandler=Wr(D),tr}(v.storage,v._location,D,gi());return v.storage.makeRequestWithTokens(Y,xt)}(v=(0,je.m9)(v),D)}(this._delegate,D)}getDownloadURL(){return function us(v){return Wi(v=(0,je.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function bs(v){return function ps(v){v._throwIfRoot("deleteObject");const D=function Gr(v,D){const ge=ar(D.fullServerUrl(),v.host,v._protocol),En=new Dr(ge,"DELETE",function Ut(fn,Hn){},v.maxOperationRetryTime);return En.successCodes=[200,204],En.errorHandler=Wr(D),En}(v.storage,v._location);return v.storage.makeRequestWithTokens(D,xt)}(v=(0,je.m9)(v))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw jt(D)}}class In{constructor(D,Y){this.app=D,this._delegate=Y}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(or(D))throw Te("ref() expected a child path but got a URL, use refFromURL instead.");return new Vt(ms(this._delegate,D),this)}refFromURL(D){if(!or(D))throw Te("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pn.makeFromUrl(D,this._delegate.host)}catch(Y){throw Te("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vt(ms(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,Y,ge={}){!function No(v,D,Y,ge={}){!function qr(v,D,Y,ge={}){v.host=`${D}:${Y}`,v._protocol="http";const{mockUserToken:ke}=ge;ke&&(v._overrideAuthToken="string"==typeof ke?ke:(0,je.Sg)(ke,v.app.options.projectId))}(v,D,Y,ge)}(this._delegate,D,Y,ge)}}function or(v){return/^[A-Za-z]+:\/\//.test(v)}function Di(v,{instanceIdentifier:D}){const Y=v.getProvider("app-compat").getImmediate(),ge=v.getProvider("storage").getImmediate({identifier:D});return new In(Y,ge)}!function li(v){const D={TaskState:W,TaskEvent:me,StringFormat:pr,Storage:In,Reference:Vt};v.INTERNAL.registerComponent(new gt.wA("storage-compat",Di,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.1.14")}(Ue.Z);var _i=B(440),Ms=B(127);function Fn(v){const D=function ys(v){return new u.y(D=>{const Y=Ut=>D.next(Ut);Y(v.snapshot);const ht=v.on("state_changed",Y);return v.then(Ut=>{Y(Ut),D.complete()},Ut=>{Y(v.snapshot),(Ut=>{D.error(Ut)})(Ut)}),function(){ht()}}).pipe(function ue(v,D=Be.P){return Y=>Y.lift(new xe(v,D))}(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,ce.U)(Y=>Y.bytesTransferred/Y.totalBytes*100))}}function ji(v){return{getDownloadURL:()=>(0,te.of)(void 0).pipe(re.fc,(0,ve.w)(()=>v.getDownloadURL()),re.iC),getMetadata:()=>(0,te.of)(void 0).pipe(re.fc,(0,ve.w)(()=>v.getMetadata()),re.iC),delete:()=>(0,X.D)(v.delete()),child:D=>ji(v.child(D)),updateMetadata:D=>(0,X.D)(v.updateMetadata(D)),put:(D,Y)=>Fn(v.put(D,Y)),putString:(D,Y,ge)=>Fn(v.putString(D,Y,ge)),list:D=>(0,X.D)(v.list(D)),listAll:()=>(0,X.D)(v.listAll())}}const G=new fe.OlP("angularfire2.storageBucket"),V=new fe.OlP("angularfire2.storage.maxUploadRetryTime"),N=new fe.OlP("angularfire2.storage.maxOperationRetryTime"),ie=new fe.OlP("angularfire2.storage.use-emulator");let Lt=(()=>{class v{constructor(Y,ge,ke,ht,Ut,En,fn,Hn,tr,cr){const _r=(0,Ye.on)(Y,Ut,ge);this.storage=(0,Ye.cc)(`${_r.name}.storage.${ke}`,"AngularFireStorage",_r.name,()=>{const xi=Ut.runOutsideAngular(()=>_r.storage(ke||void 0)),bi=tr;return bi&&xi.useEmulator(...bi),fn&&xi.setMaxUploadRetryTime(fn),Hn&&xi.setMaxOperationRetryTime(Hn),xi},[fn,Hn])}ref(Y){return ji(this.storage.ref(Y))}refFromURL(Y){return ji(this.storage.refFromURL(Y))}upload(Y,ge,ke){return ji(this.storage.ref(Y)).put(ge,ke)}}return v.\u0275fac=function(Y){return new(Y||v)(fe.LFG(Ye.Dh),fe.LFG(Ye.xv,8),fe.LFG(G,8),fe.LFG(fe.Lbi),fe.LFG(fe.R0b),fe.LFG(re.HU),fe.LFG(V,8),fe.LFG(N,8),fe.LFG(ie,8),fe.LFG(_i.nm,8))},v.\u0275prov=fe.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),k=(()=>{class v{}return v.\u0275fac=function(Y){return new(Y||v)},v.\u0275mod=fe.oAB({type:v}),v.\u0275inj=fe.cJS({}),v})(),b=(()=>{class v{constructor(){Ms.Z.registerVersion("angularfire",re.q4.full,"gcs-compat")}}return v.\u0275fac=function(Y){return new(Y||v)},v.\u0275mod=fe.oAB({type:v}),v.\u0275inj=fe.cJS({providers:[Lt],imports:[k]}),v})()},2011:(nn,dt,B)=>{"use strict";B.d(dt,{hO:()=>fe,xv:()=>Ie,Dh:()=>De,GT:()=>ue,cc:()=>Ye,on:()=>ce,pX:()=>Be});var u=B(5e3),te=B(127),X=B(6351);nn=B.hmd(nn);const ze=["ngOnDestroy"],Be=(je,gt,we,lt={})=>new Proxy(je,{get:(It,Mt)=>we.runOutsideAngular(()=>{var Xe;if(je[Mt])return(null===(Xe=null==lt?void 0:lt.spy)||void 0===Xe?void 0:Xe.get)&&lt.spy.get(Mt,je[Mt]),je[Mt];if(ze.indexOf(Mt)>-1)return()=>{};const bt=gt.toPromise().then(ye=>{const Oe=ye&&ye[Mt];return"function"==typeof Oe?Oe.bind(ye):Oe&&Oe.then?Oe.then(Ae=>we.run(()=>Ae)):we.run(()=>Oe)});return new Proxy(()=>{},{get:(ye,Oe)=>bt[Oe],apply:(ye,Oe,Ae)=>bt.then(he=>{var _e;const He=he&&he(...Ae);return(null===(_e=null==lt?void 0:lt.spy)||void 0===_e?void 0:_e.apply)&&lt.spy.apply(Mt,Ae,He),He})})})}),ue=(je,gt)=>{gt.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(lt=>{Object.defineProperty(je.prototype,lt,Object.getOwnPropertyDescriptor(we.prototype||we,lt))})})};class xe{constructor(gt){return gt}}const De=new u.OlP("angularfire2.app.options"),Ie=new u.OlP("angularfire2.app.name");function ce(je,gt,we){const It="object"==typeof we&&we||{};It.name=It.name||"string"==typeof we&&we||"[DEFAULT]";const Xe=te.Z.apps.filter(bt=>bt&&bt.name===It.name)[0]||gt.runOutsideAngular(()=>te.Z.initializeApp(je,It));try{JSON.stringify(je)!==JSON.stringify(Xe.options)&&ve("error",`${Xe.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(bt){}return new xe(Xe)}const ve=(je,...gt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[je](...gt)},re={provide:xe,useFactory:ce,deps:[De,u.R0b,[new u.FiY,Ie]]};let fe=(()=>{class je{constructor(we){te.Z.registerVersion("angularfire",X.q4.full,"core"),te.Z.registerVersion("angularfire",X.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,we.toString())}static initializeApp(we,lt){return{ngModule:je,providers:[{provide:De,useValue:we},{provide:Ie,useValue:lt}]}}}return je.\u0275fac=function(we){return new(we||je)(u.LFG(u.Lbi))},je.\u0275mod=u.oAB({type:je}),je.\u0275inj=u.cJS({providers:[re]}),je})();function Ye(je,gt,we,lt,It){const[,Mt,Xe]=globalThis.\u0275AngularfireInstanceCache.find(bt=>bt[0]===je)||[];if(Mt)return function Ue(je,gt){try{return je.toString()===gt.toString()}catch(we){return je===gt}}(It,Xe)||(Fe("error",`${gt} was already initialized on the ${we} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:It,was:Xe})),Mt;{const bt=lt();return globalThis.\u0275AngularfireInstanceCache.push([je,bt,It]),bt}}const Ee=!!nn.hot,Fe=(je,...gt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[je](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(nn,dt,B)=>{"use strict";B.d(dt,{q4:()=>bl,iC:()=>ol,fc:()=>Zl,HU:()=>hd,vb:()=>Bo,JM:()=>Il});var u=B(5e3),te=B(5867),X=B(5861),ze=B(9681),Be=B(2090),ue=B(4859),xe=B(1877),De=B(8766);const Ie="@firebase/installations",re="w:0.5.9",fe="FIS_v2",gt=new Be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(L){return L instanceof Be.ZR&&L.code.includes("request-failed")}function lt({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function It(L){return{token:L.token,requestStatus:2,expiresIn:he(L.expiresIn),creationTime:Date.now()}}function Mt(L,z){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,X.Z)(function*(L,z){const $e=(yield z.json()).error;return gt.create("request-failed",{requestName:L,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function bt({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function ye(L,{refreshToken:z}){const le=bt(L);return le.append("Authorization",function _e(L){return`${fe} ${L}`}(z)),le}function Oe(L){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,X.Z)(function*(L){const z=yield L();return z.status>=500&&z.status<600?L():z})).apply(this,arguments)}function he(L){return Number(L.replace("s","000"))}function He(L,z){return Je.apply(this,arguments)}function Je(){return(Je=(0,X.Z)(function*({appConfig:L,heartbeatServiceProvider:z},{fid:le}){const $e=lt(L),wt=bt(L),At=z.getImmediate({optional:!0});if(At){const hr=yield At.getHeartbeatsHeader();hr&&wt.append("x-firebase-client",hr)}const _n={method:"POST",headers:wt,body:JSON.stringify({fid:le,authVersion:fe,appId:L.appId,sdkVersion:re})},Cr=yield Oe(()=>fetch($e,_n));if(Cr.ok){const hr=yield Cr.json();return{fid:hr.fid||le,registrationStatus:2,refreshToken:hr.refreshToken,authToken:It(hr.authToken)}}throw yield Mt("Create Installation",Cr)})).apply(this,arguments)}function St(L){return new Promise(z=>{setTimeout(z,L)})}const pt=/^[cdef][\w-]{21}$/;function qe(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const le=function at(L){return function Wt(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return pt.test(le)?le:""}catch(L){return""}}function mt(L){return`${L.appName}!${L.appId}`}const Te=new Map;function et(L,z){const le=mt(L);en(le,z),function pn(L,z){const le=function gn(){return!Rn&&"BroadcastChannel"in self&&(Rn=new BroadcastChannel("[Firebase] FID Change"),Rn.onmessage=L=>{en(L.data.key,L.data.fid)}),Rn}();le&&le.postMessage({key:L,fid:z}),function dn(){0===Te.size&&Rn&&(Rn.close(),Rn=null)}()}(le,z)}function en(L,z){const le=Te.get(L);if(le)for(const $e of le)$e(z)}let Rn=null;const Gn="firebase-installations-store";let zn=null;function tn(){return zn||(zn=(0,De.X3)("firebase-installations-database",1,{upgrade:(L,z)=>{0===z&&L.createObjectStore(Gn)}})),zn}function Mr(L,z){return ur.apply(this,arguments)}function ur(){return(ur=(0,X.Z)(function*(L,z){const le=mt(L),wt=(yield tn()).transaction(Gn,"readwrite"),At=wt.objectStore(Gn),ln=yield At.get(le);return yield At.put(z,le),yield wt.done,(!ln||ln.fid!==z.fid)&&et(L,z.fid),z})).apply(this,arguments)}function ar(L){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,X.Z)(function*(L){const z=mt(L),$e=(yield tn()).transaction(Gn,"readwrite");yield $e.objectStore(Gn).delete(z),yield $e.done})).apply(this,arguments)}function mr(L,z){return yt.apply(this,arguments)}function yt(){return(yt=(0,X.Z)(function*(L,z){const le=mt(L),wt=(yield tn()).transaction(Gn,"readwrite"),At=wt.objectStore(Gn),ln=yield At.get(le),_n=z(ln);return void 0===_n?yield At.delete(le):yield At.put(_n,le),yield wt.done,_n&&(!ln||ln.fid!==_n.fid)&&et(L,_n.fid),_n})).apply(this,arguments)}function Ke(L){return Se.apply(this,arguments)}function Se(){return(Se=(0,X.Z)(function*(L){let z;const le=yield mr(L.appConfig,$e=>{const wt=Yt($e),At=Rt(L,wt);return z=At.registrationPromise,At.installationEntry});return""===le.fid?{installationEntry:yield z}:{installationEntry:le,registrationPromise:z}})).apply(this,arguments)}function Yt(L){return On(L||{fid:qe(),registrationStatus:0})}function Rt(L,z){if(0===z.registrationStatus){if(!navigator.onLine)return{installationEntry:z,registrationPromise:Promise.reject(gt.create("app-offline"))};const le={fid:z.fid,registrationStatus:1,registrationTime:Date.now()},$e=function qt(L,z){return hn.apply(this,arguments)}(L,le);return{installationEntry:le,registrationPromise:$e}}return 1===z.registrationStatus?{installationEntry:z,registrationPromise:Xn(L)}:{installationEntry:z}}function hn(){return(hn=(0,X.Z)(function*(L,z){try{const le=yield He(L,z);return Mr(L.appConfig,le)}catch(le){throw we(le)&&409===le.customData.serverCode?yield ar(L.appConfig):yield Mr(L.appConfig,{fid:z.fid,registrationStatus:0}),le}})).apply(this,arguments)}function Xn(L){return Un.apply(this,arguments)}function Un(){return(Un=(0,X.Z)(function*(L){let z=yield xn(L.appConfig);for(;1===z.registrationStatus;)yield St(100),z=yield xn(L.appConfig);if(0===z.registrationStatus){const{installationEntry:le,registrationPromise:$e}=yield Ke(L);return $e||le}return z})).apply(this,arguments)}function xn(L){return mr(L,z=>{if(!z)throw gt.create("installation-not-found");return On(z)})}function On(L){return function pr(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function yr(L,z){return Me.apply(this,arguments)}function Me(){return(Me=(0,X.Z)(function*({appConfig:L,heartbeatServiceProvider:z},le){const $e=We(L,le),wt=ye(L,le),At=z.getImmediate({optional:!0});if(At){const hr=yield At.getHeartbeatsHeader();hr&&wt.append("x-firebase-client",hr)}const _n={method:"POST",headers:wt,body:JSON.stringify({installation:{sdkVersion:re,appId:L.appId}})},Cr=yield Oe(()=>fetch($e,_n));if(Cr.ok)return It(yield Cr.json());throw yield Mt("Generate Auth Token",Cr)})).apply(this,arguments)}function We(L,{fid:z}){return`${lt(L)}/${z}/authTokens:generate`}function tt(L){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,X.Z)(function*(L,z=!1){let le;const $e=yield mr(L.appConfig,At=>{if(!Pn(At))throw gt.create("not-registered");const ln=At.authToken;if(!z&&$n(ln))return At;if(1===ln.requestStatus)return le=Ge(L,z),At;{if(!navigator.onLine)throw gt.create("app-offline");const _n=wr(At);return le=on(L,_n),_n}});return le?yield le:$e.authToken})).apply(this,arguments)}function Ge(L,z){return ut.apply(this,arguments)}function ut(){return(ut=(0,X.Z)(function*(L,z){let le=yield Zt(L.appConfig);for(;1===le.authToken.requestStatus;)yield St(100),le=yield Zt(L.appConfig);const $e=le.authToken;return 0===$e.requestStatus?tt(L,z):$e})).apply(this,arguments)}function Zt(L){return mr(L,z=>{if(!Pn(z))throw gt.create("not-registered");return function Zr(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}(z.authToken)?Object.assign(Object.assign({},z),{authToken:{requestStatus:0}}):z})}function on(L,z){return vn.apply(this,arguments)}function vn(){return(vn=(0,X.Z)(function*(L,z){try{const le=yield yr(L,z),$e=Object.assign(Object.assign({},z),{authToken:le});return yield Mr(L.appConfig,$e),le}catch(le){if(!we(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const $e=Object.assign(Object.assign({},z),{authToken:{requestStatus:0}});yield Mr(L.appConfig,$e)}else yield ar(L.appConfig);throw le}})).apply(this,arguments)}function Pn(L){return void 0!==L&&2===L.registrationStatus}function $n(L){return 2===L.requestStatus&&!function Dn(L){const z=Date.now();return z<L.creationTime||L.creationTime+L.expiresIn<z+36e5}(L)}function wr(L){const z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:z})}function Ri(){return(Ri=(0,X.Z)(function*(L){const z=L,{installationEntry:le,registrationPromise:$e}=yield Ke(z);return $e?$e.catch(console.error):tt(z).catch(console.error),le.fid})).apply(this,arguments)}function gi(){return(gi=(0,X.Z)(function*(L,z=!1){const le=L;return yield ai(le),(yield tt(le,z)).token})).apply(this,arguments)}function ai(L){return Si.apply(this,arguments)}function Si(){return(Si=(0,X.Z)(function*(L){const{registrationPromise:z}=yield Ke(L);z&&(yield z)})).apply(this,arguments)}function kr(L){return gt.create("missing-app-config-values",{valueName:L})}const Lr="installations",mn=L=>{const z=L.getProvider("app").getImmediate(),le=function Dr(L){if(!L||!L.options)throw kr("App Configuration");if(!L.name)throw kr("App Name");const z=["projectId","apiKey","appId"];for(const le of z)if(!L.options[le])throw kr(le);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(z);return{app:z,appConfig:le,heartbeatServiceProvider:(0,ze._getProvider)(z,"heartbeat"),_delete:()=>Promise.resolve()}},qn=L=>{const z=L.getProvider("app").getImmediate(),le=(0,ze._getProvider)(z,Lr).getImmediate();return{getId:()=>function Hr(L){return Ri.apply(this,arguments)}(le),getToken:wt=>function ls(L){return gi.apply(this,arguments)}(le,wt)}};(function Wr(){(0,ze._registerComponent)(new ue.wA(Lr,mn,"PUBLIC")),(0,ze._registerComponent)(new ue.wA("installations-internal",qn,"PRIVATE"))})(),(0,ze.registerVersion)(Ie,"0.5.9"),(0,ze.registerVersion)(Ie,"0.5.9","esm2017");const Qr="@firebase/remote-config",Gr=new Be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kn{constructor(z,le,$e,wt){this.client=z,this.storage=le,this.storageCache=$e,this.logger=wt}isCachedDataFresh(z,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-le,wt=$e<=z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${z}. Is cache hit: ${wt}.`),wt}fetch(z){var le=this;return(0,X.Z)(function*(){const[$e,wt]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(wt&&le.isCachedDataFresh(z.cacheMaxAgeMillis,$e))return wt;z.eTag=wt&&wt.eTag;const At=yield le.client.fetch(z),ln=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&ln.push(le.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(ln),At})()}}function jn(L=navigator){return L.languages&&L.languages[0]||L.language}class sr{constructor(z,le,$e,wt,At,ln){this.firebaseInstallations=z,this.sdkVersion=le,this.namespace=$e,this.projectId=wt,this.apiKey=At,this.appId=ln}fetch(z){var le=this;return(0,X.Z)(function*(){const[$e,wt]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),ln=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":z.eTag||"*"},Cr={sdk_version:le.sdkVersion,app_instance_id:$e,app_instance_id_token:wt,app_id:le.appId,language_code:jn()},hr={method:"POST",headers:_n,body:JSON.stringify(Cr)},$r=fetch(ln,hr),Ar=new Promise((ri,Uo)=>{z.signal.addEventListener(()=>{const Ds=new Error("The operation was aborted.");Ds.name="AbortError",Uo(Ds)})});let ci;try{yield Promise.race([$r,Ar]),ci=yield $r}catch(ri){let Uo="fetch-client-network";throw"AbortError"===ri.name&&(Uo="fetch-timeout"),Gr.create(Uo,{originalErrorMessage:ri.message})}let as=ci.status;const Ua=ci.headers.get("ETag")||void 0;let bo,pi;if(200===ci.status){let ri;try{ri=yield ci.json()}catch(Uo){throw Gr.create("fetch-client-parse",{originalErrorMessage:Uo.message})}bo=ri.entries,pi=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===pi?as=500:"NO_CHANGE"===pi?as=304:("NO_TEMPLATE"===pi||"EMPTY_CONFIG"===pi)&&(bo={}),304!==as&&200!==as)throw Gr.create("fetch-status",{httpStatus:as});return{status:as,eTag:Ua,config:bo}})()}}class rt{constructor(z,le){this.client=z,this.storage=le}fetch(z){var le=this;return(0,X.Z)(function*(){const $e=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(z,$e)})()}attemptFetch(z,{throttleEndTimeMillis:le,backoffCount:$e}){var wt=this;return(0,X.Z)(function*(){yield function ti(L,z){return new Promise((le,$e)=>{const wt=Math.max(z-Date.now(),0),At=setTimeout(le,wt);L.addEventListener(()=>{clearTimeout(At),$e(Gr.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}(z.signal,le);try{const At=yield wt.client.fetch(z);return yield wt.storage.deleteThrottleMetadata(),At}catch(At){if(!function yi(L){if(!(L instanceof Be.ZR&&L.customData))return!1;const z=Number(L.customData.httpStatus);return 429===z||500===z||503===z||504===z}(At))throw At;const ln={throttleEndTimeMillis:Date.now()+(0,Be.$s)($e),backoffCount:$e+1};return yield wt.storage.setThrottleMetadata(ln),wt.attemptFetch(z,ln)}})()}}class Ht{constructor(z,le,$e,wt,At){this.app=z,this._client=le,this._storageCache=$e,this._storage=wt,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(L,z){const le=L.target.error||void 0;return Gr.create(z,{originalErrorMessage:le&&le.message})}const Cn="app_namespace_store";class xs{constructor(z,le,$e,wt=function Yn(){return new Promise((L,z)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=$e=>{z(Qt($e,"storage-open"))},le.onsuccess=$e=>{L($e.target.result)},le.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(Cn,{keyPath:"compositeKey"})}}catch(le){z(Gr.create("storage-open",{originalErrorMessage:le}))}})}()){this.appId=z,this.appName=le,this.namespace=$e,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(z){return this.set("last_fetch_status",z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(z){return this.set("last_successful_fetch_timestamp_millis",z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(z){return this.set("last_successful_fetch_response",z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(z){return this.set("active_config",z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(z){return this.set("active_config_etag",z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(z){return this.set("throttle_metadata",z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(z){var le=this;return(0,X.Z)(function*(){const $e=yield le.openDbPromise;return new Promise((wt,At)=>{const _n=$e.transaction([Cn],"readonly").objectStore(Cn),Cr=le.createCompositeKey(z);try{const hr=_n.get(Cr);hr.onerror=$r=>{At(Qt($r,"storage-get"))},hr.onsuccess=$r=>{const Ar=$r.target.result;wt(Ar?Ar.value:void 0)}}catch(hr){At(Gr.create("storage-get",{originalErrorMessage:hr&&hr.message}))}})})()}set(z,le){var $e=this;return(0,X.Z)(function*(){const wt=yield $e.openDbPromise;return new Promise((At,ln)=>{const Cr=wt.transaction([Cn],"readwrite").objectStore(Cn),hr=$e.createCompositeKey(z);try{const $r=Cr.put({compositeKey:hr,value:le});$r.onerror=Ar=>{ln(Qt(Ar,"storage-set"))},$r.onsuccess=()=>{At()}}catch($r){ln(Gr.create("storage-set",{originalErrorMessage:$r&&$r.message}))}})})()}delete(z){var le=this;return(0,X.Z)(function*(){const $e=yield le.openDbPromise;return new Promise((wt,At)=>{const _n=$e.transaction([Cn],"readwrite").objectStore(Cn),Cr=le.createCompositeKey(z);try{const hr=_n.delete(Cr);hr.onerror=$r=>{At(Qt($r,"storage-delete"))},hr.onsuccess=()=>{wt()}}catch(hr){At(Gr.create("storage-delete",{originalErrorMessage:hr&&hr.message}))}})})()}createCompositeKey(z){return[this.appId,this.appName,this.namespace,z].join()}}class Ji{constructor(z){this.storage=z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var z=this;return(0,X.Z)(function*(){const le=z.storage.getLastFetchStatus(),$e=z.storage.getLastSuccessfulFetchTimestampMillis(),wt=z.storage.getActiveConfig(),At=yield le;At&&(z.lastFetchStatus=At);const ln=yield $e;ln&&(z.lastSuccessfulFetchTimestampMillis=ln);const _n=yield wt;_n&&(z.activeConfig=_n)})()}setLastFetchStatus(z){return this.lastFetchStatus=z,this.storage.setLastFetchStatus(z)}setLastSuccessfulFetchTimestampMillis(z){return this.lastSuccessfulFetchTimestampMillis=z,this.storage.setLastSuccessfulFetchTimestampMillis(z)}setActiveConfig(z){return this.activeConfig=z,this.storage.setActiveConfig(z)}}function qi(){return ro.apply(this,arguments)}function ro(){return(ro=(0,X.Z)(function*(){if(!(0,Be.hl)())return!1;try{return yield(0,Be.eu)()}catch(L){return!1}})).apply(this,arguments)}!function Wi(){(0,ze._registerComponent)(new ue.wA("remote-config",function L(z,{instanceIdentifier:le}){const $e=z.getProvider("app").getImmediate(),wt=z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gr.create("registration-window");if(!(0,Be.hl)())throw Gr.create("indexed-db-unavailable");const{projectId:At,apiKey:ln,appId:_n}=$e.options;if(!At)throw Gr.create("registration-project-id");if(!ln)throw Gr.create("registration-api-key");if(!_n)throw Gr.create("registration-app-id");const Cr=new xs(_n,$e.name,le=le||"firebase"),hr=new Ji(Cr),$r=new xe.Yd(Qr);$r.logLevel=xe.in.ERROR;const Ar=new sr(wt,ze.SDK_VERSION,le,At,ln,_n),ci=new rt(Ar,Cr),as=new kn(ci,Cr,hr,$r),Ua=new Ht($e,as,hr,Cr,$r);return function me(L){const z=(0,Be.m9)(L);z._initializePromise||(z._initializePromise=z._storageCache.loadFromStorage().then(()=>{z._isInitializationComplete=!0}))}(Ua),Ua},"PUBLIC").setMultipleInstances(!0)),(0,ze.registerVersion)(Qr,"0.3.8"),(0,ze.registerVersion)(Qr,"0.3.8","esm2017")}();const Xs="/firebase-messaging-sw.js",ki="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gs="google.c.a.c_id",io="google.c.a.c_l",go="google.c.a.ts",ho="google.c.a.e";var Ns=(()=>{return(L=Ns||(Ns={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",Ns;var L})();function ts(L){const z=new Uint8Array(L);return btoa(String.fromCharCode(...z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yi(L){const le=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(le),wt=new Uint8Array($e.length);for(let At=0;At<$e.length;++At)wt[At]=$e.charCodeAt(At);return wt}const Br="fcm_token_details_db",hi="fcm_token_object_Store";function mo(L){return us.apply(this,arguments)}function us(){return us=(0,X.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(Br))return null;let z=null;return(yield(0,De.X3)(Br,5,{upgrade:($e=(0,X.Z)(function*(wt,At,ln,_n){var Cr;if(At<2||!wt.objectStoreNames.contains(hi))return;const hr=_n.objectStore(hi),$r=yield hr.index("fcmSenderId").get(L);if(yield hr.clear(),$r)if(2===At){const Ar=$r;if(!Ar.auth||!Ar.p256dh||!Ar.endpoint)return;z={token:Ar.fcmToken,createTime:null!==(Cr=Ar.createTime)&&void 0!==Cr?Cr:Date.now(),subscriptionOptions:{auth:Ar.auth,p256dh:Ar.p256dh,endpoint:Ar.endpoint,swScope:Ar.swScope,vapidKey:"string"==typeof Ar.vapidKey?Ar.vapidKey:ts(Ar.vapidKey)}}}else if(3===At){const Ar=$r;z={token:Ar.fcmToken,createTime:Ar.createTime,subscriptionOptions:{auth:ts(Ar.auth),p256dh:ts(Ar.p256dh),endpoint:Ar.endpoint,swScope:Ar.swScope,vapidKey:ts(Ar.vapidKey)}}}else if(4===At){const Ar=$r;z={token:Ar.fcmToken,createTime:Ar.createTime,subscriptionOptions:{auth:ts(Ar.auth),p256dh:ts(Ar.p256dh),endpoint:Ar.endpoint,swScope:Ar.swScope,vapidKey:ts(Ar.vapidKey)}}}}),function(At,ln,_n,Cr){return $e.apply(this,arguments)})})).close(),yield(0,De.Lj)(Br),yield(0,De.Lj)("fcm_vapid_details_db"),yield(0,De.Lj)("undefined"),bs(z)?z:null;var $e}),us.apply(this,arguments)}function bs(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:z}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof z.auth&&z.auth.length>0&&"string"==typeof z.p256dh&&z.p256dh.length>0&&"string"==typeof z.endpoint&&z.endpoint.length>0&&"string"==typeof z.swScope&&z.swScope.length>0&&"string"==typeof z.vapidKey&&z.vapidKey.length>0}const Xi="firebase-messaging-store";let No=null;function Tr(){return No||(No=(0,De.X3)("firebase-messaging-database",1,{upgrade:(L,z)=>{0===z&&L.createObjectStore(Xi)}})),No}function j(L){return se.apply(this,arguments)}function se(){return(se=(0,X.Z)(function*(L){const z=Vt(L),$e=yield(yield Tr()).transaction(Xi).objectStore(Xi).get(z);if($e)return $e;{const wt=yield mo(L.appConfig.senderId);if(wt)return yield $(L,wt),wt}})).apply(this,arguments)}function $(L,z){return de.apply(this,arguments)}function de(){return(de=(0,X.Z)(function*(L,z){const le=Vt(L),wt=(yield Tr()).transaction(Xi,"readwrite");return yield wt.objectStore(Xi).put(z,le),yield wt.done,z})).apply(this,arguments)}function nt(L){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,X.Z)(function*(L){const z=Vt(L),$e=(yield Tr()).transaction(Xi,"readwrite");yield $e.objectStore(Xi).delete(z),yield $e.done})).apply(this,arguments)}function Vt({appConfig:L}){return L.appId}const or=new Be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nr(L,z){return lr.apply(this,arguments)}function lr(){return(lr=(0,X.Z)(function*(L,z){const le=yield ys(L),$e=ji(z),wt={method:"POST",headers:le,body:JSON.stringify($e)};let At;try{At=yield(yield fetch(Ms(L.appConfig),wt)).json()}catch(ln){throw or.create("token-subscribe-failed",{errorInfo:ln})}if(At.error)throw or.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw or.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function Sr(L,z){return Di.apply(this,arguments)}function Di(){return(Di=(0,X.Z)(function*(L,z){const le=yield ys(L),$e=ji(z.subscriptionOptions),wt={method:"PATCH",headers:le,body:JSON.stringify($e)};let At;try{At=yield(yield fetch(`${Ms(L.appConfig)}/${z.token}`,wt)).json()}catch(ln){throw or.create("token-update-failed",{errorInfo:ln})}if(At.error)throw or.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw or.create("token-update-no-token");return At.token})).apply(this,arguments)}function li(L,z){return _i.apply(this,arguments)}function _i(){return(_i=(0,X.Z)(function*(L,z){const $e={method:"DELETE",headers:yield ys(L)};try{const At=yield(yield fetch(`${Ms(L.appConfig)}/${z}`,$e)).json();if(At.error)throw or.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(wt){throw or.create("token-unsubscribe-failed",{errorInfo:wt})}})).apply(this,arguments)}function Ms({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function ys(L){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,X.Z)(function*({appConfig:L,installations:z}){const le=yield z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function ji({p256dh:L,auth:z,endpoint:le,vapidKey:$e}){const wt={web:{endpoint:le,auth:z,p256dh:L}};return $e!==es&&(wt.web.applicationPubKey=$e),wt}const G=6048e5;function V(L){return N.apply(this,arguments)}function N(){return(N=(0,X.Z)(function*(L){const z=yield D(L.swRegistration,L.vapidKey),le={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:z.endpoint,auth:ts(z.getKey("auth")),p256dh:ts(z.getKey("p256dh"))},$e=yield j(L.firebaseDependencies);if($e){if(ge($e.subscriptionOptions,le))return Date.now()>=$e.createTime+G?E(L,{token:$e.token,createTime:Date.now(),subscriptionOptions:le}):$e.token;try{yield li(L.firebaseDependencies,$e.token)}catch(wt){console.warn(wt)}return b(L.firebaseDependencies,le)}return b(L.firebaseDependencies,le)})).apply(this,arguments)}function ie(L){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,X.Z)(function*(L){const z=yield j(L.firebaseDependencies);z&&(yield li(L.firebaseDependencies,z.token),yield nt(L.firebaseDependencies));const le=yield L.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function E(L,z){return k.apply(this,arguments)}function k(){return(k=(0,X.Z)(function*(L,z){try{const le=yield Sr(L.firebaseDependencies,z),$e=Object.assign(Object.assign({},z),{token:le,createTime:Date.now()});return yield $(L.firebaseDependencies,$e),le}catch(le){throw yield ie(L),le}})).apply(this,arguments)}function b(L,z){return v.apply(this,arguments)}function v(){return(v=(0,X.Z)(function*(L,z){const $e={token:yield Nr(L,z),createTime:Date.now(),subscriptionOptions:z};return yield $(L,$e),$e.token})).apply(this,arguments)}function D(L,z){return Y.apply(this,arguments)}function Y(){return(Y=(0,X.Z)(function*(L,z){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yi(z)})})).apply(this,arguments)}function ge(L,z){return z.vapidKey===L.vapidKey&&z.endpoint===L.endpoint&&z.auth===L.auth&&z.p256dh===L.p256dh}function ke(L){const z={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function ht(L,z){if(!z.notification)return;L.notification={};const le=z.notification.title;le&&(L.notification.title=le);const $e=z.notification.body;$e&&(L.notification.body=$e);const wt=z.notification.image;wt&&(L.notification.image=wt)}(z,L),function Ut(L,z){!z.data||(L.data=z.data)}(z,L),function En(L,z){if(!z.fcmOptions)return;L.fcmOptions={};const le=z.fcmOptions.link;le&&(L.fcmOptions.link=le);const $e=z.fcmOptions.analytics_label;$e&&(L.fcmOptions.analyticsLabel=$e)}(z,L),z}function fn(L){return"object"==typeof L&&!!L&&gs in L}function Hn(L,z){const le=[];for(let $e=0;$e<L.length;$e++)le.push(L.charAt($e)),$e<z.length&&le.push(z.charAt($e));return le.join("")}function cr(L){return or.create("missing-app-config-values",{valueName:L})}Hn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _r{constructor(z,le,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const wt=function tr(L){if(!L||!L.options)throw cr("App Configuration Object");if(!L.name)throw cr("App Name");const z=["projectId","apiKey","appId","messagingSenderId"],{options:le}=L;for(const $e of z)if(!le[$e])throw cr($e);return{appName:L.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(z);this.firebaseDependencies={app:z,appConfig:wt,installations:le,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function xi(L){return bi.apply(this,arguments)}function bi(){return(bi=(0,X.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(Xs,{scope:ki}),L.swRegistration.update().catch(()=>{})}catch(z){throw or.create("failed-service-worker-registration",{browserErrorMessage:z.message})}})).apply(this,arguments)}function Ni(L,z){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,X.Z)(function*(L,z){if(!z&&!L.swRegistration&&(yield xi(L)),z||!L.swRegistration){if(!(z instanceof ServiceWorkerRegistration))throw or.create("invalid-sw-registration");L.swRegistration=z}})).apply(this,arguments)}function so(L,z){return vi.apply(this,arguments)}function vi(){return(vi=(0,X.Z)(function*(L,z){z?L.vapidKey=z:L.vapidKey||(L.vapidKey=es)})).apply(this,arguments)}function is(){return(is=(0,X.Z)(function*(L,z){if(!navigator)throw or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw or.create("permission-blocked");return yield so(L,null==z?void 0:z.vapidKey),yield Ni(L,null==z?void 0:z.serviceWorkerRegistration),V(L)})).apply(this,arguments)}function yo(L,z,le){return _o.apply(this,arguments)}function _o(){return(_o=(0,X.Z)(function*(L,z,le){const $e=Yo(z);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:le[gs],message_name:le[io],message_time:le[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yo(L){switch(L){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function na(){return(na=(0,X.Z)(function*(L,z){const le=z.data;if(!le.isFirebaseMessaging)return;L.onMessageHandler&&le.messageType===Ns.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(ke(le)):L.onMessageHandler.next(ke(le)));const $e=le.data;fn($e)&&"1"===$e[ho]&&(yield yo(L,le.messageType,$e))})).apply(this,arguments)}const ga="@firebase/messaging",el=L=>{const z=new _r(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function ta(L,z){return na.apply(this,arguments)}(z,le)),z},js=L=>{const z=L.getProvider("messaging").getImmediate();return{getToken:$e=>function rs(L,z){return is.apply(this,arguments)}(z,$e)}};function Ca(){return ui.apply(this,arguments)}function ui(){return(ui=(0,X.Z)(function*(){try{yield(0,Be.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,Be.hl)()&&(0,Be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ka(){(0,ze._registerComponent)(new ue.wA("messaging",el,"PUBLIC")),(0,ze._registerComponent)(new ue.wA("messaging-internal",js,"PRIVATE")),(0,ze.registerVersion)(ga,"0.9.13"),(0,ze.registerVersion)(ga,"0.9.13","esm2017")}();const Fi="analytics",Vr="firebase_id",oo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rs="https://www.googletagmanager.com/gtag/js",Os=new xe.Yd("@firebase/analytics");function nl(L){return Promise.all(L.map(z=>z.catch(le=>le)))}function sa(L,z){const le=document.createElement("script");le.src=`${Rs}?l=${L}&id=${z}`,le.async=!0,document.head.appendChild(le)}function ao(L,z,le,$e,wt,At){return ya.apply(this,arguments)}function ya(){return(ya=(0,X.Z)(function*(L,z,le,$e,wt,At){const ln=$e[wt];try{if(ln)yield z[ln];else{const Cr=(yield nl(le)).find(hr=>hr.measurementId===wt);Cr&&(yield z[Cr.appId])}}catch(_n){Os.error(_n)}L("config",wt,At)})).apply(this,arguments)}function ss(L,z,le,$e,wt){return oa.apply(this,arguments)}function oa(){return(oa=(0,X.Z)(function*(L,z,le,$e,wt){try{let At=[];if(wt&&wt.send_to){let ln=wt.send_to;Array.isArray(ln)||(ln=[ln]);const _n=yield nl(le);for(const Cr of ln){const hr=_n.find(Ar=>Ar.measurementId===Cr),$r=hr&&z[hr.appId];if(!$r){At=[];break}At.push($r)}}0===At.length&&(At=Object.values(z)),yield Promise.all(At),L("event",$e,wt||{})}catch(At){Os.error(At)}})).apply(this,arguments)}function lo(){const L=window.document.getElementsByTagName("script");for(const z of Object.values(L))if(z.src&&z.src.includes(Rs))return z;return null}const Qs=new Be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),la=new class br{constructor(z={},le=1e3){this.throttleMetadata=z,this.intervalMillis=le}getThrottleMetadata(z){return this.throttleMetadata[z]}setThrottleMetadata(z,le){this.throttleMetadata[z]=le}deleteThrottleMetadata(z){delete this.throttleMetadata[z]}};function La(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function vo(L){return Co.apply(this,arguments)}function Co(){return(Co=(0,X.Z)(function*(L){var z;const{appId:le,apiKey:$e}=L,wt={method:"GET",headers:La($e)},At=oo.replace("{app-id}",le),ln=yield fetch(At,wt);if(200!==ln.status&&304!==ln.status){let _n="";try{const Cr=yield ln.json();(null===(z=Cr.error)||void 0===z?void 0:z.message)&&(_n=Cr.error.message)}catch(Cr){}throw Qs.create("config-fetch-failed",{httpStatus:ln.status,responseMessage:_n})}return ln.json()})).apply(this,arguments)}function fi(L){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,X.Z)(function*(L,z=la,le){const{appId:$e,apiKey:wt,measurementId:At}=L.options;if(!$e)throw Qs.create("no-app-id");if(!wt){if(At)return{measurementId:At,appId:$e};throw Qs.create("no-api-key")}const ln=z.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new Ko;return setTimeout((0,X.Z)(function*(){_n.abort()}),void 0!==le?le:6e4),Da({appId:$e,apiKey:wt,measurementId:At},ln,_n,z)})).apply(this,arguments)}function Da(L,z,le){return Js.apply(this,arguments)}function Js(){return(Js=(0,X.Z)(function*(L,{throttleEndTimeMillis:z,backoffCount:le},$e,wt=la){const{appId:At,measurementId:ln}=L;try{yield ws($e,z)}catch(_n){if(ln)return Os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${_n.message}]`),{appId:At,measurementId:ln};throw _n}try{const _n=yield vo(L);return wt.deleteThrottleMetadata(At),_n}catch(_n){if(!ua(_n)){if(wt.deleteThrottleMetadata(At),ln)return Os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${_n.message}]`),{appId:At,measurementId:ln};throw _n}const Cr=503===Number(_n.customData.httpStatus)?(0,Be.$s)(le,wt.intervalMillis,30):(0,Be.$s)(le,wt.intervalMillis),hr={throttleEndTimeMillis:Date.now()+Cr,backoffCount:le+1};return wt.setThrottleMetadata(At,hr),Os.debug(`Calling attemptFetch again in ${Cr} millis`),Da(L,hr,$e,wt)}})).apply(this,arguments)}function ws(L,z){return new Promise((le,$e)=>{const wt=Math.max(z-Date.now(),0),At=setTimeout(le,wt);L.addEventListener(()=>{clearTimeout(At),$e(Qs.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}function ua(L){if(!(L instanceof Be.ZR&&L.customData))return!1;const z=Number(L.customData.httpStatus);return 429===z||500===z||503===z||504===z}class Ko{constructor(){this.listeners=[]}addEventListener(z){this.listeners.push(z)}abort(){this.listeners.forEach(z=>z())}}function El(){return ca.apply(this,arguments)}function ca(){return(ca=(0,X.Z)(function*(){if(!(0,Be.hl)())return Os.warn(Qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Be.eu)()}catch(L){return Os.warn(Qs.create("indexeddb-unavailable",{errorInfo:L}).message),!1}return!0})).apply(this,arguments)}function Hi(){return(Hi=(0,X.Z)(function*(L,z,le,$e,wt,At,ln){var _n;const Cr=fi(L);Cr.then(as=>{le[as.measurementId]=as.appId,L.options.measurementId&&as.measurementId!==L.options.measurementId&&Os.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${as.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(as=>Os.error(as)),z.push(Cr);const hr=El().then(as=>{if(as)return $e.getId()}),[$r,Ar]=yield Promise.all([Cr,hr]);lo()||sa(At,$r.measurementId),wt("js",new Date);const ci=null!==(_n=null==ln?void 0:ln.config)&&void 0!==_n?_n:{};return ci.origin="firebase",ci.update=!0,null!=Ar&&(ci[Vr]=Ar),wt("config",$r.measurementId,ci),$r.measurementId})).apply(this,arguments)}class Gs{constructor(z){this.app=z}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}}let Is={},Ln=[];const gr={};let Dt,M,Ta="dataLayer",x=!1;function q(L,z,le){!function U(){const L=[];if((0,Be.ru)()&&L.push("This is a browser extension environment."),(0,Be.zI)()||L.push("Cookies are not available."),L.length>0){const z=L.map(($e,wt)=>`(${wt+1}) ${$e}`).join(" "),le=Qs.create("invalid-analytics-context",{errorInfo:z});Os.warn(le.message)}}();const $e=L.options.appId;if(!$e)throw Qs.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw Qs.create("no-api-key");Os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Is[$e])throw Qs.create("already-exists",{id:$e});if(!x){!function ma(L){let z=[];Array.isArray(window[L])?z=window[L]:window[L]=z}(Ta);const{wrappedGtag:At,gtagCore:ln}=function _a(L,z,le,$e,wt){let At=function(...ln){window[$e].push(arguments)};return window[wt]&&"function"==typeof window[wt]&&(At=window[wt]),window[wt]=function vl(L,z,le,$e){function At(){return(At=(0,X.Z)(function*(ln,_n,Cr){try{"event"===ln?yield ss(L,z,le,_n,Cr):"config"===ln?yield ao(L,z,le,$e,_n,Cr):L("set",_n)}catch(hr){Os.error(hr)}})).apply(this,arguments)}return function wt(ln,_n,Cr){return At.apply(this,arguments)}}(At,L,z,le),{gtagCore:At,wrappedGtag:window[wt]}}(Is,Ln,gr,Ta,"gtag");M=At,Dt=ln,x=!0}return Is[$e]=function un(L,z,le,$e,wt,At,ln){return Hi.apply(this,arguments)}(L,Ln,gr,z,Dt,Ta,le),new Gs(L)}function Ne(){return(Ne=(0,X.Z)(function*(L,z,le,$e,wt){if(wt&&wt.global)L("event",le,$e);else{const At=yield z;L("event",le,Object.assign(Object.assign({},$e),{send_to:At}))}})).apply(this,arguments)}function cs(){return er.apply(this,arguments)}function er(){return(er=(0,X.Z)(function*(){if((0,Be.ru)()||!(0,Be.zI)()||!(0,Be.hl)())return!1;try{return yield(0,Be.eu)()}catch(L){return!1}})).apply(this,arguments)}const ql="@firebase/analytics";!function Yl(){(0,ze._registerComponent)(new ue.wA(Fi,(z,{options:le})=>q(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,ze._registerComponent)(new ue.wA("analytics-internal",function L(z){try{const le=z.getProvider(Fi).getImmediate();return{logEvent:($e,wt,At)=>function oi(L,z,le,$e){L=(0,Be.m9)(L),function ae(L,z,le,$e,wt){return Ne.apply(this,arguments)}(M,Is[L.app.options.appId],z,le,$e).catch(wt=>Os.error(wt))}(le,$e,wt,At)}}catch(le){throw Qs.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,ze.registerVersion)(ql,"0.7.9"),(0,ze.registerVersion)(ql,"0.7.9","esm2017")}();var il=B(341),Cs=B(353),ks=B(2868),Do=B(2102),Gi=B(8915);const bl=new u.GfV("7.3.0"),sl="__angularfire_symbol__analyticsIsSupportedValue",uo="__angularfire_symbol__analyticsIsSupported",eo="__angularfire_symbol__remoteConfigIsSupportedValue",Sa="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",To="__angularfire_symbol__messagingIsSupported";function Il(L,z,le){if(z){if(1===z.length)return z[0];const At=z.filter(ln=>ln.app===le);if(1===At.length)return At[0]}return le.container.getProvider(L).getImmediate({optional:!0})}globalThis[uo]||(globalThis[uo]=cs().then(L=>globalThis[sl]=L).catch(()=>globalThis[sl]=!1)),globalThis[To]||(globalThis[To]=Ca().then(L=>globalThis[fo]=L).catch(()=>globalThis[fo]=!1)),globalThis[Sa]||(globalThis[Sa]=qi().then(L=>globalThis[eo]=L).catch(()=>globalThis[eo]=!1));const Bo=(L,z)=>{const le=z?[z]:(0,te.C6)(),$e=[];return le.forEach(wt=>{wt.container.getProvider(L).instances.forEach(ln=>{$e.includes(ln)||$e.push(ln)})}),$e};function Bi(){}class Zo{constructor(z,le=il.N){this.zone=z,this.delegate=le}now(){return this.delegate.now()}schedule(z,le,$e){const wt=this.zone;return this.delegate.schedule(function(ln){wt.runGuarded(()=>{z.apply(this,[ln])})},le,$e)}}class So{constructor(z){this.zone=z,this.task=null}call(z,le){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bi,{},Bi,Bi)),le.pipe((0,ks.b)({next:$e,complete:$e,error:$e})).subscribe(z).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hd=(()=>{class L{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Zo(Zone.current)),this.insideAngular=le.run(()=>new Zo(Zone.current,Cs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(le){return new(le||L)(u.LFG(u.R0b))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Ao(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Zl(L){return L.pipe((0,Do.QV)(Ao().outsideAngular))}function ol(L){return Ao(),function al(L){return function(le){return(le=le.lift(new So(L.ngZone))).pipe((0,Gi.R)(L.outsideAngular),(0,Do.QV)(L.insideAngular))}}(Ao())(L)}},2090:(nn,dt,B)=>{"use strict";B.d(dt,{BH:()=>fe,LL:()=>Je,ZR:()=>He,gQ:()=>Gn,zI:()=>Ae,hu:()=>te,g5:()=>X,US:()=>ue,tV:()=>Ie,h$:()=>xe,L:()=>De,$s:()=>xn,r3:()=>jt,Sg:()=>Ye,ne:()=>zn,p$:()=>ce,vZ:()=>Rn,ZB:()=>ve,gK:()=>mr,pd:()=>jr,m9:()=>yr,z$:()=>Ue,GJ:()=>et,jU:()=>je,ru:()=>gt,d:()=>lt,xb:()=>en,w1:()=>It,hl:()=>ye,uI:()=>Ee,UG:()=>Fe,Yr:()=>Xe,b$:()=>we,G6:()=>bt,Mn:()=>Mt,w9:()=>Te,cI:()=>pt,UI:()=>pn,xO:()=>dn,zd:()=>Wn,DV:()=>Et,ug:()=>Rt,dS:()=>Yt,Pz:()=>_t,Dv:()=>Qn,Wj:()=>Ke,lb:()=>Se,eu:()=>Oe});const te=function(Me,We){if(!Me)throw X(We)},X=function(Me){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Me)},ze=function(Me){const We=[];let tt=0;for(let Nt=0;Nt<Me.length;Nt++){let Ge=Me.charCodeAt(Nt);Ge<128?We[tt++]=Ge:Ge<2048?(We[tt++]=Ge>>6|192,We[tt++]=63&Ge|128):55296==(64512&Ge)&&Nt+1<Me.length&&56320==(64512&Me.charCodeAt(Nt+1))?(Ge=65536+((1023&Ge)<<10)+(1023&Me.charCodeAt(++Nt)),We[tt++]=Ge>>18|240,We[tt++]=Ge>>12&63|128,We[tt++]=Ge>>6&63|128,We[tt++]=63&Ge|128):(We[tt++]=Ge>>12|224,We[tt++]=Ge>>6&63|128,We[tt++]=63&Ge|128)}return We},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,We){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tt=We?this.byteToCharMapWebSafe_:this.byteToCharMap_,Nt=[];for(let Ge=0;Ge<Me.length;Ge+=3){const ut=Me[Ge],Zt=Ge+1<Me.length,on=Zt?Me[Ge+1]:0,vn=Ge+2<Me.length,Pn=vn?Me[Ge+2]:0;let wr=(15&on)<<2|Pn>>6,Zr=63&Pn;vn||(Zr=64,Zt||(wr=64)),Nt.push(tt[ut>>2],tt[(3&ut)<<4|on>>4],tt[wr],tt[Zr])}return Nt.join("")},encodeString(Me,We){return this.HAS_NATIVE_SUPPORT&&!We?btoa(Me):this.encodeByteArray(ze(Me),We)},decodeString(Me,We){return this.HAS_NATIVE_SUPPORT&&!We?atob(Me):function(Me){const We=[];let tt=0,Nt=0;for(;tt<Me.length;){const Ge=Me[tt++];if(Ge<128)We[Nt++]=String.fromCharCode(Ge);else if(Ge>191&&Ge<224){const ut=Me[tt++];We[Nt++]=String.fromCharCode((31&Ge)<<6|63&ut)}else if(Ge>239&&Ge<365){const vn=((7&Ge)<<18|(63&Me[tt++])<<12|(63&Me[tt++])<<6|63&Me[tt++])-65536;We[Nt++]=String.fromCharCode(55296+(vn>>10)),We[Nt++]=String.fromCharCode(56320+(1023&vn))}else{const ut=Me[tt++],Zt=Me[tt++];We[Nt++]=String.fromCharCode((15&Ge)<<12|(63&ut)<<6|63&Zt)}}return We.join("")}(this.decodeStringToByteArray(Me,We))},decodeStringToByteArray(Me,We){this.init_();const tt=We?this.charToByteMapWebSafe_:this.charToByteMap_,Nt=[];for(let Ge=0;Ge<Me.length;){const ut=tt[Me.charAt(Ge++)],on=Ge<Me.length?tt[Me.charAt(Ge)]:0;++Ge;const Pn=Ge<Me.length?tt[Me.charAt(Ge)]:64;++Ge;const Dn=Ge<Me.length?tt[Me.charAt(Ge)]:64;if(++Ge,null==ut||null==on||null==Pn||null==Dn)throw Error();Nt.push(ut<<2|on>>4),64!==Pn&&(Nt.push(on<<4&240|Pn>>2),64!==Dn&&Nt.push(Pn<<6&192|Dn))}return Nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},xe=function(Me){const We=ze(Me);return ue.encodeByteArray(We,!0)},De=function(Me){return xe(Me).replace(/\./g,"")},Ie=function(Me){try{return ue.decodeString(Me,!0)}catch(We){console.error("base64Decode failed: ",We)}return null};function ce(Me){return ve(void 0,Me)}function ve(Me,We){if(!(We instanceof Object))return We;switch(We.constructor){case Date:return new Date(We.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return We}for(const tt in We)!We.hasOwnProperty(tt)||!re(tt)||(Me[tt]=ve(Me[tt],We[tt]));return Me}function re(Me){return"__proto__"!==Me}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((We,tt)=>{this.resolve=We,this.reject=tt})}wrapCallback(We){return(tt,Nt)=>{tt?this.reject(tt):this.resolve(Nt),"function"==typeof We&&(this.promise.catch(()=>{}),1===We.length?We(tt):We(tt,Nt))}}}function Ye(Me,We){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Nt=We||"demo-project",Ge=Me.iat||0,ut=Me.sub||Me.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Zt=Object.assign({iss:`https://securetoken.google.com/${Nt}`,aud:Nt,iat:Ge,exp:Ge+3600,auth_time:Ge,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(Zt)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Me){return!1}}function je(){return"object"==typeof self&&self.self===self}function gt(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){return Ue().indexOf("Electron/")>=0}function It(){const Me=Ue();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function Mt(){return Ue().indexOf("MSAppHost/")>=0}function Xe(){return!1}function bt(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function Oe(){return new Promise((Me,We)=>{try{let tt=!0;const Nt="validate-browser-context-for-indexeddb-analytics-module",Ge=self.indexedDB.open(Nt);Ge.onsuccess=()=>{Ge.result.close(),tt||self.indexedDB.deleteDatabase(Nt),Me(!0)},Ge.onupgradeneeded=()=>{tt=!1},Ge.onerror=()=>{var ut;We((null===(ut=Ge.error)||void 0===ut?void 0:ut.message)||"")}}catch(tt){We(tt)}})}function Ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class He extends Error{constructor(We,tt,Nt){super(tt),this.code=We,this.customData=Nt,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(We,tt,Nt){this.service=We,this.serviceName=tt,this.errors=Nt}create(We,...tt){const Nt=tt[0]||{},Ge=`${this.service}/${We}`,ut=this.errors[We],Zt=ut?function St(Me,We){return Me.replace(Wt,(tt,Nt)=>{const Ge=We[Nt];return null!=Ge?String(Ge):`<${Nt}?>`})}(ut,Nt):"Error";return new He(Ge,`${this.serviceName}: ${Zt} (${Ge}).`,Nt)}}const Wt=/\{\$([^}]+)}/g;function pt(Me){return JSON.parse(Me)}function _t(Me){return JSON.stringify(Me)}const qe=function(Me){let We={},tt={},Nt={},Ge="";try{const ut=Me.split(".");We=pt(Ie(ut[0])||""),tt=pt(Ie(ut[1])||""),Ge=ut[2],Nt=tt.d||{},delete tt.d}catch(ut){}return{header:We,claims:tt,data:Nt,signature:Ge}},Te=function(Me){const tt=qe(Me).claims;return!!tt&&"object"==typeof tt&&tt.hasOwnProperty("iat")},et=function(Me){const We=qe(Me).claims;return"object"==typeof We&&!0===We.admin};function jt(Me,We){return Object.prototype.hasOwnProperty.call(Me,We)}function Et(Me,We){if(Object.prototype.hasOwnProperty.call(Me,We))return Me[We]}function en(Me){for(const We in Me)if(Object.prototype.hasOwnProperty.call(Me,We))return!1;return!0}function pn(Me,We,tt){const Nt={};for(const Ge in Me)Object.prototype.hasOwnProperty.call(Me,Ge)&&(Nt[Ge]=We.call(tt,Me[Ge],Ge,Me));return Nt}function Rn(Me,We){if(Me===We)return!0;const tt=Object.keys(Me),Nt=Object.keys(We);for(const Ge of tt){if(!Nt.includes(Ge))return!1;const ut=Me[Ge],Zt=We[Ge];if(gn(ut)&&gn(Zt)){if(!Rn(ut,Zt))return!1}else if(ut!==Zt)return!1}for(const Ge of Nt)if(!tt.includes(Ge))return!1;return!0}function gn(Me){return null!==Me&&"object"==typeof Me}function dn(Me){const We=[];for(const[tt,Nt]of Object.entries(Me))Array.isArray(Nt)?Nt.forEach(Ge=>{We.push(encodeURIComponent(tt)+"="+encodeURIComponent(Ge))}):We.push(encodeURIComponent(tt)+"="+encodeURIComponent(Nt));return We.length?"&"+We.join("&"):""}function Wn(Me){const We={};return Me.replace(/^\?/,"").split("&").forEach(Nt=>{if(Nt){const[Ge,ut]=Nt.split("=");We[decodeURIComponent(Ge)]=decodeURIComponent(ut)}}),We}function jr(Me){const We=Me.indexOf("?");if(!We)return"";const tt=Me.indexOf("#",We);return Me.substring(We,tt>0?tt:void 0)}class Gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let We=1;We<this.blockSize;++We)this.pad_[We]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(We,tt){tt||(tt=0);const Nt=this.W_;if("string"==typeof We)for(let Dn=0;Dn<16;Dn++)Nt[Dn]=We.charCodeAt(tt)<<24|We.charCodeAt(tt+1)<<16|We.charCodeAt(tt+2)<<8|We.charCodeAt(tt+3),tt+=4;else for(let Dn=0;Dn<16;Dn++)Nt[Dn]=We[tt]<<24|We[tt+1]<<16|We[tt+2]<<8|We[tt+3],tt+=4;for(let Dn=16;Dn<80;Dn++){const wr=Nt[Dn-3]^Nt[Dn-8]^Nt[Dn-14]^Nt[Dn-16];Nt[Dn]=4294967295&(wr<<1|wr>>>31)}let Pn,$n,Ge=this.chain_[0],ut=this.chain_[1],Zt=this.chain_[2],on=this.chain_[3],vn=this.chain_[4];for(let Dn=0;Dn<80;Dn++){Dn<40?Dn<20?(Pn=on^ut&(Zt^on),$n=1518500249):(Pn=ut^Zt^on,$n=1859775393):Dn<60?(Pn=ut&Zt|on&(ut|Zt),$n=2400959708):(Pn=ut^Zt^on,$n=3395469782);const wr=(Ge<<5|Ge>>>27)+Pn+vn+$n+Nt[Dn]&4294967295;vn=on,on=Zt,Zt=4294967295&(ut<<30|ut>>>2),ut=Ge,Ge=wr}this.chain_[0]=this.chain_[0]+Ge&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+on&4294967295,this.chain_[4]=this.chain_[4]+vn&4294967295}update(We,tt){if(null==We)return;void 0===tt&&(tt=We.length);const Nt=tt-this.blockSize;let Ge=0;const ut=this.buf_;let Zt=this.inbuf_;for(;Ge<tt;){if(0===Zt)for(;Ge<=Nt;)this.compress_(We,Ge),Ge+=this.blockSize;if("string"==typeof We){for(;Ge<tt;)if(ut[Zt]=We.charCodeAt(Ge),++Zt,++Ge,Zt===this.blockSize){this.compress_(ut),Zt=0;break}}else for(;Ge<tt;)if(ut[Zt]=We[Ge],++Zt,++Ge,Zt===this.blockSize){this.compress_(ut),Zt=0;break}}this.inbuf_=Zt,this.total_+=tt}digest(){const We=[];let tt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ge=this.blockSize-1;Ge>=56;Ge--)this.buf_[Ge]=255&tt,tt/=256;this.compress_(this.buf_);let Nt=0;for(let Ge=0;Ge<5;Ge++)for(let ut=24;ut>=0;ut-=8)We[Nt]=this.chain_[Ge]>>ut&255,++Nt;return We}}function zn(Me,We){const tt=new tn(Me,We);return tt.subscribe.bind(tt)}class tn{constructor(We,tt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tt,this.task.then(()=>{We(this)}).catch(Nt=>{this.error(Nt)})}next(We){this.forEachObserver(tt=>{tt.next(We)})}error(We){this.forEachObserver(tt=>{tt.error(We)}),this.close(We)}complete(){this.forEachObserver(We=>{We.complete()}),this.close()}subscribe(We,tt,Nt){let Ge;if(void 0===We&&void 0===tt&&void 0===Nt)throw new Error("Missing Observer.");Ge=function ur(Me,We){if("object"!=typeof Me||null===Me)return!1;for(const tt of We)if(tt in Me&&"function"==typeof Me[tt])return!0;return!1}(We,["next","error","complete"])?We:{next:We,error:tt,complete:Nt},void 0===Ge.next&&(Ge.next=ar),void 0===Ge.error&&(Ge.error=ar),void 0===Ge.complete&&(Ge.complete=ar);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ge.error(this.finalError):Ge.complete()}catch(Zt){}}),this.observers.push(Ge),ut}unsubscribeOne(We){void 0===this.observers||void 0===this.observers[We]||(delete this.observers[We],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(We){if(!this.finalized)for(let tt=0;tt<this.observers.length;tt++)this.sendOne(tt,We)}sendOne(We,tt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[We])try{tt(this.observers[We])}catch(Nt){"undefined"!=typeof console&&console.error&&console.error(Nt)}})}close(We){this.finalized||(this.finalized=!0,void 0!==We&&(this.finalError=We),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}const Qn=function(Me,We,tt,Nt){let Ge;if(Nt<We?Ge="at least "+We:Nt>tt&&(Ge=0===tt?"none":"no more than "+tt),Ge)throw new Error(Me+" failed: Was called with "+Nt+(1===Nt?" argument.":" arguments.")+" Expects "+Ge+".")};function mr(Me,We){return`${Me} failed: ${We} argument `}function Ke(Me,We,tt,Nt){if((!Nt||tt)&&"function"!=typeof tt)throw new Error(mr(Me,We)+"must be a valid function.")}function Se(Me,We,tt,Nt){if((!Nt||tt)&&("object"!=typeof tt||null===tt))throw new Error(mr(Me,We)+"must be a valid context object.")}const Yt=function(Me){const We=[];let tt=0;for(let Nt=0;Nt<Me.length;Nt++){let Ge=Me.charCodeAt(Nt);if(Ge>=55296&&Ge<=56319){const ut=Ge-55296;Nt++,te(Nt<Me.length,"Surrogate pair missing trail surrogate."),Ge=65536+(ut<<10)+(Me.charCodeAt(Nt)-56320)}Ge<128?We[tt++]=Ge:Ge<2048?(We[tt++]=Ge>>6|192,We[tt++]=63&Ge|128):Ge<65536?(We[tt++]=Ge>>12|224,We[tt++]=Ge>>6&63|128,We[tt++]=63&Ge|128):(We[tt++]=Ge>>18|240,We[tt++]=Ge>>12&63|128,We[tt++]=Ge>>6&63|128,We[tt++]=63&Ge|128)}return We},Rt=function(Me){let We=0;for(let tt=0;tt<Me.length;tt++){const Nt=Me.charCodeAt(tt);Nt<128?We++:Nt<2048?We+=2:Nt>=55296&&Nt<=56319?(We+=4,tt++):We+=3}return We};function xn(Me,We=1e3,tt=2){const Nt=We*Math.pow(tt,Me),Ge=Math.round(.5*Nt*(Math.random()-.5)*2);return Math.min(144e5,Nt+Ge)}function yr(Me){return Me&&Me._delegate?Me._delegate:Me}},4433:(nn,dt,B)=>{"use strict";B.d(dt,{dr:()=>qt,oU:()=>Xn,cs:()=>ns,YG:()=>yr,Sm:()=>Me,PM:()=>We,FN:()=>tt,Zi:()=>Nt,tO:()=>Ge,Dq:()=>ut,W2:()=>Pn,Gu:()=>ls,gu:()=>gi,pK:()=>Xr,Ie:()=>Fr,Q$:()=>kr,jP:()=>us,VI:()=>di,yW:()=>kn,wd:()=>ti,sr:()=>rt,Pc:()=>Lt,r4:()=>V,YI:()=>No,Fo:()=>Tr,j9:()=>ar});var u=B(5e3),te=B(4182),X=B(655),ze=B(2916),Be=B(6688),ue=B(7043),xe=B(4850);function Ie(E,k,b,v){return(0,ue.m)(b)&&(v=b,b=void 0),v?Ie(E,k,b).pipe((0,xe.U)(D=>(0,Be.k)(D)?v(...D):v(D))):new ze.y(D=>{ce(E,k,function Y(ge){D.next(arguments.length>1?Array.prototype.slice.call(arguments):ge)},D,b)})}function ce(E,k,b,v,D){let Y;if(function fe(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const ge=E;E.addEventListener(k,b,D),Y=()=>ge.removeEventListener(k,b,D)}else if(function re(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const ge=E;E.on(k,b),Y=()=>ge.off(k,b)}else if(function ve(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const ge=E;E.addListener(k,b),Y=()=>ge.removeListener(k,b)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let ge=0,ke=E.length;ge<ke;ge++)ce(E[ge],k,b,v,D)}v.add(Y)}var Ye=B(8929),Ue=B(591),Ee=B(3442),we=(B(1815),B(6447),B(3139),B(6254)),lt=B(3756),It=B(4318),Xe=(B(7726),B(599)),ye=(B(3509),B(2361)),Je=B(2198),St=B(7545),Wt=B(5778),pt=B(9808);const qe=we.i,Te=["*"],Rn=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);let gn=(()=>{class E{constructor(b,v){this.injector=b,this.el=v,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,dn(this.el)}handleChangeEvent(b,v){b===this.el.nativeElement&&(v!==this.lastValue&&(this.lastValue=v,this.onChange(v)),dn(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),dn(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(te.a5)}catch(D){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>dn(this.el)));const v=b.control;v&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Y=>{if(void 0!==v[Y]){const ge=v[Y].bind(v);v[Y]=(...ke)=>{ge(...ke),dn(this.el)}}})}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.zs3),u.Y36(u.SBq))},E.\u0275dir=u.lG2({type:E,hostBindings:function(b,v){1&b&&u.NdJ("ionBlur",function(Y){return v._handleBlurEvent(Y.target)})}}),E})();const dn=E=>{Rn(()=>{const k=E.nativeElement,b=null!=k.value&&k.value.toString().length>0,v=Wn(k);jr(k,v);const D=k.closest("ion-item");D&&jr(D,b?[...v,"item-has-value"]:v)})},Wn=E=>{const k=E.classList,b=[];for(let v=0;v<k.length;v++){const D=k.item(v);null!==D&&Gn(D,"ng-")&&b.push(`ion-${D.substring(3)}`)}return b},jr=(E,k)=>{const b=E.classList;b.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),b.add(...k)},Gn=(E,k)=>E.substring(0,k.length)===k;let ar=(()=>{class E extends gn{constructor(b,v){super(b,v)}_handleInputEvent(b){this.handleChangeEvent(b,b.value)}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.zs3),u.Y36(u.SBq))},E.\u0275dir=u.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,v){1&b&&u.NdJ("ionChange",function(Y){return v._handleInputEvent(Y.target)})},features:[u._Bn([{provide:te.JU,useExisting:E,multi:!0}]),u.qOj]}),E})();const Qn=(E,k)=>{const b=E.prototype;k.forEach(v=>{Object.defineProperty(b,v,{get(){return this.el[v]},set(D){this.z.runOutsideAngular(()=>this.el[v]=D)}})})},mr=(E,k)=>{const b=E.prototype;k.forEach(v=>{b[v]=function(){const D=arguments;return this.z.runOutsideAngular(()=>this.el[v].apply(this.el,D))}})},yt=(E,k,b)=>{b.forEach(v=>E[v]=Ie(k,v))};function Se(E){return function(b){const{defineCustomElementFn:v,inputs:D,methods:Y}=E;return void 0!==v&&v(),D&&Qn(b,D),Y&&mr(b,Y),b}}let qt=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0})],E),E})(),Xn=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),yr=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement,yt(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Me=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),We=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),tt=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),Nt=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),Ge=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),ut=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Pn=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement,yt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),ls=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),gi=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),Xr=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement,yt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Fr=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),kr=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),di=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement,yt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),kn=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),ti=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),rt=(()=>{let E=class{constructor(b,v,D){this.z=D,b.detach(),this.el=v.nativeElement}};return E.\u0275fac=function(b){return new(b||E)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},E.\u0275cmp=u.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Te,decls:1,vars:0,template:function(b,v){1&b&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,X.gn)([Se({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class Qe{constructor(k={}){this.data=k}get(k){return this.data[k]}}let vt=(()=>{class E{constructor(b,v){this.zone=b,this.appRef=v}create(b,v,D){return new Ht(b,v,D,this.appRef,this.zone)}}return E.\u0275fac=function(b){return new(b||E)(u.LFG(u.R0b),u.LFG(u.z2F))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();class Ht{constructor(k,b,v,D,Y){this.resolver=k,this.injector=b,this.location=v,this.appRef=D,this.zone=Y,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(k,b,v,D){return this.zone.run(()=>new Promise(Y=>{Y(Qt(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,k,b,v,D))}))}removeViewFromDom(k,b){return this.zone.run(()=>new Promise(v=>{const D=this.elRefMap.get(b);if(D){D.destroy(),this.elRefMap.delete(b);const Y=this.elEventsMap.get(b);Y&&(Y(),this.elEventsMap.delete(b))}v()}))}}const Qt=(E,k,b,v,D,Y,ge,ke,ht,Ut,En)=>{const fn=k.resolveComponentFactory(ht),Hn=u.zs3.create({providers:Yn(Ut),parent:b}),tr=v?v.createComponent(fn,v.length,Hn):fn.create(Hn),cr=tr.instance,_r=tr.location.nativeElement;if(Ut&&Object.assign(cr,Ut),En)for(const bi of En)_r.classList.add(bi);const xi=Ur(E,cr,_r);return ke.appendChild(_r),v||D.attachView(tr.hostView),tr.changeDetectorRef.reattach(),Y.set(_r,tr),ge.set(_r,xi),_r},Cn=[It.L,It.a,It.b,It.c,It.d],Ur=(E,k,b)=>E.run(()=>{const v=Cn.filter(D=>"function"==typeof k[D]).map(D=>{const Y=ge=>k[D](ge.detail);return b.addEventListener(D,Y),()=>b.removeEventListener(D,Y)});return()=>v.forEach(D=>D())}),Or=new u.OlP("NavParamsToken"),Yn=E=>[{provide:Or,useValue:E},{provide:Qe,useFactory:xs,deps:[Or]}],xs=E=>new Qe(E),Wi=(E,k)=>((E=E.filter(b=>b.stackId!==k.stackId)).push(k),E),qi=(E,k)=>{const b=E.createUrlTree(["."],{relativeTo:k});return E.serializeUrl(b)},Xs=(E,k)=>{if(!E)return;const b=ki(k);for(let v=0;v<b.length;v++){if(v>=E.length)return b[v];if(b[v]!==E[v])return}},ki=E=>E.split("/").map(k=>k.trim()).filter(k=>""!==k),es=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class qr{constructor(k,b,v,D,Y,ge){this.containerEl=b,this.router=v,this.navCtrl=D,this.zone=Y,this.location=ge,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==k?ki(k):void 0}createView(k,b){var v;const D=qi(this.router,b),Y=null===(v=null==k?void 0:k.location)||void 0===v?void 0:v.nativeElement,ge=Ur(this.zone,k.instance,Y);return{id:this.nextId++,stackId:Xs(this.tabsPrefix,D),unlistenEvents:ge,element:Y,ref:k,url:D}}getExistingView(k){const b=qi(this.router,k),v=this.views.find(D=>D.url===b);return v&&v.ref.changeDetectorRef.reattach(),v}setActive(k){var b,v;const D=this.navCtrl.consumeTransition();let{direction:Y,animation:ge,animationBuilder:ke}=D;const ht=this.activeView,Ut=((E,k)=>!k||E.stackId!==k.stackId)(k,ht);Ut&&(Y="back",ge=void 0);const En=this.views.slice();let fn;const Hn=this.router;Hn.getCurrentNavigation?fn=Hn.getCurrentNavigation():(null===(b=Hn.navigations)||void 0===b?void 0:b.value)&&(fn=Hn.navigations.value),(null===(v=null==fn?void 0:fn.extras)||void 0===v?void 0:v.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const tr=this.views.includes(k),cr=this.insertView(k,Y);tr||k.ref.changeDetectorRef.detectChanges();const _r=k.animationBuilder;return void 0===ke&&"back"===Y&&!Ut&&void 0!==_r&&(ke=_r),ht&&(ht.animationBuilder=ke),this.zone.runOutsideAngular(()=>this.wait(()=>(ht&&ht.ref.changeDetectorRef.detach(),k.ref.changeDetectorRef.reattach(),this.transition(k,ht,ge,this.canGoBack(1),!1,ke).then(()=>gs(k,cr,En,this.location,this.zone)).then(()=>({enteringView:k,direction:Y,animation:ge,tabSwitch:Ut})))))}canGoBack(k,b=this.getActiveStackId()){return this.getStack(b).length>k}pop(k,b=this.getActiveStackId()){return this.zone.run(()=>{var v,D;const Y=this.getStack(b);if(Y.length<=k)return Promise.resolve(!1);const ge=Y[Y.length-k-1];let ke=ge.url;const ht=ge.savedData;if(ht){const En=ht.get("primary");(null===(D=null===(v=null==En?void 0:En.route)||void 0===v?void 0:v._routerState)||void 0===D?void 0:D.snapshot.url)&&(ke=En.route._routerState.snapshot.url)}const{animationBuilder:Ut}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ke,Object.assign(Object.assign({},ge.savedExtras),{animation:Ut})).then(()=>!0)})}startBackTransition(){const k=this.activeView;if(k){const b=this.getStack(k.stackId),v=b[b.length-2],D=v.animationBuilder;return this.wait(()=>this.transition(v,k,"back",this.canGoBack(2),!0,D))}return Promise.resolve()}endBackTransition(k){k?(this.skipTransition=!0,this.pop(1)):this.activeView&&io(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(k){const b=this.getStack(k);return b.length>0?b[b.length-1]:void 0}getRootUrl(k){const b=this.getStack(k);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(es),this.activeView=void 0,this.views=[]}getStack(k){return this.views.filter(b=>b.stackId===k)}insertView(k,b){return this.activeView=k,this.views=((E,k,b)=>"root"===b?Wi(E,k):"forward"===b?((E,k)=>(E.indexOf(k)>=0?E=E.filter(v=>v.stackId!==k.stackId||v.id<=k.id):E.push(k),E))(E,k):((E,k)=>E.indexOf(k)>=0?E.filter(v=>v.stackId!==k.stackId||v.id<=k.id):Wi(E,k))(E,k))(this.views,k,b),this.views.slice()}transition(k,b,v,D,Y,ge){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===k)return Promise.resolve(!1);const ke=k?k.element:void 0,ht=b?b.element:void 0,Ut=this.containerEl;return ke&&ke!==ht&&(ke.classList.add("ion-page"),ke.classList.add("ion-page-invisible"),ke.parentElement!==Ut&&Ut.appendChild(ke),Ut.commit)?Ut.commit(ke,ht,{deepWait:!0,duration:void 0===v?0:void 0,direction:v,showGoBack:D,progressAnimation:Y,animationBuilder:ge}):Promise.resolve(!1)}wait(k){return(0,X.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=k();return b.finally(()=>this.runningTask=void 0),b})}}const gs=(E,k,b,v,D)=>"function"==typeof requestAnimationFrame?new Promise(Y=>{requestAnimationFrame(()=>{io(E,k,b,v,D),Y()})}):Promise.resolve(),io=(E,k,b,v,D)=>{D.run(()=>b.filter(Y=>!k.includes(Y)).forEach(es)),k.forEach(Y=>{const ke=v.path().split("?")[0].split("#")[0];if(Y!==E&&Y.url!==ke){const ht=Y.element;ht.setAttribute("aria-hidden","true"),ht.classList.add("ion-page-hidden"),Y.ref.changeDetectorRef.detach()}})};let go=(()=>{class E{get(b,v){const D=$s();return D?D.get(b,v):null}getBoolean(b,v){const D=$s();return!!D&&D.getBoolean(b,v)}getNumber(b,v){const D=$s();return D?D.getNumber(b,v):0}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ho=new u.OlP("USERCONFIG"),$s=()=>{if("undefined"!=typeof window){const E=window.Ionic;if(null==E?void 0:E.config)return E.config}return null};let Ns=(()=>{class E{constructor(b,v){this.doc=b,this.backButton=new Ye.xQ,this.keyboardDidShow=new Ye.xQ,this.keyboardDidHide=new Ye.xQ,this.pause=new Ye.xQ,this.resume=new Ye.xQ,this.resize=new Ye.xQ,v.run(()=>{var D;let Y;this.win=b.defaultView,this.backButton.subscribeWithPriority=function(ge,ke){return this.subscribe(ht=>ht.register(ge,Ut=>v.run(()=>ke(Ut))))},Yi(this.pause,b,"pause"),Yi(this.resume,b,"resume"),Yi(this.backButton,b,"ionBackButton"),Yi(this.resize,this.win,"resize"),Yi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Yi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(ge=>{Y=ge}),(null===(D=this.win)||void 0===D?void 0:D.cordova)?b.addEventListener("deviceready",()=>{Y("cordova")},{once:!0}):Y("dom")})}is(b){return(0,we.a)(this.win,b)}platforms(){return(0,we.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(b){return ts(this.win.location.href,b)}isLandscape(){return!this.isPortrait()}isPortrait(){var b,v;return null===(v=(b=this.win).matchMedia)||void 0===v?void 0:v.call(b,"(orientation: portrait)").matches}testUserAgent(b){const v=this.win.navigator;return!!((null==v?void 0:v.userAgent)&&v.userAgent.indexOf(b)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(b){return new(b||E)(u.LFG(pt.K0),u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ts=(E,k)=>{k=k.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const v=new RegExp("[\\?&]"+k+"=([^&#]*)").exec(E);return v?decodeURIComponent(v[1].replace(/\+/g," ")):null},Yi=(E,k,b)=>{k&&k.addEventListener(b,v=>{E.next(null!=v?v.detail:void 0)})};let Br=(()=>{class E{constructor(b,v,D,Y){this.location=v,this.serializer=D,this.router=Y,this.direction=hi,this.animated=mo,this.guessDirection="forward",this.lastNavId=-1,Y&&Y.events.subscribe(ge=>{if(ge instanceof Ee.OD){const ke=ge.restoredState?ge.restoredState.navigationId:ge.id;this.guessDirection=ke<this.lastNavId?"back":"forward",this.guessAnimation=ge.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?ge.id:ke}}),b.backButton.subscribeWithPriority(0,ge=>{this.pop(),ge()})}navigateForward(b,v={}){return this.setDirection("forward",v.animated,v.animationDirection,v.animation),this.navigate(b,v)}navigateBack(b,v={}){return this.setDirection("back",v.animated,v.animationDirection,v.animation),this.navigate(b,v)}navigateRoot(b,v={}){return this.setDirection("root",v.animated,v.animationDirection,v.animation),this.navigate(b,v)}back(b={animated:!0,animationDirection:"back"}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.location.back()}pop(){return(0,X.mG)(this,void 0,void 0,function*(){let b=this.topOutlet;for(;b&&!(yield b.pop());)b=b.parentOutlet})}setDirection(b,v,D,Y){this.direction=b,this.animated=Es(b,v,D),this.animationBuilder=Y}setTopOutlet(b){this.topOutlet=b}consumeTransition(){let v,b="root";const D=this.animationBuilder;return"auto"===this.direction?(b=this.guessDirection,v=this.guessAnimation):(v=this.animated,b=this.direction),this.direction=hi,this.animated=mo,this.animationBuilder=void 0,{direction:b,animation:v,animationBuilder:D}}navigate(b,v){if(Array.isArray(b))return this.router.navigate(b,v);{const D=this.serializer.parse(b.toString());return void 0!==v.queryParams&&(D.queryParams=Object.assign({},v.queryParams)),void 0!==v.fragment&&(D.fragment=v.fragment),this.router.navigateByUrl(D,v)}}}return E.\u0275fac=function(b){return new(b||E)(u.LFG(Ns),u.LFG(pt.Ye),u.LFG(Ee.Hx),u.LFG(Ee.F0,8))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Es=(E,k,b)=>{if(!1!==k){if(void 0!==b)return b;if("forward"===E||"back"===E)return E;if("root"===E&&!0===k)return"forward"}},hi="auto",mo=void 0;let us=(()=>{class E{constructor(b,v,D,Y,ge,ke,ht,Ut,En,fn,Hn,tr,cr){this.parentContexts=b,this.location=v,this.resolver=D,this.config=ke,this.navCtrl=ht,this.parentOutlet=cr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ue.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=En.nativeElement,this.name=Y||Ee.eC,this.tabsPrefix="true"===ge?qi(fn,tr):void 0,this.stackCtrl=new qr(this.tabsPrefix,this.nativeEl,fn,ht,Hn,Ut),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:v=>this.stackCtrl.endBackTransition(v)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();(null==b?void 0:b.route)&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,lt.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,v){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const v=this.getContext();this.activatedView.savedData=new Map(v.children.contexts);const D=this.activatedView.savedData.get("primary");if(D&&v.route&&(D.route=Object.assign({},v.route)),this.activatedView.savedExtras={},v.route){const Y=v.route.snapshot;this.activatedView.savedExtras.queryParams=Y.queryParams,this.activatedView.savedExtras.fragment=Y.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let D,Y=this.stackCtrl.getExistingView(b);if(Y){D=this.activated=Y.ref;const ge=Y.savedData;ge&&(this.getContext().children.contexts=ge),this.updateActivatedRouteProxy(D.instance,b)}else{const ht=(v=v||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Ut=this.parentContexts.getOrCreateContext(this.name).children,En=new Ue.X(null),fn=this.createActivatedRouteProxy(En,b),Hn=new bs(fn,Ut,this.location.injector);D=this.activated=this.location.createComponent(ht,this.location.length,Hn),En.next(D.instance),Y=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(D.instance,fn),this.currentActivatedRoute$.next({component:D.instance,activatedRoute:b})}this.activatedView=Y,this.stackCtrl.setActive(Y).then(ge=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(D.instance),this.stackEvents.emit(ge)})}canGoBack(b=1,v){return this.stackCtrl.canGoBack(b,v)}pop(b=1,v){return this.stackCtrl.pop(b,v)}getLastUrl(b){const v=this.stackCtrl.getLastUrl(b);return v?v.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,v){const D=new Ee.gz;return D._futureSnapshot=v._futureSnapshot,D._routerState=v._routerState,D.snapshot=v.snapshot,D.outlet=v.outlet,D.component=v.component,D._paramMap=this.proxyObservable(b,"paramMap"),D._queryParamMap=this.proxyObservable(b,"queryParamMap"),D.url=this.proxyObservable(b,"url"),D.params=this.proxyObservable(b,"params"),D.queryParams=this.proxyObservable(b,"queryParams"),D.fragment=this.proxyObservable(b,"fragment"),D.data=this.proxyObservable(b,"data"),D}proxyObservable(b,v){return b.pipe((0,Je.h)(D=>!!D),(0,St.w)(D=>this.currentActivatedRoute$.pipe((0,Je.h)(Y=>null!==Y&&Y.component===D),(0,St.w)(Y=>Y&&Y.activatedRoute[v]),(0,Wt.x)())))}updateActivatedRouteProxy(b,v){const D=this.proxyMap.get(b);if(!D)throw new Error("Could not find activated route proxy for view");D._futureSnapshot=v._futureSnapshot,D._routerState=v._routerState,D.snapshot=v.snapshot,D.outlet=v.outlet,D.component=v.component,this.currentActivatedRoute$.next({component:b,activatedRoute:v})}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(Ee.y6),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.$8M("tabs"),u.Y36(go),u.Y36(Br),u.Y36(pt.Ye),u.Y36(u.SBq),u.Y36(Ee.F0),u.Y36(u.R0b),u.Y36(Ee.gz),u.Y36(E,12))},E.\u0275dir=u.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class bs{constructor(k,b,v){this.route=k,this.childContexts=b,this.parent=v}get(k,b){return k===Ee.gz?this.route:k===Ee.y6?this.childContexts:this.parent.get(k,b)}}let ns=(()=>{class E{constructor(b,v,D){this.routerOutlet=b,this.navCtrl=v,this.config=D}onClick(b){var v;const D=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(v=this.routerOutlet)||void 0===v?void 0:v.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=D&&(this.navCtrl.navigateBack(D,{animation:this.routerAnimation}),b.preventDefault())}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(us,8),u.Y36(Br),u.Y36(go))},E.\u0275dir=u.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(b,v){1&b&&u.NdJ("click",function(Y){return v.onClick(Y)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})(),No=(()=>{class E{constructor(b,v,D,Y,ge){this.locationStrategy=b,this.navCtrl=v,this.elementRef=D,this.router=Y,this.routerLink=ge,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var b;if(null===(b=this.routerLink)||void 0===b?void 0:b.urlTree){const v=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=v}}onClick(b){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),b.preventDefault()}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(pt.S$),u.Y36(Br),u.Y36(u.SBq),u.Y36(Ee.F0),u.Y36(Ee.rH,8))},E.\u0275dir=u.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,v){1&b&&u.NdJ("click",function(Y){return v.onClick(Y)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),E})(),Tr=(()=>{class E{constructor(b,v,D,Y,ge){this.locationStrategy=b,this.navCtrl=v,this.elementRef=D,this.router=Y,this.routerLink=ge,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var b;if(null===(b=this.routerLink)||void 0===b?void 0:b.urlTree){const v=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=v}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return E.\u0275fac=function(b){return new(b||E)(u.Y36(pt.S$),u.Y36(Br),u.Y36(u.SBq),u.Y36(Ee.F0),u.Y36(Ee.rH,8))},E.\u0275dir=u.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(b,v){1&b&&u.NdJ("click",function(){return v.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),E})();class In{constructor(k){this.ctrl=k}create(k){return this.ctrl.create(k||{})}dismiss(k,b,v){return this.ctrl.dismiss(k,b,v)}getTop(){return this.ctrl.getTop()}}let li=(()=>{class E extends In{constructor(b,v,D){super(Xe.m),this.angularDelegate=b,this.resolver=v,this.injector=D}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(u.LFG(vt),u.LFG(u._Vd),u.LFG(u.zs3))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})(),_i=(()=>{class E extends In{constructor(b,v,D){super(Xe.c),this.angularDelegate=b,this.resolver=v,this.injector=D}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return E.\u0275fac=function(b){return new(b||E)(u.LFG(vt),u.LFG(u._Vd),u.LFG(u.zs3))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();class V{shouldDetach(k){return!1}shouldAttach(k){return!1}store(k,b){}retrieve(k){return null}shouldReuseRoute(k,b){if(k.routeConfig!==b.routeConfig)return!1;const v=k.params,D=b.params,Y=Object.keys(v),ge=Object.keys(D);if(Y.length!==ge.length)return!1;for(const ke of Y)if(D[ke]!==v[ke])return!1;return!0}}const N=(E,k,b)=>()=>{if(k.defaultView&&"undefined"!=typeof window){(E=>{const k=window,b=k.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(k.Ionic=k.Ionic||{},k.Ionic.config=Object.assign(Object.assign({},k.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:Y=>b.run(Y)}));const D="__zone_symbol__addEventListener"in k.body?"__zone_symbol__addEventListener":"addEventListener";return function _t(){var E=[];if("undefined"!=typeof window){var k=window;(!k.customElements||k.Element&&(!k.Element.prototype.closest||!k.Element.prototype.matches||!k.Element.prototype.remove||!k.Element.prototype.getRootNode))&&E.push(B.e(6748).then(B.t.bind(B,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||k.NodeList&&!k.NodeList.prototype.forEach||!k.fetch||!function(){try{var v=new URL("b","http://a");return v.pathname="c%20d","http://a/c%20d"===v.href&&v.searchParams}catch(D){return!1}}()||"undefined"==typeof WeakMap)&&E.push(B.e(2214).then(B.t.bind(B,4144,23)))}return Promise.all(E)}().then(()=>((E,k)=>"undefined"==typeof window?Promise.resolve():(0,ye.p)().then(()=>(qe(),(0,ye.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),k))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Rn,jmp:Y=>b.runOutsideAngular(Y),ael(Y,ge,ke,ht){Y[D](ge,ke,ht)},rel(Y,ge,ke,ht){Y.removeEventListener(ge,ke,ht)}}))}};let Lt=(()=>{class E{static forRoot(b){return{ngModule:E,providers:[{provide:ho,useValue:b},{provide:u.ip1,useFactory:N,multi:!0,deps:[ho,pt.K0,u.R0b]}]}}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({providers:[vt,li,_i],imports:[[pt.ez]]}),E})()},9442:(nn,dt,B)=>{"use strict";B.d(dt,{c:()=>Ue});var u=B(3756);let te;const ze=Ee=>Ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Be=Ee=>{if(void 0===te){const je=void 0!==Ee.style.webkitAnimationName;te=void 0===Ee.style.animationName&&je?"-webkit-":""}return te},ue=(Ee,Fe,je)=>{const gt=Fe.startsWith("animation")?Be(Ee):"";Ee.style.setProperty(gt+Fe,je)},xe=(Ee,Fe)=>{const je=Fe.startsWith("animation")?Be(Ee):"";Ee.style.removeProperty(je+Fe)},ce=[],Ye=(Ee=[],Fe)=>{if(void 0!==Fe){const je=Array.isArray(Fe)?Fe:[Fe];return[...Ee,...je]}return Ee},Ue=Ee=>{let Fe,je,gt,we,lt,It,Oe,pt,_t,qe,at,jt,Et,Mt=[],Xe=[],bt=[],ye=!1,Ae={},he=[],_e=[],He={},Je=0,St=!1,Wt=!1,mt=!0,Te=!1,et=!0,en=!1;const pn=Ee,Rn=[],gn=[],dn=[],Wn=[],jr=[],Gn=[],zn=[],tn=[],Mr=[],ur=[],ar="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ar,yt=()=>ur,qt=(be,Pe)=>(((null==Pe?void 0:Pe.oneTimeCallback)?gn:Rn).push({c:be,o:Pe}),Et),Xn=()=>{if(Qn)ur.forEach(be=>{be.cancel()}),ur.length=0;else{const be=dn.slice();(0,u.r)(()=>{be.forEach(Pe=>{xe(Pe,"animation-name"),xe(Pe,"animation-duration"),xe(Pe,"animation-timing-function"),xe(Pe,"animation-iteration-count"),xe(Pe,"animation-delay"),xe(Pe,"animation-play-state"),xe(Pe,"animation-fill-mode"),xe(Pe,"animation-direction")})})}},Un=()=>{jr.forEach(be=>{(null==be?void 0:be.parentNode)&&be.parentNode.removeChild(be)}),jr.length=0},vn=()=>void 0!==lt?lt:Oe?Oe.getFill():"both",Pn=()=>void 0!==_t?_t:void 0!==It?It:Oe?Oe.getDirection():"normal",$n=()=>St?"linear":void 0!==gt?gt:Oe?Oe.getEasing():"linear",Dn=()=>Wt?0:void 0!==qe?qe:void 0!==je?je:Oe?Oe.getDuration():0,wr=()=>void 0!==we?we:Oe?Oe.getIterations():1,Zr=()=>void 0!==at?at:void 0!==Fe?Fe:Oe?Oe.getDelay():0,kr=()=>{0!==Je&&(Je--,0===Je&&((()=>{Pi(),tn.forEach(Pt=>Pt()),Mr.forEach(Pt=>Pt());const be=mt?1:0,Pe=he,ct=_e,Bt=He;dn.forEach(Pt=>{const xt=Pt.classList;Pe.forEach(yn=>xt.add(yn)),ct.forEach(yn=>xt.remove(yn));for(const yn in Bt)Bt.hasOwnProperty(yn)&&ue(Pt,yn,Bt[yn])}),Rn.forEach(Pt=>Pt.c(be,Et)),gn.forEach(Pt=>Pt.c(be,Et)),gn.length=0,et=!0,mt&&(Te=!0),mt=!0})(),Oe&&Oe.animationFinish()))},Lr=(be=!0)=>{Un();const Pe=(Ee=>(Ee.forEach(Fe=>{for(const je in Fe)if(Fe.hasOwnProperty(je)){const gt=Fe[je];if("easing"===je)Fe["animation-timing-function"]=gt,delete Fe[je];else{const we=ze(je);we!==je&&(Fe[we]=gt,delete Fe[je])}}}),Ee))(Mt);dn.forEach(ct=>{if(Pe.length>0){const Bt=((Ee=[])=>Ee.map(Fe=>{const je=Fe.offset,gt=[];for(const we in Fe)Fe.hasOwnProperty(we)&&"offset"!==we&&gt.push(`${we}: ${Fe[we]};`);return`${100*je}% { ${gt.join(" ")} }`}).join(" "))(Pe);jt=void 0!==Ee?Ee:(Ee=>{let Fe=ce.indexOf(Ee);return Fe<0&&(Fe=ce.push(Ee)-1),`ion-animation-${Fe}`})(Bt);const Pt=((Ee,Fe,je)=>{const gt=(Ee=>{const Fe=Ee.getRootNode();return Fe.head||Fe})(je),we=Be(je),lt=gt.querySelector("#"+Ee);if(lt)return lt;const It=(je.ownerDocument||document).createElement("style");return It.id=Ee,It.textContent=`@${we}keyframes ${Ee} { ${Fe} } @${we}keyframes ${Ee}-alt { ${Fe} }`,gt.appendChild(It),It})(jt,Bt,ct);jr.push(Pt),ue(ct,"animation-duration",`${Dn()}ms`),ue(ct,"animation-timing-function",$n()),ue(ct,"animation-delay",`${Zr()}ms`),ue(ct,"animation-fill-mode",vn()),ue(ct,"animation-direction",Pn());const xt=wr()===1/0?"infinite":wr().toString();ue(ct,"animation-iteration-count",xt),ue(ct,"animation-play-state","paused"),be&&ue(ct,"animation-name",`${Pt.id}-alt`),(0,u.r)(()=>{ue(ct,"animation-name",Pt.id||null)})}})},mn=(be=!0)=>{(()=>{Gn.forEach(Bt=>Bt()),zn.forEach(Bt=>Bt());const be=Xe,Pe=bt,ct=Ae;dn.forEach(Bt=>{const Pt=Bt.classList;be.forEach(xt=>Pt.add(xt)),Pe.forEach(xt=>Pt.remove(xt));for(const xt in ct)ct.hasOwnProperty(xt)&&ue(Bt,xt,ct[xt])})})(),Mt.length>0&&(Qn?(dn.forEach(be=>{const Pe=be.animate(Mt,{id:pn,delay:Zr(),duration:Dn(),easing:$n(),iterations:wr(),fill:vn(),direction:Pn()});Pe.pause(),ur.push(Pe)}),ur.length>0&&(ur[0].onfinish=()=>{kr()})):Lr(be)),ye=!0},qn=be=>{if(be=Math.min(Math.max(be,0),.9999),Qn)ur.forEach(Pe=>{Pe.currentTime=Pe.effect.getComputedTiming().delay+Dn()*be,Pe.pause()});else{const Pe=`-${Dn()*be}ms`;dn.forEach(ct=>{Mt.length>0&&(ue(ct,"animation-delay",Pe),ue(ct,"animation-play-state","paused"))})}},Wr=be=>{ur.forEach(Pe=>{Pe.effect.updateTiming({delay:Zr(),duration:Dn(),easing:$n(),iterations:wr(),fill:vn(),direction:Pn()})}),void 0!==be&&qn(be)},Qr=(be=!0,Pe)=>{(0,u.r)(()=>{dn.forEach(ct=>{ue(ct,"animation-name",jt||null),ue(ct,"animation-duration",`${Dn()}ms`),ue(ct,"animation-timing-function",$n()),ue(ct,"animation-delay",void 0!==Pe?`-${Pe*Dn()}ms`:`${Zr()}ms`),ue(ct,"animation-fill-mode",vn()||null),ue(ct,"animation-direction",Pn()||null);const Bt=wr()===1/0?"infinite":wr().toString();ue(ct,"animation-iteration-count",Bt),be&&ue(ct,"animation-name",`${jt}-alt`),(0,u.r)(()=>{ue(ct,"animation-name",jt||null)})})})},Ir=(be=!1,Pe=!0,ct)=>(be&&Wn.forEach(Bt=>{Bt.update(be,Pe,ct)}),Qn?Wr(ct):Qr(Pe,ct),Et),Gr=()=>{ye&&(Qn?ur.forEach(be=>{be.pause()}):dn.forEach(be=>{ue(be,"animation-play-state","paused")}),en=!0)},Zi=()=>{pt=void 0,kr()},Pi=()=>{pt&&clearTimeout(pt)},di=be=>new Promise(Pe=>{(null==be?void 0:be.sync)&&(Wt=!0,qt(()=>Wt=!1,{oneTimeCallback:!0})),ye||mn(),Te&&(Qn?(qn(0),Wr()):Qr(),Te=!1),et&&(Je=Wn.length+1,et=!1),qt(()=>Pe(),{oneTimeCallback:!0}),Wn.forEach(ct=>{ct.play()}),Qn?(ur.forEach(be=>{be.play()}),(0===Mt.length||0===dn.length)&&kr()):(()=>{if(Pi(),(0,u.r)(()=>{dn.forEach(be=>{Mt.length>0&&ue(be,"animation-play-state","running")})}),0===Mt.length||0===dn.length)kr();else{const be=Zr()||0,Pe=Dn()||0,ct=wr()||1;isFinite(ct)&&(pt=setTimeout(Zi,be+Pe*ct+100)),((Ee,Fe)=>{let je;const gt={passive:!0},lt=It=>{Ee===It.target&&(je&&je(),Pi(),(0,u.r)(()=>{dn.forEach(be=>{xe(be,"animation-duration"),xe(be,"animation-delay"),xe(be,"animation-play-state")}),(0,u.r)(kr)}))};Ee&&(Ee.addEventListener("webkitAnimationEnd",lt,gt),Ee.addEventListener("animationend",lt,gt),je=()=>{Ee.removeEventListener("webkitAnimationEnd",lt,gt),Ee.removeEventListener("animationend",lt,gt)})})(dn[0])}})(),en=!1}),me=(be,Pe)=>{const ct=Mt[0];return void 0===ct||void 0!==ct.offset&&0!==ct.offset?Mt=[{offset:0,[be]:Pe},...Mt]:ct[be]=Pe,Et};return Et={parentAnimation:Oe,elements:dn,childAnimations:Wn,id:pn,animationFinish:kr,from:me,to:(be,Pe)=>{const ct=Mt[Mt.length-1];return void 0===ct||void 0!==ct.offset&&1!==ct.offset?Mt=[...Mt,{offset:1,[be]:Pe}]:ct[be]=Pe,Et},fromTo:(be,Pe,ct)=>me(be,Pe).to(be,ct),parent:be=>(Oe=be,Et),play:di,pause:()=>(Wn.forEach(be=>{be.pause()}),Gr(),Et),stop:()=>{Wn.forEach(be=>{be.stop()}),ye&&(Xn(),ye=!1),St=!1,Wt=!1,et=!0,_t=void 0,qe=void 0,at=void 0,Je=0,Te=!1,mt=!0,en=!1},destroy:be=>(Wn.forEach(Pe=>{Pe.destroy(be)}),(be=>{Xn(),be&&Un()})(be),dn.length=0,Wn.length=0,Mt.length=0,Rn.length=0,gn.length=0,ye=!1,et=!0,Et),keyframes:be=>{const Pe=Mt!==be;return Mt=be,Pe&&(be=>{Qn?yt().forEach(Pe=>{if(Pe.effect.setKeyframes)Pe.effect.setKeyframes(be);else{const ct=new KeyframeEffect(Pe.effect.target,be,Pe.effect.getTiming());Pe.effect=ct}}):Lr()})(Mt),Et},addAnimation:be=>{if(null!=be)if(Array.isArray(be))for(const Pe of be)Pe.parent(Et),Wn.push(Pe);else be.parent(Et),Wn.push(be);return Et},addElement:be=>{if(null!=be)if(1===be.nodeType)dn.push(be);else if(be.length>=0)for(let Pe=0;Pe<be.length;Pe++)dn.push(be[Pe]);else console.error("Invalid addElement value");return Et},update:Ir,fill:be=>(lt=be,Ir(!0),Et),direction:be=>(It=be,Ir(!0),Et),iterations:be=>(we=be,Ir(!0),Et),duration:be=>(!Qn&&0===be&&(be=1),je=be,Ir(!0),Et),easing:be=>(gt=be,Ir(!0),Et),delay:be=>(Fe=be,Ir(!0),Et),getWebAnimations:yt,getKeyframes:()=>Mt,getFill:vn,getDirection:Pn,getDelay:Zr,getIterations:wr,getEasing:$n,getDuration:Dn,afterAddRead:be=>(tn.push(be),Et),afterAddWrite:be=>(Mr.push(be),Et),afterClearStyles:(be=[])=>{for(const Pe of be)He[Pe]="";return Et},afterStyles:(be={})=>(He=be,Et),afterRemoveClass:be=>(_e=Ye(_e,be),Et),afterAddClass:be=>(he=Ye(he,be),Et),beforeAddRead:be=>(Gn.push(be),Et),beforeAddWrite:be=>(zn.push(be),Et),beforeClearStyles:(be=[])=>{for(const Pe of be)Ae[Pe]="";return Et},beforeStyles:(be={})=>(Ae=be,Et),beforeRemoveClass:be=>(bt=Ye(bt,be),Et),beforeAddClass:be=>(Xe=Ye(Xe,be),Et),onFinish:qt,isRunning:()=>0!==Je&&!en,progressStart:(be=!1,Pe)=>(Wn.forEach(ct=>{ct.progressStart(be,Pe)}),Gr(),St=be,ye||mn(),Ir(!1,!0,Pe),Et),progressStep:be=>(Wn.forEach(Pe=>{Pe.progressStep(be)}),qn(be),Et),progressEnd:(be,Pe,ct)=>(St=!1,Wn.forEach(Bt=>{Bt.progressEnd(be,Pe,ct)}),void 0!==ct&&(qe=ct),Te=!1,mt=!0,0===be?(_t="reverse"===Pn()?"normal":"reverse","reverse"===_t&&(mt=!1),Qn?(Ir(),qn(1-Pe)):(at=(1-Pe)*Dn()*-1,Ir(!1,!1))):1===be&&(Qn?(Ir(),qn(Pe)):(at=Pe*Dn()*-1,Ir(!1,!1))),void 0!==be&&(qt(()=>{qe=void 0,_t=void 0,at=void 0},{oneTimeCallback:!0}),Oe||di()),Et)}}},3509:(nn,dt,B)=>{"use strict";B.d(dt,{G:()=>Be});class te{constructor(xe,De,Ie,ce,ve){this.id=De,this.name=Ie,this.disableScroll=ve,this.priority=1e6*ce+De,this.ctrl=xe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const xe=this.ctrl.capture(this.name,this.id,this.priority);return xe&&this.disableScroll&&this.ctrl.disableScroll(this.id),xe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class X{constructor(xe,De,Ie,ce){this.id=De,this.disable=Ie,this.disableScroll=ce,this.ctrl=xe}block(){if(this.ctrl){if(this.disable)for(const xe of this.disable)this.ctrl.disableGesture(xe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const xe of this.disable)this.ctrl.enableGesture(xe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ze="backdrop-no-scroll",Be=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(xe){return new te(this,this.newID(),xe.name,xe.priority||0,!!xe.disableScroll)}createBlocker(xe={}){return new X(this,this.newID(),xe.disable,!!xe.disableScroll)}start(xe,De,Ie){return this.canStart(xe)?(this.requestedStart.set(De,Ie),!0):(this.requestedStart.delete(De),!1)}capture(xe,De,Ie){if(!this.start(xe,De,Ie))return!1;const ce=this.requestedStart;let ve=-1e4;if(ce.forEach(re=>{ve=Math.max(ve,re)}),ve===Ie){this.capturedId=De,ce.clear();const re=new CustomEvent("ionGestureCaptured",{detail:{gestureName:xe}});return document.dispatchEvent(re),!0}return ce.delete(De),!1}release(xe){this.requestedStart.delete(xe),this.capturedId===xe&&(this.capturedId=void 0)}disableGesture(xe,De){let Ie=this.disabledGestures.get(xe);void 0===Ie&&(Ie=new Set,this.disabledGestures.set(xe,Ie)),Ie.add(De)}enableGesture(xe,De){const Ie=this.disabledGestures.get(xe);void 0!==Ie&&Ie.delete(De)}disableScroll(xe){this.disabledScroll.add(xe),1===this.disabledScroll.size&&document.body.classList.add(ze)}enableScroll(xe){this.disabledScroll.delete(xe),0===this.disabledScroll.size&&document.body.classList.remove(ze)}canStart(xe){return!(void 0!==this.capturedId||this.isDisabled(xe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(xe){const De=this.disabledGestures.get(xe);return!!(De&&De.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(nn,dt,B)=>{"use strict";B.r(dt),B.d(dt,{MENU_BACK_BUTTON_PRIORITY:()=>Be,OVERLAY_BACK_BUTTON_PRIORITY:()=>ze,blockHardwareBackButton:()=>te,startHardwareBackButton:()=>X});var u=B(5861);const te=()=>{document.addEventListener("backbutton",()=>{})},X=()=>{const ue=document;let xe=!1;ue.addEventListener("backbutton",()=>{if(xe)return;let De=0,Ie=[];const ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(fe,Ye){Ie.push({priority:fe,handler:Ye,id:De++})}}});ue.dispatchEvent(ce);const ve=function(){var fe=(0,u.Z)(function*(Ye){try{if(null==Ye?void 0:Ye.handler){const Ue=Ye.handler(re);null!=Ue&&(yield Ue)}}catch(Ue){console.error(Ue)}});return function(Ue){return fe.apply(this,arguments)}}(),re=()=>{if(Ie.length>0){let fe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ie.forEach(Ye=>{Ye.priority>=fe.priority&&(fe=Ye)}),xe=!0,Ie=Ie.filter(Ye=>Ye.id!==fe.id),ve(fe).then(()=>xe=!1)}};re()})},ze=100,Be=99},3756:(nn,dt,B)=>{"use strict";B.d(dt,{a:()=>xe,b:()=>De,c:()=>X,d:()=>Ye,e:()=>Ue,f:()=>fe,g:()=>Ie,h:()=>lt,i:()=>ue,j:()=>ze,k:()=>re,l:()=>Ee,m:()=>ve,n:()=>Fe,o:()=>we,p:()=>gt,q:()=>It,r:()=>ce,s:()=>Mt,t:()=>u,u:()=>je});const u=(Xe,bt=0)=>new Promise(ye=>{te(Xe,bt,ye)}),te=(Xe,bt=0,ye)=>{let Oe,Ae;const he={passive:!0},He=()=>{Oe&&Oe()},Je=St=>{(void 0===St||Xe===St.target)&&(He(),ye(St))};return Xe&&(Xe.addEventListener("webkitTransitionEnd",Je,he),Xe.addEventListener("transitionend",Je,he),Ae=setTimeout(Je,bt+500),Oe=()=>{Ae&&(clearTimeout(Ae),Ae=void 0),Xe.removeEventListener("webkitTransitionEnd",Je,he),Xe.removeEventListener("transitionend",Je,he)}),He},X=(Xe,bt)=>{Xe.componentOnReady?Xe.componentOnReady().then(ye=>bt(ye)):ce(()=>bt(Xe))},ze=(Xe,bt=[])=>{const ye={};return bt.forEach(Oe=>{Xe.hasAttribute(Oe)&&(null!==Xe.getAttribute(Oe)&&(ye[Oe]=Xe.getAttribute(Oe)),Xe.removeAttribute(Oe))}),ye},Be=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=Xe=>ze(Xe,Be),xe=(Xe,bt,ye,Oe)=>{var Ae;if("undefined"!=typeof window){const he=window,_e=null===(Ae=null==he?void 0:he.Ionic)||void 0===Ae?void 0:Ae.config;if(_e){const He=_e.get("_ael");if(He)return He(Xe,bt,ye,Oe);if(_e._ael)return _e._ael(Xe,bt,ye,Oe)}}return Xe.addEventListener(bt,ye,Oe)},De=(Xe,bt,ye,Oe)=>{var Ae;if("undefined"!=typeof window){const he=window,_e=null===(Ae=null==he?void 0:he.Ionic)||void 0===Ae?void 0:Ae.config;if(_e){const He=_e.get("_rel");if(He)return He(Xe,bt,ye,Oe);if(_e._rel)return _e._rel(Xe,bt,ye,Oe)}}return Xe.removeEventListener(bt,ye,Oe)},Ie=(Xe,bt=Xe)=>Xe.shadowRoot||bt,ce=Xe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Xe):setTimeout(Xe),ve=Xe=>!!Xe.shadowRoot&&!!Xe.attachShadow,re=Xe=>{const bt=Xe.closest("ion-item");return bt?bt.querySelector("ion-label"):null},fe=Xe=>{if(Xe.focus(),Xe.classList.contains("ion-focusable")){const bt=Xe.closest("ion-app");bt&&bt.setFocus([Xe])}},Ye=(Xe,bt)=>{let ye;const Oe=Xe.getAttribute("aria-labelledby"),Ae=Xe.id;let he=null!==Oe&&""!==Oe.trim()?Oe:bt+"-lbl",_e=null!==Oe&&""!==Oe.trim()?document.getElementById(Oe):re(Xe);return _e?(null===Oe&&(_e.id=he),ye=_e.textContent,_e.setAttribute("aria-hidden","true")):""!==Ae.trim()&&(_e=document.querySelector(`label[for="${Ae}"]`),_e&&(""!==_e.id?he=_e.id:_e.id=he=`${Ae}-lbl`,ye=_e.textContent)),{label:_e,labelId:he,labelText:ye}},Ue=(Xe,bt,ye,Oe,Ae)=>{if(Xe||ve(bt)){let he=bt.querySelector("input.aux-input");he||(he=bt.ownerDocument.createElement("input"),he.type="hidden",he.classList.add("aux-input"),bt.appendChild(he)),he.disabled=Ae,he.name=ye,he.value=Oe||""}},Ee=(Xe,bt,ye)=>Math.max(Xe,Math.min(bt,ye)),Fe=(Xe,bt)=>{if(!Xe){const ye="ASSERT: "+bt;throw console.error(ye),new Error(ye)}},je=Xe=>Xe.timeStamp||Date.now(),gt=Xe=>{if(Xe){const bt=Xe.changedTouches;if(bt&&bt.length>0){const ye=bt[0];return{x:ye.clientX,y:ye.clientY}}if(void 0!==Xe.pageX)return{x:Xe.pageX,y:Xe.pageY}}return{x:0,y:0}},we=Xe=>{const bt="rtl"===document.dir;switch(Xe){case"start":return bt;case"end":return!bt;default:throw new Error(`"${Xe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},lt=(Xe,bt)=>{const ye=Xe._original||Xe;return{_original:Xe,emit:It(ye.emit.bind(ye),bt)}},It=(Xe,bt=0)=>{let ye;return(...Oe)=>{clearTimeout(ye),ye=setTimeout(Xe,bt,...Oe)}},Mt=(Xe,bt)=>{if(null!=Xe||(Xe={}),null!=bt||(bt={}),Xe===bt)return!0;const ye=Object.keys(Xe);if(ye.length!==Object.keys(bt).length)return!1;for(const Oe of ye)if(!(Oe in bt)||Xe[Oe]!==bt[Oe])return!1;return!0}},4318:(nn,dt,B)=>{"use strict";B.d(dt,{L:()=>ze,a:()=>Be,b:()=>ue,c:()=>xe,d:()=>De,e:()=>bt,g:()=>Ae,l:()=>Mt,s:()=>ye,t:()=>ve});var u=B(5861),te=B(2361),X=B(3756);const ze="ionViewWillEnter",Be="ionViewDidEnter",ue="ionViewWillLeave",xe="ionViewDidLeave",De="ionViewWillUnload",ve=he=>new Promise((_e,He)=>{(0,te.c)(()=>{re(he),fe(he).then(Je=>{Je.animation&&Je.animation.destroy(),Ye(he),_e(Je)},Je=>{Ye(he),He(Je)})})}),re=he=>{const _e=he.enteringEl,He=he.leavingEl;Oe(_e,He,he.direction),he.showGoBack?_e.classList.add("can-go-back"):_e.classList.remove("can-go-back"),ye(_e,!1),_e.style.setProperty("pointer-events","none"),He&&(ye(He,!1),He.style.setProperty("pointer-events","none"))},fe=function(){var he=(0,u.Z)(function*(_e){const He=yield Ue(_e);return He&&te.B.isBrowser?Ee(He,_e):Fe(_e)});return function(He){return he.apply(this,arguments)}}(),Ye=he=>{const _e=he.enteringEl,He=he.leavingEl;_e.classList.remove("ion-page-invisible"),_e.style.removeProperty("pointer-events"),void 0!==He&&(He.classList.remove("ion-page-invisible"),He.style.removeProperty("pointer-events"))},Ue=function(){var he=(0,u.Z)(function*(_e){return _e.leavingEl&&_e.animated&&0!==_e.duration?_e.animationBuilder?_e.animationBuilder:"ios"===_e.mode?(yield Promise.resolve().then(B.bind(B,1815))).iosTransitionAnimation:(yield Promise.resolve().then(B.bind(B,6447))).mdTransitionAnimation:void 0});return function(He){return he.apply(this,arguments)}}(),Ee=function(){var he=(0,u.Z)(function*(_e,He){yield je(He,!0);const Je=_e(He.baseEl,He);lt(He.enteringEl,He.leavingEl);const St=yield we(Je,He);return He.progressCallback&&He.progressCallback(void 0),St&&It(He.enteringEl,He.leavingEl),{hasCompleted:St,animation:Je}});return function(He,Je){return he.apply(this,arguments)}}(),Fe=function(){var he=(0,u.Z)(function*(_e){const He=_e.enteringEl,Je=_e.leavingEl;return yield je(_e,!1),lt(He,Je),It(He,Je),{hasCompleted:!0}});return function(He){return he.apply(this,arguments)}}(),je=function(){var he=(0,u.Z)(function*(_e,He){const St=(void 0!==_e.deepWait?_e.deepWait:He)?[bt(_e.enteringEl),bt(_e.leavingEl)]:[Xe(_e.enteringEl),Xe(_e.leavingEl)];yield Promise.all(St),yield gt(_e.viewIsReady,_e.enteringEl)});return function(He,Je){return he.apply(this,arguments)}}(),gt=function(){var he=(0,u.Z)(function*(_e,He){_e&&(yield _e(He))});return function(He,Je){return he.apply(this,arguments)}}(),we=(he,_e)=>{const He=_e.progressCallback,Je=new Promise(St=>{he.onFinish(Wt=>St(1===Wt))});return He?(he.progressStart(!0),He(he)):he.play(),Je},lt=(he,_e)=>{Mt(_e,ue),Mt(he,ze)},It=(he,_e)=>{Mt(he,Be),Mt(_e,xe)},Mt=(he,_e)=>{if(he){const He=new CustomEvent(_e,{bubbles:!1,cancelable:!1});he.dispatchEvent(He)}},Xe=he=>he?new Promise(_e=>(0,X.c)(he,_e)):Promise.resolve(),bt=function(){var he=(0,u.Z)(function*(_e){const He=_e;if(He){if(null!=He.componentOnReady){if(null!=(yield He.componentOnReady()))return}else if(null!=He.__registerHost)return void(yield new Promise(St=>(0,X.r)(St)));yield Promise.all(Array.from(He.children).map(bt))}});return function(He){return he.apply(this,arguments)}}(),ye=(he,_e)=>{_e?(he.setAttribute("aria-hidden","true"),he.classList.add("ion-page-hidden")):(he.hidden=!1,he.removeAttribute("aria-hidden"),he.classList.remove("ion-page-hidden"))},Oe=(he,_e,He)=>{void 0!==he&&(he.style.zIndex="back"===He?"99":"101"),void 0!==_e&&(_e.style.zIndex="100")},Ae=he=>he.classList.contains("ion-page")?he:he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||he},3139:(nn,dt,B)=>{"use strict";B.r(dt),B.d(dt,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>Ie});var u=B(3509);const te=(fe,Ye,Ue,Ee)=>{const Fe=X(fe)?{capture:!!Ee.capture,passive:!!Ee.passive}:!!Ee.capture;let je,gt;return fe.__zone_symbol__addEventListener?(je="__zone_symbol__addEventListener",gt="__zone_symbol__removeEventListener"):(je="addEventListener",gt="removeEventListener"),fe[je](Ye,Ue,Fe),()=>{fe[gt](Ye,Ue,Fe)}},X=fe=>{if(void 0===ze)try{const Ye=Object.defineProperty({},"passive",{get:()=>{ze=!0}});fe.addEventListener("optsTest",()=>{},Ye)}catch(Ye){ze=!1}return!!ze};let ze;const xe=fe=>fe instanceof Document?fe:fe.ownerDocument,Ie=fe=>{let Ye=!1,Ue=!1,Ee=!0,Fe=!1;const je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},fe),gt=je.canStart,we=je.onWillStart,lt=je.onStart,It=je.onEnd,Mt=je.notCaptured,Xe=je.onMove,bt=je.threshold,ye=je.passive,Oe=je.blurOnStart,Ae={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},he=((fe,Ye,Ue)=>{const Ee=Ue*(Math.PI/180),Fe="x"===fe,je=Math.cos(Ee),gt=Ye*Ye;let we=0,lt=0,It=!1,Mt=0;return{start(Xe,bt){we=Xe,lt=bt,Mt=0,It=!0},detect(Xe,bt){if(!It)return!1;const ye=Xe-we,Oe=bt-lt,Ae=ye*ye+Oe*Oe;if(Ae<gt)return!1;const he=Math.sqrt(Ae),_e=(Fe?ye:Oe)/he;return Mt=_e>je?1:_e<-je?-1:0,It=!1,!0},isGesture:()=>0!==Mt,getDirection:()=>Mt}})(je.direction,je.threshold,je.maxAngle),_e=u.G.createGesture({name:fe.gestureName,priority:fe.gesturePriority,disableScroll:fe.disableScroll}),St=()=>{!Ye||(Fe=!1,Xe&&Xe(Ae))},Wt=()=>!(_e&&!_e.capture()||(Ye=!0,Ee=!1,Ae.startX=Ae.currentX,Ae.startY=Ae.currentY,Ae.startTime=Ae.currentTime,we?we(Ae).then(_t):_t(),0)),_t=()=>{Oe&&(()=>{if("undefined"!=typeof document){const et=document.activeElement;(null==et?void 0:et.blur)&&et.blur()}})(),lt&&lt(Ae),Ee=!0},qe=()=>{Ye=!1,Ue=!1,Fe=!1,Ee=!0,_e.release()},at=et=>{const jt=Ye,Et=Ee;if(qe(),Et){if(ce(Ae,et),jt)return void(It&&It(Ae));Mt&&Mt(Ae)}},mt=((fe,Ye,Ue,Ee,Fe)=>{let je,gt,we,lt,It,Mt,Xe,bt=0;const ye=pt=>{bt=Date.now()+2e3,Ye(pt)&&(!gt&&Ue&&(gt=te(fe,"touchmove",Ue,Fe)),we||(we=te(pt.target,"touchend",Ae,Fe)),lt||(lt=te(pt.target,"touchcancel",Ae,Fe)))},Oe=pt=>{bt>Date.now()||!Ye(pt)||(!Mt&&Ue&&(Mt=te(xe(fe),"mousemove",Ue,Fe)),Xe||(Xe=te(xe(fe),"mouseup",he,Fe)))},Ae=pt=>{_e(),Ee&&Ee(pt)},he=pt=>{He(),Ee&&Ee(pt)},_e=()=>{gt&&gt(),we&&we(),lt&&lt(),gt=we=lt=void 0},He=()=>{Mt&&Mt(),Xe&&Xe(),Mt=Xe=void 0},Je=()=>{_e(),He()},St=(pt=!0)=>{pt?(je||(je=te(fe,"touchstart",ye,Fe)),It||(It=te(fe,"mousedown",Oe,Fe))):(je&&je(),It&&It(),je=It=void 0,Je())};return{enable:St,stop:Je,destroy:()=>{St(!1),Ee=Ue=Ye=void 0}}})(je.el,et=>{const jt=re(et);return!(Ue||!Ee||(ve(et,Ae),Ae.startX=Ae.currentX,Ae.startY=Ae.currentY,Ae.startTime=Ae.currentTime=jt,Ae.velocityX=Ae.velocityY=Ae.deltaX=Ae.deltaY=0,Ae.event=et,gt&&!1===gt(Ae))||(_e.release(),!_e.start()))&&(Ue=!0,0===bt?Wt():(he.start(Ae.startX,Ae.startY),!0))},et=>{Ye?!Fe&&Ee&&(Fe=!0,ce(Ae,et),requestAnimationFrame(St)):(ce(Ae,et),he.detect(Ae.currentX,Ae.currentY)&&(!he.isGesture()||!Wt())&&Te())},at,{capture:!1,passive:ye}),Te=()=>{qe(),mt.stop(),Mt&&Mt(Ae)};return{enable(et=!0){et||(Ye&&at(void 0),qe()),mt.enable(et)},destroy(){_e.destroy(),mt.destroy()}}},ce=(fe,Ye)=>{if(!Ye)return;const Ue=fe.currentX,Ee=fe.currentY,Fe=fe.currentTime;ve(Ye,fe);const je=fe.currentX,gt=fe.currentY,lt=(fe.currentTime=re(Ye))-Fe;if(lt>0&&lt<100){const Mt=(gt-Ee)/lt;fe.velocityX=(je-Ue)/lt*.7+.3*fe.velocityX,fe.velocityY=.7*Mt+.3*fe.velocityY}fe.deltaX=je-fe.startX,fe.deltaY=gt-fe.startY,fe.event=Ye},ve=(fe,Ye)=>{let Ue=0,Ee=0;if(fe){const Fe=fe.changedTouches;if(Fe&&Fe.length>0){const je=Fe[0];Ue=je.clientX,Ee=je.clientY}else void 0!==fe.pageX&&(Ue=fe.pageX,Ee=fe.pageY)}Ye.currentX=Ue,Ye.currentY=Ee},re=fe=>fe.timeStamp||Date.now()},2361:(nn,dt,B)=>{"use strict";B.d(dt,{B:()=>di,H:()=>Wn,a:()=>Te,b:()=>Dr,c:()=>$i,e:()=>tt,f:()=>ii,g:()=>et,h:()=>gn,i:()=>We,j:()=>$n,k:()=>kr,p:()=>Ee,r:()=>mn,s:()=>Ye});var u=B(5861);let X,ze,Be,ue=!1,xe=!1,De=!1,Ie=!1,ce=!1;const ve="undefined"!=typeof window?window:{},re=ve.document||{head:{}},fe={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,me,W,ft)=>J.addEventListener(me,W,ft),rel:(J,me,W,ft)=>J.removeEventListener(me,W,ft),ce:(J,me)=>new CustomEvent(J,me)},Ye=J=>{Object.assign(fe,J)},Ee=J=>Promise.resolve(J),Fe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(J){}return!1})(),je=(J,me,W,ft)=>{W&&W.map(([be,Pe,ct])=>{const Bt=we(J,be),Pt=gt(me,ct),xt=lt(be);fe.ael(Bt,Pe,Pt,xt),(me.$rmListeners$=me.$rmListeners$||[]).push(()=>fe.rel(Bt,Pe,Pt,xt))})},gt=(J,me)=>W=>{try{256&J.$flags$?J.$lazyInstance$[me](W):(J.$queuedListeners$=J.$queuedListeners$||[]).push([me,W])}catch(ft){Qr(ft)}},we=(J,me)=>4&me?re:8&me?ve:16&me?re.body:J,lt=J=>0!=(2&J),ye="s-id",Oe="sty-id",_e="http://www.w3.org/1999/xlink",St=new WeakMap,Wt=(J,me,W)=>{let ft=Rr.get(J);Fe&&W?(ft=ft||new CSSStyleSheet,ft.replace(me)):ft=me,Rr.set(J,ft)},pt=(J,me,W,ft)=>{let be=qe(me,W),Pe=Rr.get(be);if(J=11===J.nodeType?J:re,Pe)if("string"==typeof Pe){let Bt,ct=St.get(J=J.head||J);ct||St.set(J,ct=new Set),ct.has(be)||(J.host&&(Bt=J.querySelector(`[${Oe}="${be}"]`))?Bt.innerHTML=Pe:(Bt=re.createElement("style"),Bt.innerHTML=Pe,J.insertBefore(Bt,J.querySelector("link"))),ct&&ct.add(be))}else J.adoptedStyleSheets.includes(Pe)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,Pe]);return be},qe=(J,me)=>"sc-"+(me&&32&J.$flags$?J.$tagName$+"-"+me:J.$tagName$),at=J=>J.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Te=J=>Ci.push(J),et=J=>Kt(J).$modeName$,jt={},Rn=J=>"object"==(J=typeof J)||"function"===J,gn=(J,me,...W)=>{let ft=null,be=null,Pe=null,ct=!1,Bt=!1,Pt=[];const xt=kn=>{for(let jn=0;jn<kn.length;jn++)ft=kn[jn],Array.isArray(ft)?xt(ft):null!=ft&&"boolean"!=typeof ft&&((ct="function"!=typeof J&&!Rn(ft))&&(ft=String(ft)),ct&&Bt?Pt[Pt.length-1].$text$+=ft:Pt.push(ct?dn(null,ft):ft),Bt=ct)};if(xt(W),me){me.key&&(be=me.key),me.name&&(Pe=me.name);{const kn=me.className||me.class;kn&&(me.class="object"!=typeof kn?kn:Object.keys(kn).filter(jn=>kn[jn]).join(" "))}}if("function"==typeof J)return J(null===me?{}:me,Pt,Gn);const yn=dn(J,null);return yn.$attrs$=me,Pt.length>0&&(yn.$children$=Pt),yn.$key$=be,yn.$name$=Pe,yn},dn=(J,me)=>({$flags$:0,$tag$:J,$text$:me,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Wn={},Gn={forEach:(J,me)=>J.map(zn).forEach(me),map:(J,me)=>J.map(zn).map(me).map(tn)},zn=J=>({vattrs:J.$attrs$,vchildren:J.$children$,vkey:J.$key$,vname:J.$name$,vtag:J.$tag$,vtext:J.$text$}),tn=J=>{if("function"==typeof J.vtag){const W=Object.assign({},J.vattrs);return J.vkey&&(W.key=J.vkey),J.vname&&(W.name=J.vname),gn(J.vtag,W,...J.vchildren||[])}const me=dn(J.vtag,J.vtext);return me.$attrs$=J.vattrs,me.$children$=J.vchildren,me.$key$=J.vkey,me.$name$=J.vname,me},Mr=(J,me,W,ft,be,Pe)=>{if(W!==ft){let ct=Wr(J,me),Bt=me.toLowerCase();if("class"===me){const Pt=J.classList,xt=ar(W),yn=ar(ft);Pt.remove(...xt.filter(kn=>kn&&!yn.includes(kn))),Pt.add(...yn.filter(kn=>kn&&!xt.includes(kn)))}else if("style"===me){for(const Pt in W)(!ft||null==ft[Pt])&&(Pt.includes("-")?J.style.removeProperty(Pt):J.style[Pt]="");for(const Pt in ft)(!W||ft[Pt]!==W[Pt])&&(Pt.includes("-")?J.style.setProperty(Pt,ft[Pt]):J.style[Pt]=ft[Pt])}else if("key"!==me)if("ref"===me)ft&&ft(J);else if(ct||"o"!==me[0]||"n"!==me[1]){const Pt=Rn(ft);if((ct||Pt&&null!==ft)&&!be)try{if(J.tagName.includes("-"))J[me]=ft;else{let yn=null==ft?"":ft;"list"===me?ct=!1:(null==W||J[me]!=yn)&&(J[me]=yn)}}catch(yn){}let xt=!1;Bt!==(Bt=Bt.replace(/^xlink\:?/,""))&&(me=Bt,xt=!0),null==ft||!1===ft?(!1!==ft||""===J.getAttribute(me))&&(xt?J.removeAttributeNS(_e,me):J.removeAttribute(me)):(!ct||4&Pe||be)&&!Pt&&(ft=!0===ft?"":ft,xt?J.setAttributeNS(_e,me,ft):J.setAttribute(me,ft))}else me="-"===me[2]?me.slice(3):Wr(ve,Bt)?Bt.slice(2):Bt[2]+me.slice(3),W&&fe.rel(J,me,W,!1),ft&&fe.ael(J,me,ft,!1)}},ur=/\s/,ar=J=>J?J.split(ur):[],Qn=(J,me,W,ft)=>{const be=11===me.$elm$.nodeType&&me.$elm$.host?me.$elm$.host:me.$elm$,Pe=J&&J.$attrs$||jt,ct=me.$attrs$||jt;for(ft in Pe)ft in ct||Mr(be,ft,Pe[ft],void 0,W,me.$flags$);for(ft in ct)Mr(be,ft,Pe[ft],ct[ft],W,me.$flags$)},mr=(J,me,W,ft)=>{let ct,Bt,Pt,be=me.$children$[W],Pe=0;if(ue||(De=!0,"slot"===be.$tag$&&(X&&ft.classList.add(X+"-s"),be.$flags$|=be.$children$?2:1)),null!==be.$text$)ct=be.$elm$=re.createTextNode(be.$text$);else if(1&be.$flags$)ct=be.$elm$=re.createTextNode("");else{if(Ie||(Ie="svg"===be.$tag$),ct=be.$elm$=re.createElementNS(Ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&be.$flags$?"slot-fb":be.$tag$),Ie&&"foreignObject"===be.$tag$&&(Ie=!1),Qn(null,be,Ie),(J=>null!=J)(X)&&ct["s-si"]!==X&&ct.classList.add(ct["s-si"]=X),be.$children$)for(Pe=0;Pe<be.$children$.length;++Pe)Bt=mr(J,be,Pe,ct),Bt&&ct.appendChild(Bt);"svg"===be.$tag$?Ie=!1:"foreignObject"===ct.tagName&&(Ie=!0)}return ct["s-hn"]=Be,3&be.$flags$&&(ct["s-sr"]=!0,ct["s-cr"]=ze,ct["s-sn"]=be.$name$||"",Pt=J&&J.$children$&&J.$children$[W],Pt&&Pt.$tag$===be.$tag$&&J.$elm$&&yt(J.$elm$,!1)),ct},yt=(J,me)=>{fe.$flags$|=1;const W=J.childNodes;for(let ft=W.length-1;ft>=0;ft--){const be=W[ft];be["s-hn"]!==Be&&be["s-ol"]&&(hn(be).insertBefore(be,qt(be)),be["s-ol"].remove(),be["s-ol"]=void 0,De=!0),me&&yt(be,me)}fe.$flags$&=-2},Ke=(J,me,W,ft,be,Pe)=>{let Bt,ct=J["s-cr"]&&J["s-cr"].parentNode||J;for(ct.shadowRoot&&ct.tagName===Be&&(ct=ct.shadowRoot);be<=Pe;++be)ft[be]&&(Bt=mr(null,W,be,J),Bt&&(ft[be].$elm$=Bt,ct.insertBefore(Bt,qt(me))))},Se=(J,me,W,ft,be)=>{for(;me<=W;++me)(ft=J[me])&&(be=ft.$elm$,yr(ft),xe=!0,be["s-ol"]?be["s-ol"].remove():yt(be,!0),be.remove())},Rt=(J,me)=>J.$tag$===me.$tag$&&("slot"===J.$tag$?J.$name$===me.$name$:J.$key$===me.$key$),qt=J=>J&&J["s-ol"]||J,hn=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,Xn=(J,me)=>{const W=me.$elm$=J.$elm$,ft=J.$children$,be=me.$children$,Pe=me.$tag$,ct=me.$text$;let Bt;null===ct?(Ie="svg"===Pe||"foreignObject"!==Pe&&Ie,"slot"===Pe||Qn(J,me,Ie),null!==ft&&null!==be?((J,me,W,ft)=>{let ti,yi,be=0,Pe=0,ct=0,Bt=0,Pt=me.length-1,xt=me[0],yn=me[Pt],kn=ft.length-1,jn=ft[0],sr=ft[kn];for(;be<=Pt&&Pe<=kn;)if(null==xt)xt=me[++be];else if(null==yn)yn=me[--Pt];else if(null==jn)jn=ft[++Pe];else if(null==sr)sr=ft[--kn];else if(Rt(xt,jn))Xn(xt,jn),xt=me[++be],jn=ft[++Pe];else if(Rt(yn,sr))Xn(yn,sr),yn=me[--Pt],sr=ft[--kn];else if(Rt(xt,sr))("slot"===xt.$tag$||"slot"===sr.$tag$)&&yt(xt.$elm$.parentNode,!1),Xn(xt,sr),J.insertBefore(xt.$elm$,yn.$elm$.nextSibling),xt=me[++be],sr=ft[--kn];else if(Rt(yn,jn))("slot"===xt.$tag$||"slot"===sr.$tag$)&&yt(yn.$elm$.parentNode,!1),Xn(yn,jn),J.insertBefore(yn.$elm$,xt.$elm$),yn=me[--Pt],jn=ft[++Pe];else{for(ct=-1,Bt=be;Bt<=Pt;++Bt)if(me[Bt]&&null!==me[Bt].$key$&&me[Bt].$key$===jn.$key$){ct=Bt;break}ct>=0?(yi=me[ct],yi.$tag$!==jn.$tag$?ti=mr(me&&me[Pe],W,ct,J):(Xn(yi,jn),me[ct]=void 0,ti=yi.$elm$),jn=ft[++Pe]):(ti=mr(me&&me[Pe],W,Pe,J),jn=ft[++Pe]),ti&&hn(xt.$elm$).insertBefore(ti,qt(xt.$elm$))}be>Pt?Ke(J,null==ft[kn+1]?null:ft[kn+1].$elm$,W,ft,Pe,kn):Pe>kn&&Se(me,be,Pt)})(W,ft,me,be):null!==be?(null!==J.$text$&&(W.textContent=""),Ke(W,null,me,be,0,be.length-1)):null!==ft&&Se(ft,0,ft.length-1),Ie&&"svg"===Pe&&(Ie=!1)):(Bt=W["s-cr"])?Bt.parentNode.textContent=ct:J.$text$!==ct&&(W.data=ct)},Un=J=>{let W,ft,be,Pe,ct,Bt,me=J.childNodes;for(ft=0,be=me.length;ft<be;ft++)if(W=me[ft],1===W.nodeType){if(W["s-sr"])for(ct=W["s-sn"],W.hidden=!1,Pe=0;Pe<be;Pe++)if(Bt=me[Pe].nodeType,me[Pe]["s-hn"]!==W["s-hn"]||""!==ct){if(1===Bt&&ct===me[Pe].getAttribute("slot")){W.hidden=!0;break}}else if(1===Bt||3===Bt&&""!==me[Pe].textContent.trim()){W.hidden=!0;break}Un(W)}},xn=[],On=J=>{let me,W,ft,be,Pe,ct,Bt=0,Pt=J.childNodes,xt=Pt.length;for(;Bt<xt;Bt++){if(me=Pt[Bt],me["s-sr"]&&(W=me["s-cr"])&&W.parentNode)for(ft=W.parentNode.childNodes,be=me["s-sn"],ct=ft.length-1;ct>=0;ct--)W=ft[ct],!W["s-cn"]&&!W["s-nr"]&&W["s-hn"]!==me["s-hn"]&&(pr(W,be)?(Pe=xn.find(yn=>yn.$nodeToRelocate$===W),xe=!0,W["s-sn"]=W["s-sn"]||be,Pe?Pe.$slotRefNode$=me:xn.push({$slotRefNode$:me,$nodeToRelocate$:W}),W["s-sr"]&&xn.map(yn=>{pr(yn.$nodeToRelocate$,W["s-sn"])&&(Pe=xn.find(kn=>kn.$nodeToRelocate$===W),Pe&&!yn.$slotRefNode$&&(yn.$slotRefNode$=Pe.$slotRefNode$))})):xn.some(yn=>yn.$nodeToRelocate$===W)||xn.push({$nodeToRelocate$:W}));1===me.nodeType&&On(me)}},pr=(J,me)=>1===J.nodeType?null===J.getAttribute("slot")&&""===me||J.getAttribute("slot")===me:J["s-sn"]===me||""===me,yr=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(yr)},We=J=>Kt(J).$hostElement$,tt=(J,me,W)=>{const ft=We(J);return{emit:be=>Nt(ft,me,{bubbles:!!(4&W),composed:!!(2&W),cancelable:!!(1&W),detail:be})}},Nt=(J,me,W)=>{const ft=fe.ce(me,W);return J.dispatchEvent(ft),ft},Ge=(J,me)=>{me&&!J.$onRenderResolve$&&me["s-p"]&&me["s-p"].push(new Promise(W=>J.$onRenderResolve$=W))},ut=(J,me)=>{if(J.$flags$|=16,!(4&J.$flags$))return Ge(J,J.$ancestorComponent$),$i(()=>Zt(J,me));J.$flags$|=512},Zt=(J,me)=>{const ft=J.$lazyInstance$;let be;return me&&(J.$flags$|=256,J.$queuedListeners$&&(J.$queuedListeners$.map(([Pe,ct])=>wr(ft,Pe,ct)),J.$queuedListeners$=null),be=wr(ft,"componentWillLoad")),be=Zr(be,()=>wr(ft,"componentWillRender")),Zr(be,()=>on(J,ft,me))},on=function(){var J=(0,u.Z)(function*(me,W,ft){const be=me.$hostElement$,ct=be["s-rc"];ft&&(J=>{const me=J.$cmpMeta$,W=J.$hostElement$,ft=me.$flags$,Pe=pt(W.shadowRoot?W.shadowRoot:W.getRootNode(),me,J.$modeName$);10&ft&&(W["s-sc"]=Pe,W.classList.add(Pe+"-h"),2&ft&&W.classList.add(Pe+"-s"))})(me);vn(me,W),ct&&(ct.map(Pt=>Pt()),be["s-rc"]=void 0);{const Pt=be["s-p"],xt=()=>Pn(me);0===Pt.length?xt():(Promise.all(Pt).then(xt),me.$flags$|=4,Pt.length=0)}});return function(W,ft,be){return J.apply(this,arguments)}}(),vn=(J,me,W)=>{try{me=me.render&&me.render(),J.$flags$&=-17,J.$flags$|=2,((J,me)=>{const W=J.$hostElement$,ft=J.$cmpMeta$,be=J.$vnode$||dn(null,null),Pe=(J=>J&&J.$tag$===Wn)(me)?me:gn(null,null,me);if(Be=W.tagName,ft.$attrsToReflect$&&(Pe.$attrs$=Pe.$attrs$||{},ft.$attrsToReflect$.map(([ct,Bt])=>Pe.$attrs$[Bt]=W[ct])),Pe.$tag$=null,Pe.$flags$|=4,J.$vnode$=Pe,Pe.$elm$=be.$elm$=W.shadowRoot||W,X=W["s-sc"],ze=W["s-cr"],ue=0!=(1&ft.$flags$),xe=!1,Xn(be,Pe),fe.$flags$|=1,De){On(Pe.$elm$);let ct,Bt,Pt,xt,yn,kn,jn=0;for(;jn<xn.length;jn++)ct=xn[jn],Bt=ct.$nodeToRelocate$,Bt["s-ol"]||(Pt=re.createTextNode(""),Pt["s-nr"]=Bt,Bt.parentNode.insertBefore(Bt["s-ol"]=Pt,Bt));for(jn=0;jn<xn.length;jn++)if(ct=xn[jn],Bt=ct.$nodeToRelocate$,ct.$slotRefNode$){for(xt=ct.$slotRefNode$.parentNode,yn=ct.$slotRefNode$.nextSibling,Pt=Bt["s-ol"];Pt=Pt.previousSibling;)if(kn=Pt["s-nr"],kn&&kn["s-sn"]===Bt["s-sn"]&&xt===kn.parentNode&&(kn=kn.nextSibling,!kn||!kn["s-nr"])){yn=kn;break}(!yn&&xt!==Bt.parentNode||Bt.nextSibling!==yn)&&Bt!==yn&&(!Bt["s-hn"]&&Bt["s-ol"]&&(Bt["s-hn"]=Bt["s-ol"].parentNode.nodeName),xt.insertBefore(Bt,yn))}else 1===Bt.nodeType&&(Bt.hidden=!0)}xe&&Un(Pe.$elm$),fe.$flags$&=-2,xn.length=0})(J,me)}catch(ft){Qr(ft,J.$hostElement$)}return null},Pn=J=>{const W=J.$hostElement$,be=J.$lazyInstance$,Pe=J.$ancestorComponent$;wr(be,"componentDidRender"),64&J.$flags$?wr(be,"componentDidUpdate"):(J.$flags$|=64,Hr(W),wr(be,"componentDidLoad"),J.$onReadyResolve$(W),Pe||Dn()),J.$onInstanceResolve$(W),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&Jr(()=>ut(J,!1)),J.$flags$&=-517},$n=J=>{{const me=Kt(J),W=me.$hostElement$.isConnected;return W&&2==(18&me.$flags$)&&ut(me,!1),W}},Dn=J=>{Hr(re.documentElement),Jr(()=>Nt(ve,"appload",{detail:{namespace:"ionic"}}))},wr=(J,me,W)=>{if(J&&J[me])try{return J[me](W)}catch(ft){Qr(ft)}},Zr=(J,me)=>J&&J.then?J.then(me):me(),Hr=J=>J.classList.add("hydrated"),ls=(J,me,W,ft,be,Pe,ct)=>{let Bt,Pt,xt,yn;if(1===Pe.nodeType){for(Bt=Pe.getAttribute("c-id"),Bt&&(Pt=Bt.split("."),(Pt[0]===ct||"0"===Pt[0])&&(xt={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Pe.tagName.toLowerCase(),$elm$:Pe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},me.push(xt),Pe.removeAttribute("c-id"),J.$children$||(J.$children$=[]),J.$children$[xt.$index$]=xt,J=xt,ft&&"0"===xt.$depth$&&(ft[xt.$index$]=xt.$elm$))),yn=Pe.childNodes.length-1;yn>=0;yn--)ls(J,me,W,ft,be,Pe.childNodes[yn],ct);if(Pe.shadowRoot)for(yn=Pe.shadowRoot.childNodes.length-1;yn>=0;yn--)ls(J,me,W,ft,be,Pe.shadowRoot.childNodes[yn],ct)}else if(8===Pe.nodeType)Pt=Pe.nodeValue.split("."),(Pt[1]===ct||"0"===Pt[1])&&(Bt=Pt[0],xt={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Pe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Bt?(xt.$elm$=Pe.nextSibling,xt.$elm$&&3===xt.$elm$.nodeType&&(xt.$text$=xt.$elm$.textContent,me.push(xt),Pe.remove(),J.$children$||(J.$children$=[]),J.$children$[xt.$index$]=xt,ft&&"0"===xt.$depth$&&(ft[xt.$index$]=xt.$elm$))):xt.$hostId$===ct&&("s"===Bt?(xt.$tag$="slot",Pe["s-sn"]=Pt[5]?xt.$name$=Pt[5]:"",Pe["s-sr"]=!0,ft&&(xt.$elm$=re.createElement(xt.$tag$),xt.$name$&&xt.$elm$.setAttribute("name",xt.$name$),Pe.parentNode.insertBefore(xt.$elm$,Pe),Pe.remove(),"0"===xt.$depth$&&(ft[xt.$index$]=xt.$elm$)),W.push(xt),J.$children$||(J.$children$=[]),J.$children$[xt.$index$]=xt):"r"===Bt&&(ft?Pe.remove():(be["s-cr"]=Pe,Pe["s-cn"]=!0))));else if(J&&"style"===J.$tag$){const kn=dn(null,Pe.textContent);kn.$elm$=Pe,kn.$index$="0",J.$children$=[kn]}},gi=(J,me)=>{if(1===J.nodeType){let W=0;for(;W<J.childNodes.length;W++)gi(J.childNodes[W],me);if(J.shadowRoot)for(W=0;W<J.shadowRoot.childNodes.length;W++)gi(J.shadowRoot.childNodes[W],me)}else if(8===J.nodeType){const W=J.nodeValue.split(".");"o"===W[0]&&(me.set(W[1]+"."+W[2],J),J.nodeValue="",J["s-en"]=W[3])}},Xr=(J,me,W)=>{if(me.$members$){J.watchers&&(me.$watchers$=J.watchers);const ft=Object.entries(me.$members$),be=J.prototype;if(ft.map(([Pe,[ct]])=>{31&ct||2&W&&32&ct?Object.defineProperty(be,Pe,{get(){return((J,me)=>Kt(this).$instanceValues$.get(me))(0,Pe)},set(Bt){((J,me,W,ft)=>{const be=Kt(J),Pe=be.$hostElement$,ct=be.$instanceValues$.get(me),Bt=be.$flags$,Pt=be.$lazyInstance$;W=((J,me)=>null==J||Rn(J)?J:4&me?"false"!==J&&(""===J||!!J):2&me?parseFloat(J):1&me?String(J):J)(W,ft.$members$[me][0]);const xt=Number.isNaN(ct)&&Number.isNaN(W);if((!(8&Bt)||void 0===ct)&&W!==ct&&!xt&&(be.$instanceValues$.set(me,W),Pt)){if(ft.$watchers$&&128&Bt){const kn=ft.$watchers$[me];kn&&kn.map(jn=>{try{Pt[jn](W,ct,me)}catch(sr){Qr(sr,Pe)}})}2==(18&Bt)&&ut(be,!1)}})(this,Pe,Bt,me)},configurable:!0,enumerable:!0}):1&W&&64&ct&&Object.defineProperty(be,Pe,{value(...Bt){const Pt=Kt(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Pe](...Bt))}})}),1&W){const Pe=new Map;be.attributeChangedCallback=function(ct,Bt,Pt){fe.jmp(()=>{const xt=Pe.get(ct);if(this.hasOwnProperty(xt))Pt=this[xt],delete this[xt];else if(be.hasOwnProperty(xt)&&"number"==typeof this[xt]&&this[xt]==Pt)return;this[xt]=(null!==Pt||"boolean"!=typeof this[xt])&&Pt})},J.observedAttributes=ft.filter(([ct,Bt])=>15&Bt[0]).map(([ct,Bt])=>{const Pt=Bt[1]||ct;return Pe.set(Pt,ct),512&Bt[0]&&me.$attrsToReflect$.push([ct,Pt]),Pt})}}return J},Fr=function(){var J=(0,u.Z)(function*(me,W,ft,be,Pe){if(0==(32&W.$flags$)){{if(W.$flags$|=32,(Pe=mi(ft)).then){const xt=()=>{};Pe=yield Pe,xt()}Pe.isProxied||(ft.$watchers$=Pe.watchers,Xr(Pe,ft,2),Pe.isProxied=!0);const Pt=()=>{};W.$flags$|=8;try{new Pe(W)}catch(xt){Qr(xt)}W.$flags$&=-9,W.$flags$|=128,Pt(),Jn(W.$lazyInstance$)}if(Pe.style){let Pt=Pe.style;"string"!=typeof Pt&&(Pt=Pt[W.$modeName$=(J=>Ci.map(me=>me(J)).find(me=>!!me))(me)]);const xt=qe(ft,W.$modeName$);if(!Rr.has(xt)){const yn=()=>{};Wt(xt,Pt,!!(1&ft.$flags$)),yn()}}}const ct=W.$ancestorComponent$,Bt=()=>ut(W,!0);ct&&ct["s-rc"]?ct["s-rc"].push(Bt):Bt()});return function(W,ft,be,Pe,ct){return J.apply(this,arguments)}}(),Jn=J=>{wr(J,"connectedCallback")},Ii=J=>{const me=J["s-cr"]=re.createComment("");me["s-cn"]=!0,J.insertBefore(me,J.firstChild)},Dr=(J,me={})=>{const ft=[],be=me.exclude||[],Pe=ve.customElements,ct=re.head,Bt=ct.querySelector("meta[charset]"),Pt=re.createElement("style"),xt=[],yn=re.querySelectorAll(`[${Oe}]`);let kn,jn=!0,sr=0;for(Object.assign(fe,me),fe.$resourcesUrl$=new URL(me.resourcesUrl||"./",re.baseURI).href,fe.$flags$|=2;sr<yn.length;sr++)Wt(yn[sr].getAttribute(Oe),at(yn[sr].innerHTML),!0);J.map(ti=>{ti[1].map(yi=>{const rt={$flags$:yi[0],$tagName$:yi[1],$members$:yi[2],$listeners$:yi[3]};rt.$members$=yi[2],rt.$listeners$=yi[3],rt.$attrsToReflect$=[],rt.$watchers$={};const Qe=rt.$tagName$,vt=class extends HTMLElement{constructor(Ht){super(Ht),qn(Ht=this,rt),1&rt.$flags$&&Ht.attachShadow({mode:"open",delegatesFocus:!!(16&rt.$flags$)})}connectedCallback(){kn&&(clearTimeout(kn),kn=null),jn?xt.push(this):fe.jmp(()=>(J=>{if(0==(1&fe.$flags$)){const me=Kt(J),W=me.$cmpMeta$,ft=()=>{};if(1&me.$flags$)je(J,me,W.$listeners$),Jn(me.$lazyInstance$);else{let be;if(me.$flags$|=1,be=J.getAttribute(ye),be){if(1&W.$flags$){const Pe=pt(J.shadowRoot,W,J.getAttribute("s-mode"));J.classList.remove(Pe+"-h",Pe+"-s")}((J,me,W,ft)=>{const Pe=J.shadowRoot,ct=[],Pt=Pe?[]:null,xt=ft.$vnode$=dn(me,null);fe.$orgLocNodes$||gi(re.body,fe.$orgLocNodes$=new Map),J[ye]=W,J.removeAttribute(ye),ls(xt,ct,[],Pt,J,J,W),ct.map(yn=>{const kn=yn.$hostId$+"."+yn.$nodeId$,jn=fe.$orgLocNodes$.get(kn),sr=yn.$elm$;jn&&""===jn["s-en"]&&jn.parentNode.insertBefore(sr,jn.nextSibling),Pe||(sr["s-hn"]=me,jn&&(sr["s-ol"]=jn,sr["s-ol"]["s-nr"]=sr)),fe.$orgLocNodes$.delete(kn)}),Pe&&Pt.map(yn=>{yn&&Pe.appendChild(yn)})})(J,W.$tagName$,be,me)}be||12&W.$flags$&&Ii(J);{let Pe=J;for(;Pe=Pe.parentNode||Pe.host;)if(1===Pe.nodeType&&Pe.hasAttribute("s-id")&&Pe["s-p"]||Pe["s-p"]){Ge(me,me.$ancestorComponent$=Pe);break}}W.$members$&&Object.entries(W.$members$).map(([Pe,[ct]])=>{if(31&ct&&J.hasOwnProperty(Pe)){const Bt=J[Pe];delete J[Pe],J[Pe]=Bt}}),Jr(()=>Fr(J,me,W))}ft()}})(this))}disconnectedCallback(){fe.jmp(()=>(J=>{if(0==(1&fe.$flags$)){const me=Kt(this),W=me.$lazyInstance$;me.$rmListeners$&&(me.$rmListeners$.map(ft=>ft()),me.$rmListeners$=void 0),wr(W,"disconnectedCallback")}})())}componentOnReady(){return Kt(this).$onReadyPromise$}};rt.$lazyBundleId$=ti[0],!be.includes(Qe)&&!Pe.get(Qe)&&(ft.push(Qe),Pe.define(Qe,Xr(vt,rt,1)))})}),Pt.innerHTML=ft+"{visibility:hidden}.hydrated{visibility:inherit}",Pt.setAttribute("data-styles",""),ct.insertBefore(Pt,Bt?Bt.nextSibling:ct.firstChild),jn=!1,xt.length?xt.map(ti=>ti.connectedCallback()):fe.jmp(()=>kn=setTimeout(Dn,30))},kr=J=>{const me=new URL(J,fe.$resourcesUrl$);return me.origin!==ve.location.origin?me.href:me.pathname},Lr=new WeakMap,Kt=J=>Lr.get(J),mn=(J,me)=>Lr.set(me.$lazyInstance$=J,me),qn=(J,me)=>{const W={$flags$:0,$hostElement$:J,$cmpMeta$:me,$instanceValues$:new Map};return W.$onInstancePromise$=new Promise(ft=>W.$onInstanceResolve$=ft),W.$onReadyPromise$=new Promise(ft=>W.$onReadyResolve$=ft),J["s-p"]=[],J["s-rc"]=[],je(J,W,me.$listeners$),Lr.set(J,W)},Wr=(J,me)=>me in J,Qr=(J,me)=>(0,console.error)(J,me),Ir=new Map,mi=(J,me,W)=>{const ft=J.$tagName$.replace(/-/g,"_"),be=J.$lazyBundleId$,Pe=Ir.get(be);return Pe?Pe[ft]:B(863)(`./${be}.entry.js`).then(ct=>(Ir.set(be,ct),ct[ft]),Qr)},Rr=new Map,Ci=[],Gr=[],Kn=[],Zi=(J,me)=>W=>{J.push(W),ce||(ce=!0,me&&4&fe.$flags$?Jr(Ai):fe.raf(Ai))},Pi=J=>{for(let me=0;me<J.length;me++)try{J[me](performance.now())}catch(W){Qr(W)}J.length=0},Ai=()=>{Pi(Gr),Pi(Kn),(ce=Gr.length>0)&&fe.raf(Ai)},Jr=J=>Ee().then(J),ii=Zi(Gr,!1),$i=Zi(Kn,!0),di={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(nn,dt,B)=>{"use strict";B.d(dt,{m:()=>ve});var u=B(5861),te=B(7593),X=B(3756),ze=B(6254),Be=B(9442);const ue=re=>(0,Be.c)().duration(re?400:300),xe=re=>{let fe,Ye;const Ue=re.width+8,Ee=(0,Be.c)(),Fe=(0,Be.c)();re.isEndSide?(fe=Ue+"px",Ye="0px"):(fe=-Ue+"px",Ye="0px"),Ee.addElement(re.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${Ye})`);const gt="ios"===(0,ze.b)(re),we=gt?.2:.25;return Fe.addElement(re.backdropEl).fromTo("opacity",.01,we),ue(gt).addAnimation([Ee,Fe])},De=re=>{let fe,Ye;const Ue=(0,ze.b)(re),Ee=re.width;re.isEndSide?(fe=-Ee+"px",Ye=Ee+"px"):(fe=Ee+"px",Ye=-Ee+"px");const Fe=(0,Be.c)().addElement(re.menuInnerEl).fromTo("transform",`translateX(${Ye})`,"translateX(0px)"),je=(0,Be.c)().addElement(re.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),gt=(0,Be.c)().addElement(re.backdropEl).fromTo("opacity",.01,.32);return ue("ios"===Ue).addAnimation([Fe,je,gt])},Ie=re=>{const fe=(0,ze.b)(re),Ye=re.width*(re.isEndSide?-1:1)+"px",Ue=(0,Be.c)().addElement(re.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ye})`);return ue("ios"===fe).addAnimation(Ue)},ve=(()=>{const re=new Map,fe=[],Ye=function(){var _t=(0,u.Z)(function*(qe){const at=yield lt(qe);return!!at&&at.open()});return function(at){return _t.apply(this,arguments)}}(),Ue=function(){var _t=(0,u.Z)(function*(qe){const at=yield void 0!==qe?lt(qe):It();return void 0!==at&&at.close()});return function(at){return _t.apply(this,arguments)}}(),Ee=function(){var _t=(0,u.Z)(function*(qe){const at=yield lt(qe);return!!at&&at.toggle()});return function(at){return _t.apply(this,arguments)}}(),Fe=function(){var _t=(0,u.Z)(function*(qe,at){const mt=yield lt(at);return mt&&(mt.disabled=!qe),mt});return function(at,mt){return _t.apply(this,arguments)}}(),je=function(){var _t=(0,u.Z)(function*(qe,at){const mt=yield lt(at);return mt&&(mt.swipeGesture=qe),mt});return function(at,mt){return _t.apply(this,arguments)}}(),gt=function(){var _t=(0,u.Z)(function*(qe){if(null!=qe){const at=yield lt(qe);return void 0!==at&&at.isOpen()}return void 0!==(yield It())});return function(at){return _t.apply(this,arguments)}}(),we=function(){var _t=(0,u.Z)(function*(qe){const at=yield lt(qe);return!!at&&!at.disabled});return function(at){return _t.apply(this,arguments)}}(),lt=function(){var _t=(0,u.Z)(function*(qe){return yield pt(),"start"===qe||"end"===qe?Wt(Te=>Te.side===qe&&!Te.disabled)||Wt(Te=>Te.side===qe):null!=qe?Wt(mt=>mt.menuId===qe):Wt(mt=>!mt.disabled)||(fe.length>0?fe[0].el:void 0)});return function(at){return _t.apply(this,arguments)}}(),It=function(){var _t=(0,u.Z)(function*(){return yield pt(),He()});return function(){return _t.apply(this,arguments)}}(),Mt=function(){var _t=(0,u.Z)(function*(){return yield pt(),Je()});return function(){return _t.apply(this,arguments)}}(),Xe=function(){var _t=(0,u.Z)(function*(){return yield pt(),St()});return function(){return _t.apply(this,arguments)}}(),bt=(_t,qe)=>{re.set(_t,qe)},Ae=_t=>{const qe=_t.side;fe.filter(at=>at.side===qe&&at!==_t).forEach(at=>at.disabled=!0)},he=function(){var _t=(0,u.Z)(function*(qe,at,mt){if(St())return!1;if(at){const Te=yield It();Te&&qe.el!==Te&&(yield Te.setOpen(!1,!1))}return qe._setOpen(at,mt)});return function(at,mt,Te){return _t.apply(this,arguments)}}(),He=()=>Wt(_t=>_t._isOpen),Je=()=>fe.map(_t=>_t.el),St=()=>fe.some(_t=>_t.isAnimating),Wt=_t=>{const qe=fe.find(_t);if(void 0!==qe)return qe.el},pt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_t=>new Promise(qe=>(0,X.c)(_t,qe))));return bt("reveal",Ie),bt("push",De),bt("overlay",xe),"undefined"!=typeof document&&document.addEventListener("ionBackButton",_t=>{const qe=He();qe&&_t.detail.register(te.MENU_BACK_BUTTON_PRIORITY,()=>qe.close())}),{registerAnimation:bt,get:lt,getMenus:Mt,getOpen:It,isEnabled:we,swipeGesture:je,isAnimating:Xe,isOpen:gt,enable:Fe,toggle:Ee,close:Ue,open:Ye,_getOpenSync:He,_createAnimation:(_t,qe)=>{const at=re.get(_t);if(!at)throw new Error("animation not registered");return at(qe)},_register:_t=>{fe.indexOf(_t)<0&&(_t.disabled||Ae(_t),fe.push(_t))},_unregister:_t=>{const qe=fe.indexOf(_t);qe>-1&&fe.splice(qe,1)},_setOpen:he,_setActiveMenu:Ae}})()},6254:(nn,dt,B)=>{"use strict";B.d(dt,{a:()=>ve,b:()=>St,c:()=>X,g:()=>ce,i:()=>Wt});var u=B(2361);class te{constructor(){this.m=new Map}reset(_t){this.m=new Map(Object.entries(_t))}get(_t,qe){const at=this.m.get(_t);return void 0!==at?at:qe}getBoolean(_t,qe=!1){const at=this.m.get(_t);return void 0===at?qe:"string"==typeof at?"true"===at:!!at}getNumber(_t,qe){const at=parseFloat(this.m.get(_t));return isNaN(at)?void 0!==qe?qe:NaN:at}set(_t,qe){this.m.set(_t,qe)}}const X=new te,Ie="ionic-persist-config",ce=pt=>re(pt),ve=(pt,_t)=>("string"==typeof pt&&(_t=pt,pt=void 0),ce(pt).includes(_t)),re=(pt=window)=>{if(void 0===pt)return[];pt.Ionic=pt.Ionic||{};let _t=pt.Ionic.platforms;return null==_t&&(_t=pt.Ionic.platforms=fe(pt),_t.forEach(qe=>pt.document.documentElement.classList.add(`plt-${qe}`))),_t},fe=pt=>{const _t=X.get("platform");return Object.keys(He).filter(qe=>{const at=null==_t?void 0:_t[qe];return"function"==typeof at?at(pt):He[qe](pt)})},Ue=pt=>!!(he(pt,/iPad/i)||he(pt,/Macintosh/i)&&It(pt)),je=pt=>he(pt,/android|sink/i),It=pt=>_e(pt,"(any-pointer:coarse)"),Xe=pt=>bt(pt)||ye(pt),bt=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),ye=pt=>{const _t=pt.Capacitor;return!!(null==_t?void 0:_t.isNative)},he=(pt,_t)=>_t.test(pt.navigator.userAgent),_e=(pt,_t)=>{var qe;return null===(qe=pt.matchMedia)||void 0===qe?void 0:qe.call(pt,_t).matches},He={ipad:Ue,iphone:pt=>he(pt,/iPhone/i),ios:pt=>he(pt,/iPhone|iPod/i)||Ue(pt),android:je,phablet:pt=>{const _t=pt.innerWidth,qe=pt.innerHeight,at=Math.min(_t,qe),mt=Math.max(_t,qe);return at>390&&at<520&&mt>620&&mt<800},tablet:pt=>{const _t=pt.innerWidth,qe=pt.innerHeight,at=Math.min(_t,qe),mt=Math.max(_t,qe);return Ue(pt)||(pt=>je(pt)&&!he(pt,/mobile/i))(pt)||at>460&&at<820&&mt>780&&mt<1400},cordova:bt,capacitor:ye,electron:pt=>he(pt,/electron/i),pwa:pt=>{var _t;return!(!(null===(_t=pt.matchMedia)||void 0===_t?void 0:_t.call(pt,"(display-mode: standalone)").matches)&&!pt.navigator.standalone)},mobile:It,mobileweb:pt=>It(pt)&&!Xe(pt),desktop:pt=>!It(pt),hybrid:Xe};let Je;const St=pt=>pt&&(0,u.g)(pt)||Je,Wt=(pt={})=>{if("undefined"==typeof window)return;const _t=window.document,qe=window,at=qe.Ionic=qe.Ionic||{},mt={};pt._ael&&(mt.ael=pt._ael),pt._rel&&(mt.rel=pt._rel),pt._ce&&(mt.ce=pt._ce),(0,u.s)(mt);const Te=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(pt=>{try{const _t=pt.sessionStorage.getItem(Ie);return null!==_t?JSON.parse(_t):{}}catch(_t){return{}}})(qe)),{persistConfig:!1}),at.config),(pt=>{const _t={};return pt.location.search.slice(1).split("&").map(qe=>qe.split("=")).map(([qe,at])=>[decodeURIComponent(qe),decodeURIComponent(at)]).filter(([qe])=>((pt,_t)=>pt.substr(0,_t.length)===_t)(qe,"ionic:")).map(([qe,at])=>[qe.slice("ionic:".length),at]).forEach(([qe,at])=>{_t[qe]=at}),_t})(qe)),pt);X.reset(Te),X.getBoolean("persistConfig")&&((pt,_t)=>{try{pt.sessionStorage.setItem(Ie,JSON.stringify(_t))}catch(qe){return}})(qe,Te),re(qe),at.config=X,at.mode=Je=X.get("mode",_t.documentElement.getAttribute("mode")||(ve(qe,"ios")?"ios":"md")),X.set("mode",Je),_t.documentElement.setAttribute("mode",Je),_t.documentElement.classList.add(Je),X.getBoolean("_testing")&&X.set("animated",!1);const et=Et=>{var en;return null===(en=Et.tagName)||void 0===en?void 0:en.startsWith("ION-")},jt=Et=>["ios","md"].includes(Et);(0,u.a)(Et=>{for(;Et;){const en=Et.mode||Et.getAttribute("mode");if(en){if(jt(en))return en;et(Et)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}Et=Et.parentElement}return Je})}},1815:(nn,dt,B)=>{"use strict";B.r(dt),B.d(dt,{iosTransitionAnimation:()=>re,shadow:()=>ue});var u=B(9442),te=B(4318);B(2361);const Be=fe=>document.querySelector(`${fe}.ion-cloned-element`),ue=fe=>fe.shadowRoot||fe,xe=fe=>{const Ye="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs"),Ue="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ye){const Ee=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ee?Ee.querySelector(Ue):null}return fe.querySelector(Ue)},De=(fe,Ye)=>{const Ue="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs");let Ee=[];if(null!=Ue){const Fe=Ue.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Fe&&(Ee=Fe.querySelectorAll("ion-buttons"))}else Ee=fe.querySelectorAll("ion-buttons");for(const Fe of Ee){const je=Fe.closest("ion-header"),gt=je&&!je.classList.contains("header-collapse-condense-inactive"),we=Fe.querySelector("ion-back-button"),lt=Fe.classList.contains("buttons-collapse"),It="start"===Fe.slot||""===Fe.slot;if(null!==we&&It&&(lt&&gt&&Ye||!lt))return we}return null},ce=(fe,Ye,Ue,Ee,Fe,je)=>{const gt=Ye?`calc(100% - ${je.right+4}px)`:je.left-4+"px",we=Ye?"7px":"-7px",lt=Ye?"-4px":"4px",It=Ye?"-4px":"4px",Mt=Ye?"right":"left",Xe=Ye?"left":"right",Oe=Ue?[{offset:0,opacity:1,transform:`translate3d(${lt}, ${je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${we}, ${Fe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${we}, ${Fe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${lt}, ${je.top-46}px, 0) scale(1)`}],_e=Ue?[{offset:0,opacity:1,transform:`translate3d(${It}, ${je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${It}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${It}, ${je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${It}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${It}, ${je.top-46}px, 0) scale(1)`}],He=(0,u.c)(),Je=(0,u.c)(),St=Be("ion-back-button"),Wt=ue(St).querySelector(".button-text"),pt=ue(St).querySelector("ion-icon");St.text=Ee.text,St.mode=Ee.mode,St.icon=Ee.icon,St.color=Ee.color,St.disabled=Ee.disabled,St.style.setProperty("display","block"),St.style.setProperty("position","fixed"),Je.addElement(pt),He.addElement(Wt),He.beforeStyles({"transform-origin":`${Mt} center`}).beforeAddWrite(()=>{Ee.style.setProperty("display","none"),St.style.setProperty(Mt,gt)}).afterAddWrite(()=>{Ee.style.setProperty("display",""),St.style.setProperty("display","none"),St.style.removeProperty(Mt)}).keyframes(Oe),Je.beforeStyles({"transform-origin":`${Xe} center`}).keyframes(_e),fe.addAnimation([He,Je])},ve=(fe,Ye,Ue,Ee,Fe,je)=>{const gt=Ye?`calc(100% - ${Fe.right}px)`:`${Fe.left}px`,we=Ye?"-18px":"18px",lt=Ye?"right":"left",Xe=Ue?[{offset:0,opacity:0,transform:`translate3d(${we}, ${je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Fe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Fe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${we}, ${je.top-4}px, 0) scale(0.5)`}],bt=Be("ion-title"),ye=(0,u.c)();bt.innerText=Ee.innerText,bt.size=Ee.size,bt.color=Ee.color,ye.addElement(bt),ye.beforeStyles({"transform-origin":`${lt} center`,height:"46px",display:"",position:"relative",[lt]:gt}).beforeAddWrite(()=>{Ee.style.setProperty("display","none")}).afterAddWrite(()=>{Ee.style.setProperty("display",""),bt.style.setProperty("display","none")}).keyframes(Xe),fe.addAnimation(ye)},re=(fe,Ye)=>{try{const Ue="cubic-bezier(0.32,0.72,0,1)",Ee="opacity",Fe="transform",je="0%",we="rtl"===fe.ownerDocument.dir,lt=we?"-99.5%":"99.5%",It=we?"33%":"-33%",Mt=Ye.enteringEl,Xe=Ye.leavingEl,bt="back"===Ye.direction,ye=Mt.querySelector(":scope > ion-content"),Oe=Mt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ae=Mt.querySelectorAll(":scope > ion-header > ion-toolbar"),he=(0,u.c)(),_e=(0,u.c)();if(he.addElement(Mt).duration(Ye.duration||540).easing(Ye.easing||Ue).fill("both").beforeRemoveClass("ion-page-invisible"),Xe&&fe){const Wt=(0,u.c)();Wt.addElement(fe),he.addAnimation(Wt)}if(ye||0!==Ae.length||0!==Oe.length?(_e.addElement(ye),_e.addElement(Oe)):_e.addElement(Mt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(_e),bt?_e.beforeClearStyles([Ee]).fromTo("transform",`translateX(${It})`,`translateX(${je})`).fromTo(Ee,.8,1):_e.beforeClearStyles([Ee]).fromTo("transform",`translateX(${lt})`,`translateX(${je})`),ye){const Wt=ue(ye).querySelector(".transition-effect");if(Wt){const pt=Wt.querySelector(".transition-cover"),_t=Wt.querySelector(".transition-shadow"),qe=(0,u.c)(),at=(0,u.c)(),mt=(0,u.c)();qe.addElement(Wt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(pt).beforeClearStyles([Ee]).fromTo(Ee,0,.1),mt.addElement(_t).beforeClearStyles([Ee]).fromTo(Ee,.03,.7),qe.addAnimation([at,mt]),_e.addAnimation([qe])}}const He=Mt.querySelector("ion-header.header-collapse-condense"),{forward:Je,backward:St}=((fe,Ye,Ue,Ee,Fe)=>{const je=De(Ee,Ue),gt=xe(Fe),we=xe(Ee),lt=De(Fe,Ue),It=null!==je&&null!==gt&&!Ue,Mt=null!==we&&null!==lt&&Ue;if(It){const Xe=gt.getBoundingClientRect(),bt=je.getBoundingClientRect();ve(fe,Ye,Ue,gt,Xe,bt),ce(fe,Ye,Ue,je,Xe,bt)}else if(Mt){const Xe=we.getBoundingClientRect(),bt=lt.getBoundingClientRect();ve(fe,Ye,Ue,we,Xe,bt),ce(fe,Ye,Ue,lt,Xe,bt)}return{forward:It,backward:Mt}})(he,we,bt,Mt,Xe);if(Ae.forEach(Wt=>{const pt=(0,u.c)();pt.addElement(Wt),he.addAnimation(pt);const _t=(0,u.c)();_t.addElement(Wt.querySelector("ion-title"));const qe=(0,u.c)(),at=Array.from(Wt.querySelectorAll("ion-buttons,[menuToggle]")),mt=Wt.closest("ion-header"),Te=null==mt?void 0:mt.classList.contains("header-collapse-condense-inactive");let et;et=at.filter(bt?Rn=>{const gn=Rn.classList.contains("buttons-collapse");return gn&&!Te||!gn}:Rn=>!Rn.classList.contains("buttons-collapse")),qe.addElement(et);const jt=(0,u.c)();jt.addElement(Wt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Et=(0,u.c)();Et.addElement(ue(Wt).querySelector(".toolbar-background"));const en=(0,u.c)(),pn=Wt.querySelector("ion-back-button");if(pn&&en.addElement(pn),pt.addAnimation([_t,qe,jt,Et,en]),qe.fromTo(Ee,.01,1),jt.fromTo(Ee,.01,1),bt)Te||_t.fromTo("transform",`translateX(${It})`,`translateX(${je})`).fromTo(Ee,.01,1),jt.fromTo("transform",`translateX(${It})`,`translateX(${je})`),en.fromTo(Ee,.01,1);else if(He||_t.fromTo("transform",`translateX(${lt})`,`translateX(${je})`).fromTo(Ee,.01,1),jt.fromTo("transform",`translateX(${lt})`,`translateX(${je})`),Et.beforeClearStyles([Ee,"transform"]),(null==mt?void 0:mt.translucent)?Et.fromTo("transform",we?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Et.fromTo(Ee,.01,"var(--opacity)"),Je||en.fromTo(Ee,.01,1),pn&&!Je){const gn=(0,u.c)();gn.addElement(ue(pn).querySelector(".button-text")).fromTo("transform",we?"translateX(-100px)":"translateX(100px)","translateX(0px)"),pt.addAnimation(gn)}}),Xe){const Wt=(0,u.c)(),pt=Xe.querySelector(":scope > ion-content"),_t=Xe.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=Xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(pt||0!==_t.length||0!==qe.length?(Wt.addElement(pt),Wt.addElement(qe)):Wt.addElement(Xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(Wt),bt){Wt.beforeClearStyles([Ee]).fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)");const at=(0,te.g)(Xe);he.afterAddWrite(()=>{"normal"===he.getDirection()&&at.style.setProperty("display","none")})}else Wt.fromTo("transform",`translateX(${je})`,`translateX(${It})`).fromTo(Ee,1,.8);if(pt){const at=ue(pt).querySelector(".transition-effect");if(at){const mt=at.querySelector(".transition-cover"),Te=at.querySelector(".transition-shadow"),et=(0,u.c)(),jt=(0,u.c)(),Et=(0,u.c)();et.addElement(at).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),jt.addElement(mt).beforeClearStyles([Ee]).fromTo(Ee,.1,0),Et.addElement(Te).beforeClearStyles([Ee]).fromTo(Ee,.7,.03),et.addAnimation([jt,Et]),Wt.addAnimation([et])}}_t.forEach(at=>{const mt=(0,u.c)();mt.addElement(at);const Te=(0,u.c)();Te.addElement(at.querySelector("ion-title"));const et=(0,u.c)(),jt=at.querySelectorAll("ion-buttons,[menuToggle]"),Et=at.closest("ion-header"),en=null==Et?void 0:Et.classList.contains("header-collapse-condense-inactive"),pn=Array.from(jt).filter(Gn=>{const zn=Gn.classList.contains("buttons-collapse");return zn&&!en||!zn});et.addElement(pn);const Rn=(0,u.c)(),gn=at.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");gn.length>0&&Rn.addElement(gn);const dn=(0,u.c)();dn.addElement(ue(at).querySelector(".toolbar-background"));const Wn=(0,u.c)(),jr=at.querySelector("ion-back-button");if(jr&&Wn.addElement(jr),mt.addAnimation([Te,et,Rn,Wn,dn]),he.addAnimation(mt),Wn.fromTo(Ee,.99,0),et.fromTo(Ee,.99,0),Rn.fromTo(Ee,.99,0),bt){if(en||Te.fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)").fromTo(Ee,.99,0),Rn.fromTo("transform",`translateX(${je})`,we?"translateX(-100%)":"translateX(100%)"),dn.beforeClearStyles([Ee,"transform"]),(null==Et?void 0:Et.translucent)?dn.fromTo("transform","translateX(0px)",we?"translateX(-100%)":"translateX(100%)"):dn.fromTo(Ee,"var(--opacity)",0),jr&&!St){const zn=(0,u.c)();zn.addElement(ue(jr).querySelector(".button-text")).fromTo("transform",`translateX(${je})`,`translateX(${(we?-124:124)+"px"})`),mt.addAnimation(zn)}}else en||Te.fromTo("transform",`translateX(${je})`,`translateX(${It})`).fromTo(Ee,.99,0).afterClearStyles([Fe,Ee]),Rn.fromTo("transform",`translateX(${je})`,`translateX(${It})`).afterClearStyles([Fe,Ee]),Wn.afterClearStyles([Ee]),Te.afterClearStyles([Ee]),et.afterClearStyles([Ee])})}return he}catch(Ue){throw Ue}}},6447:(nn,dt,B)=>{"use strict";B.r(dt),B.d(dt,{mdTransitionAnimation:()=>ze});var u=B(9442),te=B(4318);B(2361);const ze=(Be,ue)=>{const Ie="back"===ue.direction,ve=ue.leavingEl,re=(0,te.g)(ue.enteringEl),fe=re.querySelector("ion-toolbar"),Ye=(0,u.c)();if(Ye.addElement(re).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?Ye.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ye.duration(ue.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),fe){const Ue=(0,u.c)();Ue.addElement(fe),Ye.addAnimation(Ue)}if(ve&&Ie){Ye.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ue=(0,u.c)();Ue.addElement((0,te.g)(ve)).onFinish(Ee=>{1===Ee&&Ue.elements.length>0&&Ue.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ye.addAnimation(Ue)}return Ye}},599:(nn,dt,B)=>{"use strict";B.d(dt,{B:()=>at,a:()=>De,b:()=>Ie,c:()=>fe,d:()=>Ae,e:()=>Ue,f:()=>_e,g:()=>St,h:()=>ue,i:()=>pt,j:()=>gt,k:()=>ye,m:()=>ve,s:()=>qe});var u=B(5861),te=B(6254),X=B(7593),ze=B(3756);let Be=0;const ue=new WeakMap,xe=mt=>({create:Te=>Ee(mt,Te),dismiss:(Te,et,jt)=>Xe(document,Te,et,mt,jt),getTop:()=>(0,u.Z)(function*(){return ye(document,mt)})()}),De=xe("ion-alert"),Ie=xe("ion-action-sheet"),ve=xe("ion-modal"),fe=xe("ion-popover"),Ue=mt=>{"undefined"!=typeof document&&Mt(document);const Te=Be++;mt.overlayIndex=Te,mt.hasAttribute("id")||(mt.id=`ion-overlay-${Te}`)},Ee=(mt,Te)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(mt).then(()=>{const et=document.createElement(mt);return et.classList.add("overlay-hidden"),Object.assign(et,Object.assign(Object.assign({},Te),{hasController:!0})),He(document).appendChild(et),new Promise(jt=>(0,ze.c)(et,jt))}):Promise.resolve(),Fe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',je="input:not([type=hidden]), textarea, button, select",gt=(mt,Te)=>{let et=mt.querySelector(Fe);const jt=null==et?void 0:et.shadowRoot;jt&&(et=jt.querySelector(je)||et),et?(0,ze.f)(et):Te.focus()},lt=(mt,Te)=>{const et=Array.from(mt.querySelectorAll(Fe));let jt=et.length>0?et[et.length-1]:null;const Et=null==jt?void 0:jt.shadowRoot;Et&&(jt=Et.querySelector(je)||jt),jt?jt.focus():Te.focus()},Mt=mt=>{0===Be&&(Be=1,mt.addEventListener("focus",Te=>{((mt,Te)=>{const et=ye(Te,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),jt=mt.target;et&&jt&&!et.classList.contains("ion-disable-focus-trap")&&(et.shadowRoot?(()=>{if(et.contains(jt))et.lastFocus=jt;else{const pn=et.lastFocus;gt(et,et),pn===Te.activeElement&&lt(et,et),et.lastFocus=Te.activeElement}})():(()=>{if(et===jt)et.lastFocus=void 0;else{const pn=(0,ze.g)(et);if(!pn.contains(jt))return;const Rn=pn.querySelector(".ion-overlay-wrapper");if(!Rn)return;if(Rn.contains(jt))et.lastFocus=jt;else{const gn=et.lastFocus;gt(Rn,et),gn===Te.activeElement&&lt(Rn,et),et.lastFocus=Te.activeElement}}})())})(Te,mt)},!0),mt.addEventListener("ionBackButton",Te=>{const et=ye(mt);(null==et?void 0:et.backdropDismiss)&&Te.detail.register(X.OVERLAY_BACK_BUTTON_PRIORITY,()=>et.dismiss(void 0,at))}),mt.addEventListener("keyup",Te=>{if("Escape"===Te.key){const et=ye(mt);(null==et?void 0:et.backdropDismiss)&&et.dismiss(void 0,at)}}))},Xe=(mt,Te,et,jt,Et)=>{const en=ye(mt,jt,Et);return en?en.dismiss(Te,et):Promise.reject("overlay does not exist")},ye=(mt,Te,et)=>{const jt=((mt,Te)=>(void 0===Te&&(Te="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(mt.querySelectorAll(Te)).filter(et=>et.overlayIndex>0)))(mt,Te).filter(Et=>!(mt=>mt.classList.contains("overlay-hidden"))(Et));return void 0===et?jt[jt.length-1]:jt.find(Et=>Et.id===et)},Oe=(mt=!1)=>{const et=He(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!et||(mt?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden"))},Ae=function(){var mt=(0,u.Z)(function*(Te,et,jt,Et,en){var pn,Rn;if(Te.presented)return;Oe(!0),Te.presented=!0,Te.willPresent.emit(),null===(pn=Te.willPresentShorthand)||void 0===pn||pn.emit();const gn=(0,te.b)(Te),dn=Te.enterAnimation?Te.enterAnimation:te.c.get(et,"ios"===gn?jt:Et);(yield Je(Te,dn,Te.el,en))&&(Te.didPresent.emit(),null===(Rn=Te.didPresentShorthand)||void 0===Rn||Rn.emit()),"ION-TOAST"!==Te.el.tagName&&he(Te.el),Te.keyboardClose&&Te.el.focus()});return function(et,jt,Et,en,pn){return mt.apply(this,arguments)}}(),he=function(){var mt=(0,u.Z)(function*(Te){let et=document.activeElement;if(!et)return;const jt=null==et?void 0:et.shadowRoot;jt&&(et=jt.querySelector(je)||et),yield Te.onDidDismiss(),et.focus()});return function(et){return mt.apply(this,arguments)}}(),_e=function(){var mt=(0,u.Z)(function*(Te,et,jt,Et,en,pn,Rn){var gn,dn;if(!Te.presented)return!1;Oe(!1),Te.presented=!1;try{Te.el.style.setProperty("pointer-events","none"),Te.willDismiss.emit({data:et,role:jt}),null===(gn=Te.willDismissShorthand)||void 0===gn||gn.emit({data:et,role:jt});const Wn=(0,te.b)(Te),jr=Te.leaveAnimation?Te.leaveAnimation:te.c.get(Et,"ios"===Wn?en:pn);"gesture"!==jt&&(yield Je(Te,jr,Te.el,Rn)),Te.didDismiss.emit({data:et,role:jt}),null===(dn=Te.didDismissShorthand)||void 0===dn||dn.emit({data:et,role:jt}),ue.delete(Te),Te.el.classList.add("overlay-hidden"),Te.el.style.removeProperty("pointer-events")}catch(Wn){console.error(Wn)}return Te.el.remove(),!0});return function(et,jt,Et,en,pn,Rn,gn){return mt.apply(this,arguments)}}(),He=mt=>mt.querySelector("ion-app")||mt.body,Je=function(){var mt=(0,u.Z)(function*(Te,et,jt,Et){jt.classList.remove("overlay-hidden");const pn=et(Te.el,Et);(!Te.animated||!te.c.getBoolean("animated",!0))&&pn.duration(0),Te.keyboardClose&&pn.beforeAddWrite(()=>{const gn=jt.ownerDocument.activeElement;(null==gn?void 0:gn.matches("input,ion-input, ion-textarea"))&&gn.blur()});const Rn=ue.get(Te)||[];return ue.set(Te,[...Rn,pn]),yield pn.play(),!0});return function(et,jt,Et,en){return mt.apply(this,arguments)}}(),St=(mt,Te)=>{let et;const jt=new Promise(Et=>et=Et);return Wt(mt,Te,Et=>{et(Et.detail)}),jt},Wt=(mt,Te,et)=>{const jt=Et=>{(0,ze.b)(mt,Te,jt),et(Et)};(0,ze.a)(mt,Te,jt)},pt=mt=>"cancel"===mt||mt===at,_t=mt=>mt(),qe=(mt,Te)=>{if("function"==typeof mt)return te.c.get("_zoneGate",_t)(()=>{try{return mt(Te)}catch(jt){throw jt}})},at="backdrop"},1988:(nn,dt,B)=>{"use strict";var u=B(9808),te=B(5e3);class X extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ze extends X{static makeCurrent(){(0,u.HT)(new ze)}onAndCancel(l,a,p){return l.addEventListener(a,p,!1),()=>{l.removeEventListener(a,p,!1)}}dispatchEvent(l,a){l.dispatchEvent(a)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,a){return(a=a||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,a){return"window"===a?window:"document"===a?l:"body"===a?l.body:null}getBaseHref(l){const a=function ue(){return Be=Be||document.querySelector("base"),Be?Be.getAttribute("href"):null}();return null==a?null:function De(h){xe=xe||document.createElement("a"),xe.setAttribute("href",h);const l=xe.pathname;return"/"===l.charAt(0)?l:`/${l}`}(a)}resetBaseElement(){Be=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,u.Mx)(document.cookie,l)}}let xe,Be=null;const Ie=new te.OlP("TRANSITION_ID"),ve=[{provide:te.ip1,useFactory:function ce(h,l,a){return()=>{a.get(te.CZH).donePromise.then(()=>{const p=(0,u.q)(),w=l.querySelectorAll(`style[ng-transition="${h}"]`);for(let O=0;O<w.length;O++)p.remove(w[O])})}},deps:[Ie,u.K0,te.zs3],multi:!0}];class re{static init(){(0,te.VLi)(new re)}addToWindow(l){te.dqk.getAngularTestability=(p,w=!0)=>{const O=l.findTestabilityInTree(p,w);if(null==O)throw new Error("Could not find testability for element.");return O},te.dqk.getAllAngularTestabilities=()=>l.getAllTestabilities(),te.dqk.getAllAngularRootElements=()=>l.getAllRootElements(),te.dqk.frameworkStabilizers||(te.dqk.frameworkStabilizers=[]),te.dqk.frameworkStabilizers.push(p=>{const w=te.dqk.getAllAngularTestabilities();let O=w.length,H=!1;const oe=function(Ce){H=H||Ce,O--,0==O&&p(H)};w.forEach(function(Ce){Ce.whenStable(oe)})})}findTestabilityInTree(l,a,p){if(null==a)return null;const w=l.getTestability(a);return null!=w?w:p?(0,u.q)().isShadowRoot(a)?this.findTestabilityInTree(l,a.host,!0):this.findTestabilityInTree(l,a.parentElement,!0):null}}let fe=(()=>{class h{build(){return new XMLHttpRequest}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();const Ye=new te.OlP("EventManagerPlugins");let Ue=(()=>{class h{constructor(a,p){this._zone=p,this._eventNameToPlugin=new Map,a.forEach(w=>w.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,p,w){return this._findPluginFor(p).addEventListener(a,p,w)}addGlobalEventListener(a,p,w){return this._findPluginFor(p).addGlobalEventListener(a,p,w)}getZone(){return this._zone}_findPluginFor(a){const p=this._eventNameToPlugin.get(a);if(p)return p;const w=this._plugins;for(let O=0;O<w.length;O++){const H=w[O];if(H.supports(a))return this._eventNameToPlugin.set(a,H),H}throw new Error(`No event manager plugin found for event ${a}`)}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(Ye),te.LFG(te.R0b))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();class Ee{constructor(l){this._doc=l}addGlobalEventListener(l,a,p){const w=(0,u.q)().getGlobalEventTarget(this._doc,l);if(!w)throw new Error(`Unsupported event target ${w} for event ${a}`);return this.addEventListener(w,a,p)}}let Fe=(()=>{class h{constructor(){this._stylesSet=new Set}addStyles(a){const p=new Set;a.forEach(w=>{this._stylesSet.has(w)||(this._stylesSet.add(w),p.add(w))}),this.onStylesAdded(p)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})(),je=(()=>{class h extends Fe{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,p,w){a.forEach(O=>{const H=this._doc.createElement("style");H.textContent=O,w.push(p.appendChild(H))})}addHost(a){const p=[];this._addStylesToHost(this._stylesSet,a,p),this._hostNodes.set(a,p)}removeHost(a){const p=this._hostNodes.get(a);p&&p.forEach(gt),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((p,w)=>{this._addStylesToHost(a,w,p)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(gt))}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(u.K0))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();function gt(h){(0,u.q)().remove(h)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lt=/%COMP%/g;function Ae(h,l,a){for(let p=0;p<l.length;p++){let w=l[p];Array.isArray(w)?Ae(h,w,a):(w=w.replace(lt,h),a.push(w))}return a}function he(h){return l=>{if("__ngUnwrap__"===l)return h;!1===h(l)&&(l.preventDefault(),l.returnValue=!1)}}let He=(()=>{class h{constructor(a,p,w){this.eventManager=a,this.sharedStylesHost=p,this.appId=w,this.rendererByCompId=new Map,this.defaultRenderer=new Je(a)}createRenderer(a,p){if(!a||!p)return this.defaultRenderer;switch(p.encapsulation){case te.ifc.Emulated:{let w=this.rendererByCompId.get(p.id);return w||(w=new pt(this.eventManager,this.sharedStylesHost,p,this.appId),this.rendererByCompId.set(p.id,w)),w.applyToHost(a),w}case 1:case te.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,a,p);default:if(!this.rendererByCompId.has(p.id)){const w=Ae(p.id,p.styles,[]);this.sharedStylesHost.addStyles(w),this.rendererByCompId.set(p.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(Ue),te.LFG(je),te.LFG(te.AFp))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();class Je{constructor(l){this.eventManager=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,a){return a?document.createElementNS(we[a]||a,l):document.createElement(l)}createComment(l){return document.createComment(l)}createText(l){return document.createTextNode(l)}appendChild(l,a){l.appendChild(a)}insertBefore(l,a,p){l&&l.insertBefore(a,p)}removeChild(l,a){l&&l.removeChild(a)}selectRootElement(l,a){let p="string"==typeof l?document.querySelector(l):l;if(!p)throw new Error(`The selector "${l}" did not match any elements`);return a||(p.textContent=""),p}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,a,p,w){if(w){a=w+":"+a;const O=we[w];O?l.setAttributeNS(O,a,p):l.setAttribute(a,p)}else l.setAttribute(a,p)}removeAttribute(l,a,p){if(p){const w=we[p];w?l.removeAttributeNS(w,a):l.removeAttribute(`${p}:${a}`)}else l.removeAttribute(a)}addClass(l,a){l.classList.add(a)}removeClass(l,a){l.classList.remove(a)}setStyle(l,a,p,w){w&(te.JOm.DashCase|te.JOm.Important)?l.style.setProperty(a,p,w&te.JOm.Important?"important":""):l.style[a]=p}removeStyle(l,a,p){p&te.JOm.DashCase?l.style.removeProperty(a):l.style[a]=""}setProperty(l,a,p){l[a]=p}setValue(l,a){l.nodeValue=a}listen(l,a,p){return"string"==typeof l?this.eventManager.addGlobalEventListener(l,a,he(p)):this.eventManager.addEventListener(l,a,he(p))}}class pt extends Je{constructor(l,a,p,w){super(l),this.component=p;const O=Ae(w+"-"+p.id,p.styles,[]);a.addStyles(O),this.contentAttr=function ye(h){return"_ngcontent-%COMP%".replace(lt,h)}(w+"-"+p.id),this.hostAttr=function Oe(h){return"_nghost-%COMP%".replace(lt,h)}(w+"-"+p.id)}applyToHost(l){super.setAttribute(l,this.hostAttr,"")}createElement(l,a){const p=super.createElement(l,a);return super.setAttribute(p,this.contentAttr,""),p}}class _t extends Je{constructor(l,a,p,w){super(l),this.sharedStylesHost=a,this.hostEl=p,this.shadowRoot=p.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=Ae(w.id,w.styles,[]);for(let H=0;H<O.length;H++){const oe=document.createElement("style");oe.textContent=O[H],this.shadowRoot.appendChild(oe)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(l,a){return super.appendChild(this.nodeOrShadowRoot(l),a)}insertBefore(l,a,p){return super.insertBefore(this.nodeOrShadowRoot(l),a,p)}removeChild(l,a){return super.removeChild(this.nodeOrShadowRoot(l),a)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}}let qe=(()=>{class h extends Ee{constructor(a){super(a)}supports(a){return!0}addEventListener(a,p,w){return a.addEventListener(p,w,!1),()=>this.removeEventListener(a,p,w)}removeEventListener(a,p,w){return a.removeEventListener(p,w)}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(u.K0))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();const at=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let Et=(()=>{class h extends Ee{constructor(a){super(a)}supports(a){return null!=h.parseEventName(a)}addEventListener(a,p,w){const O=h.parseEventName(p),H=h.eventCallback(O.fullKey,w,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(a,O.domEventName,H))}static parseEventName(a){const p=a.toLowerCase().split("."),w=p.shift();if(0===p.length||"keydown"!==w&&"keyup"!==w)return null;const O=h._normalizeKey(p.pop());let H="";if(at.forEach(Ce=>{const Ze=p.indexOf(Ce);Ze>-1&&(p.splice(Ze,1),H+=Ce+".")}),H+=O,0!=p.length||0===O.length)return null;const oe={};return oe.domEventName=w,oe.fullKey=H,oe}static getEventFullKey(a){let p="",w=function en(h){let l=h.key;if(null==l){if(l=h.keyIdentifier,null==l)return"Unidentified";l.startsWith("U+")&&(l=String.fromCharCode(parseInt(l.substring(2),16)),3===h.location&&et.hasOwnProperty(l)&&(l=et[l]))}return Te[l]||l}(a);return w=w.toLowerCase()," "===w?w="space":"."===w&&(w="dot"),at.forEach(O=>{O!=w&&jt[O](a)&&(p+=O+".")}),p+=w,p}static eventCallback(a,p,w){return O=>{h.getEventFullKey(O)===a&&w.runGuarded(()=>p(O))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(u.K0))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac}),h})();const Wn=(0,te.eFA)(te._c5,"browser",[{provide:te.Lbi,useValue:u.bD},{provide:te.g9A,useValue:function pn(){ze.makeCurrent(),re.init()},multi:!0},{provide:u.K0,useFactory:function gn(){return(0,te.RDi)(document),document},deps:[]}]),jr=[{provide:te.zSh,useValue:"root"},{provide:te.qLn,useFactory:function Rn(){return new te.qLn},deps:[]},{provide:Ye,useClass:qe,multi:!0,deps:[u.K0,te.R0b,te.Lbi]},{provide:Ye,useClass:Et,multi:!0,deps:[u.K0]},{provide:He,useClass:He,deps:[Ue,je,te.AFp]},{provide:te.FYo,useExisting:He},{provide:Fe,useExisting:je},{provide:je,useClass:je,deps:[u.K0]},{provide:te.dDg,useClass:te.dDg,deps:[te.R0b]},{provide:Ue,useClass:Ue,deps:[Ye,te.R0b]},{provide:u.JF,useClass:fe,deps:[]}];let Gn=(()=>{class h{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:h,providers:[{provide:te.AFp,useValue:a.appId},{provide:Ie,useExisting:te.AFp},ve]}}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(h,12))},h.\u0275mod=te.oAB({type:h}),h.\u0275inj=te.cJS({providers:jr,imports:[u.ez,te.hGG]}),h})();"undefined"!=typeof window&&window;var Ri=B(3442),ls=B(4586),gi=B(4433);let ai=(()=>{class h{constructor(){}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275cmp=te.Xpm({type:h,selectors:[["app-root"]],decls:2,vars:0,template:function(a,p){1&a&&(te.TgZ(0,"ion-app"),te._UZ(1,"ion-router-outlet"),te.qZA())},directives:[gi.dr,gi.jP],styles:[""]}),h})();const Si=[{path:"home",loadChildren:()=>B.e(4851).then(B.bind(B,4851)).then(h=>h.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",loadChildren:()=>B.e(3823).then(B.bind(B,3823)).then(h=>h.LoginPageModule)},{path:"movie",loadChildren:()=>B.e(6843).then(B.bind(B,6843)).then(h=>h.MoviePageModule)},{path:"movielist",loadChildren:()=>B.e(870).then(B.bind(B,870)).then(h=>h.MovielistPageModule)},{path:"moviedetails",loadChildren:()=>B.e(3447).then(B.bind(B,3447)).then(h=>h.MoviedetailsPageModule)},{path:"moviedetails/:id",loadChildren:()=>B.e(3447).then(B.bind(B,3447)).then(h=>h.MoviedetailsPageModule)},{path:"addmovie",loadChildren:()=>B.e(6e3).then(B.bind(B,6e3)).then(h=>h.AddmoviePageModule)},{path:"register",loadChildren:()=>B.e(7826).then(B.bind(B,7826)).then(h=>h.RegisterPageModule)}];let Oi=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=te.oAB({type:h}),h.\u0275inj=te.cJS({imports:[[Ri.Bz.forRoot(Si,{preloadingStrategy:Ri.wm})],Ri.Bz]}),h})();var Xr=B(4182),Fr=B(2011);const Jn_firebaseConfig={apiKey:"AIzaSyBwxBW0dv7SoiyVFY9PiQvurrnIv9_47v4",authDomain:"pelicula-5fbae.firebaseapp.com",projectId:"pelicula-5fbae",storageBucket:"pelicula-5fbae.appspot.com",messagingSenderId:"722497334561",appId:"1:722497334561:web:9e8817668e053fa9016260",measurementId:"G-R8RFF6PC1Y"};var wi=B(2796),Ii=B(4941),Ei=B(353),Dr=B(2916),kr=B(1086),Lr=B(6787),Kt=B(4850),mn=B(2474),qn=B(7545),Wr=B(2014),Qr=B(5778),Ir=B(826),mi=B(448);class Ci{constructor(l,a){this.observables=l,this.project=a}call(l,a){return a.subscribe(new Gr(l,this.observables,this.project))}}class Gr extends Ir.L{constructor(l,a,p){super(l),this.observables=a,this.project=p,this.toRespond=[];const w=a.length;this.values=new Array(w);for(let O=0;O<w;O++)this.toRespond.push(O);for(let O=0;O<w;O++)this.add((0,mi.D)(this,a[O],void 0,O))}notifyNext(l,a,p){this.values[p]=a;const w=this.toRespond;if(w.length>0){const O=w.indexOf(p);-1!==O&&w.splice(O,1)}}notifyComplete(){}_next(l){if(0===this.toRespond.length){const a=[l,...this.values];this.project?this._tryProject(a):this.destination.next(a)}}_tryProject(l){let a;try{a=this.project.apply(this,l)}catch(p){return void this.destination.error(p)}this.destination.next(a)}}var Kn=B(3489);class Pi{constructor(l){this.predicate=l}call(l,a){return a.subscribe(new Ai(l,this.predicate))}}class Ai extends Kn.L{constructor(l,a){super(l),this.predicate=a,this.skipping=!0,this.index=0}_next(l){const a=this.destination;this.skipping&&this.tryCallPredicate(l),this.skipping||a.next(l)}tryCallPredicate(l){try{const a=this.predicate(l,this.index++);this.skipping=Boolean(a)}catch(a){this.destination.error(a)}}}var Jr=B(6351),$i=(B(8775),B(3942)),di=B(4859),J=B(5861),me=B(9681),W=B(2090),ft=B(1877);const be="@firebase/database";let ct="";function Bt(h){ct=h}class Pt{constructor(l){this.domStorage_=l,this.prefix_="firebase:"}set(l,a){null==a?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,W.Pz)(a))}get(l){const a=this.domStorage_.getItem(this.prefixedName_(l));return null==a?null:(0,W.cI)(a)}remove(l){this.domStorage_.removeItem(this.prefixedName_(l))}prefixedName_(l){return this.prefix_+l}toString(){return this.domStorage_.toString()}}class xt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(l,a){null==a?delete this.cache_[l]:this.cache_[l]=a}get(l){return(0,W.r3)(this.cache_,l)?this.cache_[l]:null}remove(l){delete this.cache_[l]}}const yn=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const l=window[h];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new Pt(l)}}catch(l){}return new xt},kn=yn("localStorage"),jn=yn("sessionStorage"),sr=new ft.Yd("@firebase/database"),ti=function(){let h=1;return function(){return h++}}(),yi=function(h){const l=(0,W.dS)(h),a=new W.gQ;a.update(l);const p=a.digest();return W.US.encodeByteArray(p)},rt=function(...h){let l="";for(let a=0;a<h.length;a++){const p=h[a];Array.isArray(p)||p&&"object"==typeof p&&"number"==typeof p.length?l+=rt.apply(null,p):l+="object"==typeof p?(0,W.Pz)(p):p,l+=" "}return l};let Qe=null,vt=!0;const Ht=function(h,l){(0,W.hu)(!l||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(sr.logLevel=ft.in.VERBOSE,Qe=sr.log.bind(sr),l&&jn.set("logging_enabled",!0)):"function"==typeof h?Qe=h:(Qe=null,jn.remove("logging_enabled"))},Qt=function(...h){if(!0===vt&&(vt=!1,null===Qe&&!0===jn.get("logging_enabled")&&Ht(!0)),Qe){const l=rt.apply(null,h);Qe(l)}},Cn=function(h){return function(...l){Qt(h,...l)}},Ur=function(...h){const l="FIREBASE INTERNAL ERROR: "+rt(...h);sr.error(l)},Or=function(...h){const l=`FIREBASE FATAL ERROR: ${rt(...h)}`;throw sr.error(l),new Error(l)},Yn=function(...h){const l="FIREBASE WARNING: "+rt(...h);sr.warn(l)},Ji=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},ps="[MIN_NAME]",Li="[MAX_NAME]",qi=function(h,l){if(h===l)return 0;if(h===ps||l===Li)return-1;if(l===ps||h===Li)return 1;{const a=Yi(h),p=Yi(l);return null!==a?null!==p?a-p==0?h.length-l.length:a-p:-1:null!==p?1:h<l?-1:1}},ro=function(h,l){return h===l?0:h<l?-1:1},Xs=function(h,l){if(l&&h in l)return l[h];throw new Error("Missing required key ("+h+") in object: "+(0,W.Pz)(l))},ki=function(h){if("object"!=typeof h||null===h)return(0,W.Pz)(h);const l=[];for(const p in h)l.push(p);l.sort();let a="{";for(let p=0;p<l.length;p++)0!==p&&(a+=","),a+=(0,W.Pz)(l[p]),a+=":",a+=ki(h[l[p]]);return a+="}",a},es=function(h,l){const a=h.length;if(a<=l)return[h];const p=[];for(let w=0;w<a;w+=l)p.push(h.substring(w,w+l>a?a:w+l));return p};function qr(h,l){for(const a in h)h.hasOwnProperty(a)&&l(a,h[a])}const gs=function(h){(0,W.hu)(!Ji(h),"Invalid JSON number");const p=1023;let w,O,H,oe,Ce;0===h?(O=0,H=0,w=1/h==-1/0?1:0):(w=h<0,(h=Math.abs(h))>=Math.pow(2,1-p)?(oe=Math.min(Math.floor(Math.log(h)/Math.LN2),p),O=oe+p,H=Math.round(h*Math.pow(2,52-oe)-Math.pow(2,52))):(O=0,H=Math.round(h/Math.pow(2,-1074))));const Ze=[];for(Ce=52;Ce;Ce-=1)Ze.push(H%2?1:0),H=Math.floor(H/2);for(Ce=11;Ce;Ce-=1)Ze.push(O%2?1:0),O=Math.floor(O/2);Ze.push(w?1:0),Ze.reverse();const kt=Ze.join("");let Ot="";for(Ce=0;Ce<64;Ce+=8){let Jt=parseInt(kt.substr(Ce,8),2).toString(16);1===Jt.length&&(Jt="0"+Jt),Ot+=Jt}return Ot.toLowerCase()},$s=new RegExp("^-?(0*)\\d{1,10}$"),Ns=-2147483648,ts=2147483647,Yi=function(h){if($s.test(h)){const l=Number(h);if(l>=Ns&&l<=ts)return l}return null},Br=function(h){try{h()}catch(l){setTimeout(()=>{throw Yn("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},hi=function(h,l){const a=setTimeout(h,l);return"object"==typeof a&&a.unref&&a.unref(),a};class mo{constructor(l,a){this.appName_=l,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(p=>this.appCheck=p)}getToken(l){return this.appCheck?this.appCheck.getToken(l):new Promise((a,p)=>{setTimeout(()=>{this.appCheck?this.getToken(l).then(a,p):a(null)},0)})}addTokenChangeListener(l){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(p=>p.addTokenListener(l))}notifyForInvalidToken(){Yn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class us{constructor(l,a,p){this.appName_=l,this.firebaseOptions_=a,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.onInit(w=>this.auth_=w)}getToken(l){return this.auth_?this.auth_.getToken(l).catch(a=>a&&"auth/token-not-initialized"===a.code?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,p)=>{setTimeout(()=>{this.auth_?this.getToken(l).then(a,p):a(null)},0)})}addTokenChangeListener(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(a=>a.addAuthTokenListener(l))}removeTokenChangeListener(l){this.authProvider_.get().then(a=>a.removeAuthTokenListener(l))}notifyForInvalidToken(){let l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yn(l)}}let bs=(()=>{class h{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const j=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nt="websocket",Ct="long_polling";class Vt{constructor(l,a,p,w,O=!1,H="",oe=!1){this.secure=a,this.namespace=p,this.webSocketOnly=w,this.nodeAdmin=O,this.persistenceKey=H,this.includeNamespaceInQueryParams=oe,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kn.get("host:"+l)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&kn.set("host:"+this._host,this.internalHost))}toString(){let l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function or(h,l,a){let p;if((0,W.hu)("string"==typeof l,"typeof type must == string"),(0,W.hu)("object"==typeof a,"typeof params must == object"),l===nt)p=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(l!==Ct)throw new Error("Unknown connection type: "+l);p=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function In(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(a.ns=h.namespace);const w=[];return qr(a,(O,H)=>{w.push(O+"="+H)}),p+w.join("&")}class Nr{constructor(){this.counters_={}}incrementCounter(l,a=1){(0,W.r3)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=a}get(){return(0,W.p$)(this.counters_)}}const lr={},Sr={};function Di(h){const l=h.toString();return lr[l]||(lr[l]=new Nr),lr[l]}class _i{constructor(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(l,a){this.closeAfterResponse=l,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(l,a){for(this.pendingResponses[l]=a;this.pendingResponses[this.currentResponseNum];){const p=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let w=0;w<p.length;++w)p[w]&&Br(()=>{this.onMessage_(p[w])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ht{constructor(l,a,p,w,O,H,oe){this.connId=l,this.repoInfo=a,this.applicationId=p,this.appCheckToken=w,this.authToken=O,this.transportSessionId=H,this.lastSessionId=oe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cn(l),this.stats_=Di(a),this.urlFn=Ce=>(this.appCheckToken&&(Ce.ac=this.appCheckToken),or(a,Ct,Ce))}open(l,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new _i(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,W.Yr)()||"complete"===document.readyState)h();else{let l=!1;const a=function(){document.body?l||(l=!0,h()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ut((...O)=>{const[H,oe,Ce,Ze,kt]=O;if(this.incrementIncomingBytes_(O),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===H)this.id=oe,this.password=Ce;else{if("close"!==H)throw new Error("Unrecognized command received: "+H);oe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(oe,()=>{this.onClosed_()})):this.onClosed_()}},(...O)=>{const[H,oe]=O;this.incrementIncomingBytes_(O),this.myPacketOrderer.handleResponse(H,oe)},()=>{this.onClosed_()},this.urlFn);const p={start:"t"};p.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(p.cb=this.scriptTagHolder.uniqueCallbackIdentifier),p.v="5",this.transportSessionId&&(p.s=this.transportSessionId),this.lastSessionId&&(p.ls=this.lastSessionId),this.applicationId&&(p.p=this.applicationId),this.appCheckToken&&(p.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&j.test(location.hostname)&&(p.r="f");const w=this.urlFn(p);this.log_("Connecting via long-poll to "+w),this.scriptTagHolder.addTag(w,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ht.forceAllow_=!0}static forceDisallow(){ht.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!ht.forceAllow_&&(ht.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(l){const a=(0,W.Pz)(l);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const p=(0,W.h$)(a),w=es(p,1840);for(let O=0;O<w.length;O++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,w.length,w[O]),this.curSegmentNum++}addDisconnectPingFrame(l,a){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const p={dframe:"t"};p.id=l,p.pw=a,this.myDisconnFrame.src=this.urlFn(p),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(l){const a=(0,W.Pz)(l).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Ut{constructor(l,a,p,w){if(this.onDisconnect=p,this.urlFn=w,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=l,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=ti(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=Ut.createIFrame_();let O="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(O='<script>document.domain="'+document.domain+'";<\/script>');const H="<html><body>"+O+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(H),this.myIFrame.doc.close()}catch(oe){Qt("frame writing exception"),oe.stack&&Qt(oe.stack),Qt(oe)}}}static createIFrame_(){const l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||Qt("No IE domain setting required")}catch(a){const p=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+p+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const l=this.onDisconnect;l&&(this.onDisconnect=null,l())}startLongPoll(l,a){for(this.myID=l,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;let a=this.urlFn(l),p="",w=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+p.length<=1870;){const H=this.pendingSegs.shift();p=p+"&seg"+w+"="+H.seg+"&ts"+w+"="+H.ts+"&d"+w+"="+H.d,w++}return a+=p,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(l,a,p){this.pendingSegs.push({seg:l,ts:a,d:p}),this.alive&&this.newRequest_()}addLongPollTag_(l,a){this.outstandingRequests.add(a);const p=()=>{this.outstandingRequests.delete(a),this.newRequest_()},w=setTimeout(p,Math.floor(25e3));this.addTag(l,()=>{clearTimeout(w),p()})}addTag(l,a){(0,W.Yr)()?this.doNodeLongPoll(l,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const p=this.myIFrame.doc.createElement("script");p.type="text/javascript",p.async=!0,p.src=l,p.onload=p.onreadystatechange=function(){const w=p.readyState;(!w||"loaded"===w||"complete"===w)&&(p.onload=p.onreadystatechange=null,p.parentNode&&p.parentNode.removeChild(p),a())},p.onerror=()=>{Qt("Long-poll script failed to load: "+l),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(p)}catch(p){}},Math.floor(1))}}let Hn=null;"undefined"!=typeof MozWebSocket?Hn=MozWebSocket:"undefined"!=typeof WebSocket&&(Hn=WebSocket);let tr=(()=>{class h{constructor(a,p,w,O,H,oe,Ce){this.connId=a,this.applicationId=w,this.appCheckToken=O,this.authToken=H,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cn(this.connId),this.stats_=Di(p),this.connURL=h.connectionURL_(p,oe,Ce,O,w),this.nodeAdmin=p.nodeAdmin}static connectionURL_(a,p,w,O,H){const oe={v:"5"};return!(0,W.Yr)()&&"undefined"!=typeof location&&location.hostname&&j.test(location.hostname)&&(oe.r="f"),p&&(oe.s=p),w&&(oe.ls=w),O&&(oe.ac=O),H&&(oe.p=H),or(a,nt,oe)}open(a,p){this.onDisconnect=p,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kn.set("previous_websocket_failure",!0);try{let w;if((0,W.Yr)()){const H={headers:{"User-Agent":`Firebase/5/${ct}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(H.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(H.headers["X-Firebase-AppCheck"]=this.appCheckToken);const oe=process.env,Ce=0===this.connURL.indexOf("wss://")?oe.HTTPS_PROXY||oe.https_proxy:oe.HTTP_PROXY||oe.http_proxy;Ce&&(H.proxy={origin:Ce})}this.mySock=new Hn(this.connURL,[],w)}catch(w){this.log_("Error instantiating WebSocket.");const O=w.message||w.data;return O&&this.log_(O),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=w=>{this.handleIncomingFrame(w)},this.mySock.onerror=w=>{this.log_("WebSocket error.  Closing connection.");const O=w.message||w.data;O&&this.log_(O),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(a=!0)}return!a&&null!==Hn&&!h.forceDisallow_}static previouslyFailed(){return kn.isInMemoryStorage||!0===kn.get("previous_websocket_failure")}markConnectionHealthy(){kn.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const p=this.frames.join("");this.frames=null;const w=(0,W.cI)(p);this.onMessage(w)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const p=Number(a);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const p=a.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{const w=this.extractFrameCount_(p);null!==w&&this.appendFrame_(w)}}send(a){this.resetKeepAlive();const p=(0,W.Pz)(a);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);const w=es(p,16384);w.length>1&&this.sendString_(String(w.length));for(let O=0;O<w.length;O++)this.sendString_(w[O])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),cr=(()=>{class h{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[ht,tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const p=tr&&tr.isAvailable();let w=p&&!tr.previouslyFailed();if(a.webSocketOnly&&(p||Yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),w=!0),w)this.transports_=[tr];else{const O=this.transports_=[];for(const H of h.ALL_TRANSPORTS)H&&H.isAvailable()&&O.push(H);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class ga{constructor(l,a,p,w,O,H,oe,Ce,Ze,kt){this.id=l,this.repoInfo_=a,this.applicationId_=p,this.appCheckToken_=w,this.authToken_=O,this.onMessage_=H,this.onReady_=oe,this.onDisconnect_=Ce,this.onKill_=Ze,this.lastSessionId=kt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cn("c:"+this.id+":"),this.transportManager_=new cr(a),this.log_("Connection created"),this.start_()}start_(){const l=this.transportManager_.initialTransport();this.conn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),p=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,p)},Math.floor(0));const w=l.healthyTimeout||0;w>0&&(this.healthyTimeout_=hi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(w)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(l){return a=>{l===this.conn_?this.onConnectionLost_(a):l===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(l){return a=>{2!==this.state_&&(l===this.rx_?this.onPrimaryMessageReceived_(a):l===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(l){this.sendData_({t:"d",d:l})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(l){if("t"in l){const a=l.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(l){const a=Xs("t",l),p=Xs("d",l);if("c"===a)this.onSecondaryControl_(p);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(p)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(l){const a=Xs("t",l),p=Xs("d",l);"c"===a?this.onControl_(p):"d"===a&&this.onDataMessage_(p)}onDataMessage_(l){this.onPrimaryResponse_(),this.onMessage_(l)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(l){const a=Xs("t",l);if("d"in l){const p=l.d;if("h"===a)this.onHandshake_(p);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let w=0;w<this.pendingDataMessages.length;++w)this.onDataMessage_(this.pendingDataMessages[w]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(p):"r"===a?this.onReset_(p):"e"===a?Ur("Server Error: "+p):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ur("Unknown control packet command: "+a)}}onHandshake_(l){const a=l.ts,p=l.v,w=l.h;this.sessionId=l.s,this.repoInfo_.host=w,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==p&&Yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)}startUpgrade_(l){this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),p=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,p),hi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(l,a){this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()}onConnectionLost_(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ra{put(l,a,p,w){}merge(l,a,p,w){}refreshAuthToken(l){}refreshAppCheckToken(l){}onDisconnectPut(l,a,p){}onDisconnectMerge(l,a,p){}onDisconnectCancel(l,a){}reportStats(l){}}class el{constructor(l){this.allowedEvents_=l,this.listeners_={},(0,W.hu)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}trigger(l,...a){if(Array.isArray(this.listeners_[l])){const p=[...this.listeners_[l]];for(let w=0;w<p.length;w++)p[w].callback.apply(p[w].context,a)}}on(l,a,p){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:a,context:p});const w=this.getInitialEvent(l);w&&a.apply(p,w)}off(l,a,p){this.validateEventType_(l);const w=this.listeners_[l]||[];for(let O=0;O<w.length;O++)if(w[O].callback===a&&(!p||p===w[O].context))return void w.splice(O,1)}validateEventType_(l){(0,W.hu)(this.allowedEvents_.find(a=>a===l),"Unknown event: "+l)}}class js extends el{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new js}getInitialEvent(l){return(0,W.hu)("online"===l,"Unknown event type: "+l),[this.online_]}currentlyOnline(){return this.online_}}class ui{constructor(l,a){if(void 0===a){this.pieces_=l.split("/");let p=0;for(let w=0;w<this.pieces_.length;w++)this.pieces_[w].length>0&&(this.pieces_[p]=this.pieces_[w],p++);this.pieces_.length=p,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=a}toString(){let l="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(l+="/"+this.pieces_[a]);return l||"/"}}function ni(){return new ui("")}function nr(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function Hs(h){return h.pieces_.length-h.pieceNum_}function Er(h){let l=h.pieceNum_;return l<h.pieces_.length&&l++,new ui(h.pieces_,l)}function _u(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Na(h,l=0){return h.pieces_.slice(h.pieceNum_+l)}function vu(h){if(h.pieceNum_>=h.pieces_.length)return null;const l=[];for(let a=h.pieceNum_;a<h.pieces_.length-1;a++)l.push(h.pieces_[a]);return new ui(l,0)}function Fi(h,l){const a=[];for(let p=h.pieceNum_;p<h.pieces_.length;p++)a.push(h.pieces_[p]);if(l instanceof ui)for(let p=l.pieceNum_;p<l.pieces_.length;p++)a.push(l.pieces_[p]);else{const p=l.split("/");for(let w=0;w<p.length;w++)p[w].length>0&&a.push(p[w])}return new ui(a,0)}function Vr(h){return h.pieceNum_>=h.pieces_.length}function Fs(h,l){const a=nr(h),p=nr(l);if(null===a)return l;if(a===p)return Fs(Er(h),Er(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+h+")")}function ia(h,l){const a=Na(h,0),p=Na(l,0);for(let w=0;w<a.length&&w<p.length;w++){const O=qi(a[w],p[w]);if(0!==O)return O}return a.length===p.length?0:a.length<p.length?-1:1}function oo(h,l){if(Hs(h)!==Hs(l))return!1;for(let a=h.pieceNum_,p=l.pieceNum_;a<=h.pieces_.length;a++,p++)if(h.pieces_[a]!==l.pieces_[p])return!1;return!0}function Rs(h,l){let a=h.pieceNum_,p=l.pieceNum_;if(Hs(h)>Hs(l))return!1;for(;a<h.pieces_.length;){if(h.pieces_[a]!==l.pieces_[p])return!1;++a,++p}return!0}class Os{constructor(l,a){this.errorPrefix_=a,this.parts_=Na(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(let p=0;p<this.parts_.length;p++)this.byteLength_+=(0,W.ug)(this.parts_[p]);ma(this)}}function ma(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ao(h))}function ao(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class ya extends el{constructor(){let l,a;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(a="visibilitychange",l="hidden"):void 0!==document.mozHidden?(a="mozvisibilitychange",l="mozHidden"):void 0!==document.msHidden?(a="msvisibilitychange",l="msHidden"):void 0!==document.webkitHidden&&(a="webkitvisibilitychange",l="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const p=!document[l];p!==this.visible_&&(this.visible_=p,this.trigger("visible",p))},!1)}static getInstance(){return new ya}getInitialEvent(l){return(0,W.hu)("visible"===l,"Unknown event type: "+l),[this.visible_]}}const ss=1e3;let La,aa=(()=>{class h extends ra{constructor(a,p,w,O,H,oe,Ce,Ze){if(super(),this.repoInfo_=a,this.applicationId_=p,this.onDataUpdate_=w,this.onConnectStatus_=O,this.onServerInfoUpdate_=H,this.authTokenProvider_=oe,this.appCheckTokenProvider_=Ce,this.authOverride_=Ze,this.id=h.nextPersistentConnectionId_++,this.log_=Cn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ss,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ze&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ya.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&js.getInstance().on("online",this.onOnline_,this)}sendRequest(a,p,w){const O=++this.requestNumber_,H={r:O,a,b:p};this.log_((0,W.Pz)(H)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(H),w&&(this.requestCBHash_[O]=w)}get(a){this.initConnection_();const p=new W.BH,w={p:a._path.toString(),q:a._queryObject},O={action:"g",request:w,onComplete:oe=>{const Ce=oe.d;"ok"===oe.s?(this.onDataUpdate_(w.p,Ce,!1,null),p.resolve(Ce)):p.reject(Ce)}};this.outstandingGets_.push(O),this.outstandingGetCount_++;const H=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const oe=this.outstandingGets_[H];void 0===oe||O!==oe||(delete this.outstandingGets_[H],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+H+" timed out on connection"),p.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(H),p.promise}listen(a,p,w,O){this.initConnection_();const H=a._queryIdentifier,oe=a._path.toString();this.log_("Listen called for "+oe+" "+H),this.listens.has(oe)||this.listens.set(oe,new Map),(0,W.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(oe).has(H),"listen() called twice for same path/queryId.");const Ce={onComplete:O,hashFn:p,query:a,tag:w};this.listens.get(oe).set(H,Ce),this.connected_&&this.sendListen_(Ce)}sendGet_(a){const p=this.outstandingGets_[a];this.sendRequest("g",p.request,w=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),p.onComplete&&p.onComplete(w)})}sendListen_(a){const p=a.query,w=p._path.toString(),O=p._queryIdentifier;this.log_("Listen on "+w+" for "+O);const H={p:w};a.tag&&(H.q=p._queryObject,H.t=a.tag),H.h=a.hashFn(),this.sendRequest("q",H,Ce=>{const Ze=Ce.d,kt=Ce.s;h.warnOnListenWarnings_(Ze,p),(this.listens.get(w)&&this.listens.get(w).get(O))===a&&(this.log_("listen response",Ce),"ok"!==kt&&this.removeListen_(w,O),a.onComplete&&a.onComplete(kt,Ze))})}static warnOnListenWarnings_(a,p){if(a&&"object"==typeof a&&(0,W.r3)(a,"w")){const w=(0,W.DV)(a,"w");if(Array.isArray(w)&&~w.indexOf("no_index")){const O='".indexOn": "'+p._queryParams.getIndex().toString()+'"',H=p._path.toString();Yn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${O} at ${H} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,W.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,p=(0,W.w9)(a)?"auth":"gauth",w={cred:a};null===this.authOverride_?w.noauth=!0:"object"==typeof this.authOverride_&&(w.authvar=this.authOverride_),this.sendRequest(p,w,O=>{const H=O.s,oe=O.d||"error";this.authToken_===a&&("ok"===H?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(H,oe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const p=a.s,w=a.d||"error";"ok"===p?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(p,w)})}unlisten(a,p){const w=a._path.toString(),O=a._queryIdentifier;this.log_("Unlisten called for "+w+" "+O),(0,W.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(w,O)&&this.connected_&&this.sendUnlisten_(w,O,a._queryObject,p)}sendUnlisten_(a,p,w,O){this.log_("Unlisten on "+a+" for "+p);const H={p:a};O&&(H.q=w,H.t=O),this.sendRequest("n",H)}onDisconnectPut(a,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,p,w):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:p,onComplete:w})}onDisconnectMerge(a,p,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,p,w):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:p,onComplete:w})}onDisconnectCancel(a,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,p):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:p})}sendOnDisconnect_(a,p,w,O){const H={p,d:w};this.log_("onDisconnect "+a,H),this.sendRequest(a,H,oe=>{O&&setTimeout(()=>{O(oe.s,oe.d)},Math.floor(0))})}put(a,p,w,O){this.putInternal("p",a,p,w,O)}merge(a,p,w,O){this.putInternal("m",a,p,w,O)}putInternal(a,p,w,O,H){this.initConnection_();const oe={p,d:w};void 0!==H&&(oe.h=H),this.outstandingPuts_.push({action:a,request:oe,onComplete:O}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+p)}sendPut_(a){const p=this.outstandingPuts_[a].action,w=this.outstandingPuts_[a].request,O=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(p,w,H=>{this.log_(p+" response",H),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),O&&O(H.s,H.d)})}reportStats(a){if(this.connected_){const p={c:a};this.log_("reportStats",p),this.sendRequest("s",p,w=>{"ok"!==w.s&&this.log_("reportStats","Error sending stats: "+w.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,W.Pz)(a));const p=a.r,w=this.requestCBHash_[p];w&&(delete this.requestCBHash_[p],w(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,p){this.log_("handleServerMessage",a,p),"d"===a?this.onDataUpdate_(p.p,p.d,!1,p.t):"m"===a?this.onDataUpdate_(p.p,p.d,!0,p.t):"c"===a?this.onListenRevoked_(p.p,p.q):"ac"===a?this.onAuthRevoked_(p.s,p.d):"apc"===a?this.onAppCheckRevoked_(p.s,p.d):"sd"===a?this.onSecurityDebugPacket_(p):Ur("Unrecognized action received from server: "+(0,W.Pz)(a)+"\nAre you using the latest client?")}onReady_(a,p){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=p,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ss),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let p=Math.max(0,this.reconnectDelay_-a);p=Math.random()*p,this.log_("Trying to reconnect in "+p+"ms"),this.scheduleConnect_(p),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,J.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const p=a.onDataMessage_.bind(a),w=a.onReady_.bind(a),O=a.onRealtimeDisconnect_.bind(a),H=a.id+":"+h.nextConnectionId_++,oe=a.lastSessionId;let Ce=!1,Ze=null;const kt=function(){Ze?Ze.close():(Ce=!0,O())};a.realtime_={close:kt,sendRequest:function(Bn){(0,W.hu)(Ze,"sendRequest call when we're not connected not allowed."),Ze.sendRequest(Bn)}};const Jt=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[Bn,vr]=yield Promise.all([a.authTokenProvider_.getToken(Jt),a.appCheckTokenProvider_.getToken(Jt)]);Ce?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),a.authToken_=Bn&&Bn.accessToken,a.appCheckToken_=vr&&vr.token,Ze=new ga(H,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,p,w,O,Ki=>{Yn(Ki+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},oe))}catch(Bn){a.log_("Failed to get token: "+Bn),Ce||(a.repoInfo_.nodeAdmin&&Yn(Bn),kt())}}})()}interrupt(a){Qt("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){Qt("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const p=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:p})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const p=this.outstandingPuts_[a];p&&"h"in p.request&&p.queued&&(p.onComplete&&p.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,p){let w;w=p?p.map(H=>ki(H)).join("$"):"default";const O=this.removeListen_(a,w);O&&O.onComplete&&O.onComplete("permission_denied")}removeListen_(a,p){const w=new ui(a).toString();let O;if(this.listens.has(w)){const H=this.listens.get(w);O=H.get(p),H.delete(p),0===H.size&&this.listens.delete(w)}else O=void 0;return O}onAuthRevoked_(a,p){Qt("Auth token revoked: "+a+"/"+p),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,p){Qt("App check token revoked: "+a+"/"+p),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const p of a.values())this.sendListen_(p);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let p="js";(0,W.Yr)()&&(p=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+p+"."+ct.replace(/\./g,"-")]=1,(0,W.uI)()?a["framework.cordova"]=1:(0,W.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=js.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&a}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class br{constructor(l,a){this.name=l,this.node=a}static Wrap(l,a){return new br(l,a)}}class la{getCompare(){return this.compare.bind(this)}indexedValueChanged(l,a){const p=new br(ps,l),w=new br(ps,a);return 0!==this.compare(p,w)}minPost(){return br.MIN}}class vo extends la{static get __EMPTY_NODE(){return La}static set __EMPTY_NODE(l){La=l}compare(l,a){return qi(l.name,a.name)}isDefinedOn(l){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(l,a){return!1}minPost(){return br.MIN}maxPost(){return new br(Li,La)}makePost(l,a){return(0,W.hu)("string"==typeof l,"KeyIndex indexValue must always be a string."),new br(l,La)}toString(){return".key"}}const Co=new vo;class fi{constructor(l,a,p,w,O=null){this.isReverse_=w,this.resultGenerator_=O,this.nodeStack_=[];let H=1;for(;!l.isEmpty();)if(l=l,H=a?p(l.key,a):1,w&&(H*=-1),H<0)l=this.isReverse_?l.left:l.right;else{if(0===H){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,l=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}}}let Ko,Ps=(()=>{class h{constructor(a,p,w,O,H){this.key=a,this.value=p,this.color=null!=w?w:h.RED,this.left=null!=O?O:Js.EMPTY_NODE,this.right=null!=H?H:Js.EMPTY_NODE}copy(a,p,w,O,H){return new h(null!=a?a:this.key,null!=p?p:this.value,null!=w?w:this.color,null!=O?O:this.left,null!=H?H:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,p,w){let O=this;const H=w(a,O.key);return O=H<0?O.copy(null,null,null,O.left.insert(a,p,w),null):0===H?O.copy(null,p,null,null,null):O.copy(null,null,null,null,O.right.insert(a,p,w)),O.fixUp_()}removeMin_(){if(this.left.isEmpty())return Js.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,p){let w,O;if(w=this,p(a,w.key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(a,p),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===p(a,w.key)){if(w.right.isEmpty())return Js.EMPTY_NODE;O=w.right.min_(),w=w.copy(O.key,O.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(a,p))}return w.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,p)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Js{constructor(l,a=Js.EMPTY_NODE){this.comparator_=l,this.root_=a}insert(l,a){return new Js(this.comparator_,this.root_.insert(l,a,this.comparator_).copy(null,null,Ps.BLACK,null,null))}remove(l){return new Js(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,Ps.BLACK,null,null))}get(l){let a,p=this.root_;for(;!p.isEmpty();){if(a=this.comparator_(l,p.key),0===a)return p.value;a<0?p=p.left:a>0&&(p=p.right)}return null}getPredecessorKey(l){let a,p=this.root_,w=null;for(;!p.isEmpty();){if(a=this.comparator_(l,p.key),0===a){if(p.left.isEmpty())return w?w.key:null;for(p=p.left;!p.right.isEmpty();)p=p.right;return p.key}a<0?p=p.left:a>0&&(w=p,p=p.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(l){return this.root_.inorderTraversal(l)}reverseTraversal(l){return this.root_.reverseTraversal(l)}getIterator(l){return new fi(this.root_,null,this.comparator_,!1,l)}getIteratorFrom(l,a){return new fi(this.root_,l,this.comparator_,!1,a)}getReverseIteratorFrom(l,a){return new fi(this.root_,l,this.comparator_,!0,a)}getReverseIterator(l){return new fi(this.root_,null,this.comparator_,!0,l)}}function ws(h,l){return qi(h.name,l.name)}function ua(h,l){return qi(h,l)}Js.EMPTY_NODE=new class Da{copy(l,a,p,w,O){return this}insert(l,a,p){return new Ps(l,a,null)}remove(l,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ca=function(h){return"number"==typeof h?"number:"+gs(h):"string:"+h},un=function(h){if(h.isLeafNode()){const l=h.val();(0,W.hu)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,W.r3)(l,".sv"),"Priority must be a string or number.")}else(0,W.hu)(h===Ko||h.isEmpty(),"priority of unexpected type.");(0,W.hu)(h===Ko||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Hi,Is,Ln,Gs=(()=>{class h{constructor(a,p=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=p,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),un(this.priorityNode_)}static set __childrenNodeConstructor(a){Hi=a}static get __childrenNodeConstructor(){return Hi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new h(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return Vr(a)?this:".priority"===nr(a)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,p){return null}updateImmediateChild(a,p){return".priority"===a?this.updatePriority(p):p.isEmpty()&&".priority"!==a?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,p).updatePriority(this.priorityNode_)}updateChild(a,p){const w=nr(a);return null===w?p:p.isEmpty()&&".priority"!==w?this:((0,W.hu)(".priority"!==w||1===Hs(a),".priority must be the last token in a path"),this.updateImmediateChild(w,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(Er(a),p)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,p){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+ca(this.priorityNode_.val())+":");const p=typeof this.value_;a+=p+":",a+="number"===p?gs(this.value_):this.value_,this.lazyHash_=yi(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===h.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof h.__childrenNodeConstructor?-1:((0,W.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const p=typeof a.value_,w=typeof this.value_,O=h.VALUE_TYPE_ORDER.indexOf(p),H=h.VALUE_TYPE_ORDER.indexOf(w);return(0,W.hu)(O>=0,"Unknown leaf type: "+p),(0,W.hu)(H>=0,"Unknown leaf type: "+w),O===H?"object"===w?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:H-O}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const p=a;return this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Dt=new class Sn extends la{compare(l,a){const p=l.node.getPriority(),w=a.node.getPriority(),O=p.compareTo(w);return 0===O?qi(l.name,a.name):O}isDefinedOn(l){return!l.getPriority().isEmpty()}indexedValueChanged(l,a){return!l.getPriority().equals(a.getPriority())}minPost(){return br.MIN}maxPost(){return new br(Li,new Gs("[PRIORITY-POST]",Ln))}makePost(l,a){const p=Is(l);return new br(a,new Gs("[PRIORITY-POST]",p))}toString(){return".priority"}},M=Math.log(2);class x{constructor(l){this.count=parseInt(Math.log(l+1)/M,10),this.current_=this.count-1;const w=(O=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=l+1&w}nextBitIsOne(){const l=!(this.bits_&1<<this.current_);return this.current_--,l}}const S=function(h,l,a,p){h.sort(l);const w=function(Ce,Ze){const kt=Ze-Ce;let Ot,Jt;if(0===kt)return null;if(1===kt)return Ot=h[Ce],Jt=a?a(Ot):Ot,new Ps(Jt,Ot.node,Ps.BLACK,null,null);{const Bn=parseInt(kt/2,10)+Ce,vr=w(Ce,Bn),Ki=w(Bn+1,Ze);return Ot=h[Bn],Jt=a?a(Ot):Ot,new Ps(Jt,Ot.node,Ps.BLACK,vr,Ki)}},oe=function(Ce){let Ze=null,kt=null,Ot=h.length;const Jt=function(vr,Ki){const Us=Ot-vr,jl=Ot;Ot-=vr;const Hl=w(Us+1,jl),gc=h[Us],Lf=a?a(gc):gc;Bn(new Ps(Lf,gc.node,Ki,null,Hl))},Bn=function(vr){Ze?(Ze.left=vr,Ze=vr):(kt=vr,Ze=vr)};for(let vr=0;vr<Ce.count;++vr){const Ki=Ce.nextBitIsOne(),Us=Math.pow(2,Ce.count-(vr+1));Ki?Jt(Us,Ps.BLACK):(Jt(Us,Ps.BLACK),Jt(Us,Ps.RED))}return kt}(new x(h.length));return new Js(p||l,oe)};let U;const q={};class ae{constructor(l,a){this.indexes_=l,this.indexSet_=a}static get Default(){return(0,W.hu)(q&&Dt,"ChildrenNode.ts has not been loaded"),U=U||new ae({".priority":q},{".priority":Dt}),U}get(l){const a=(0,W.DV)(this.indexes_,l);if(!a)throw new Error("No index defined for "+l);return a instanceof Js?a:null}hasIndex(l){return(0,W.r3)(this.indexSet_,l.toString())}addIndex(l,a){(0,W.hu)(l!==Co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const p=[];let w=!1;const O=a.getIterator(br.Wrap);let oe,H=O.getNext();for(;H;)w=w||l.isDefinedOn(H.node),p.push(H),H=O.getNext();oe=w?S(p,l.getCompare()):q;const Ce=l.toString(),Ze=Object.assign({},this.indexSet_);Ze[Ce]=l;const kt=Object.assign({},this.indexes_);return kt[Ce]=oe,new ae(kt,Ze)}addToIndexes(l,a){const p=(0,W.UI)(this.indexes_,(w,O)=>{const H=(0,W.DV)(this.indexSet_,O);if((0,W.hu)(H,"Missing index implementation for "+O),w===q){if(H.isDefinedOn(l.node)){const oe=[],Ce=a.getIterator(br.Wrap);let Ze=Ce.getNext();for(;Ze;)Ze.name!==l.name&&oe.push(Ze),Ze=Ce.getNext();return oe.push(l),S(oe,H.getCompare())}return q}{const oe=a.get(l.name);let Ce=w;return oe&&(Ce=Ce.remove(new br(l.name,oe))),Ce.insert(l,l.node)}});return new ae(p,this.indexSet_)}removeFromIndexes(l,a){const p=(0,W.UI)(this.indexes_,w=>{if(w===q)return w;{const O=a.get(l.name);return O?w.remove(new br(l.name,O)):w}});return new ae(p,this.indexSet_)}}let Ne,Le=(()=>{class h{constructor(a,p,w){this.children_=a,this.priorityNode_=p,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&un(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ne||(Ne=new h(new Js(ua),null,ae.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ne}updatePriority(a){return this.children_.isEmpty()?this:new h(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const p=this.children_.get(a);return null===p?Ne:p}}getChild(a){const p=nr(a);return null===p?this:this.getImmediateChild(p).getChild(Er(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,p){if((0,W.hu)(p,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(p);{const w=new br(a,p);let O,H;p.isEmpty()?(O=this.children_.remove(a),H=this.indexMap_.removeFromIndexes(w,this.children_)):(O=this.children_.insert(a,p),H=this.indexMap_.addToIndexes(w,this.children_));const oe=O.isEmpty()?Ne:this.priorityNode_;return new h(O,oe,H)}}updateChild(a,p){const w=nr(a);if(null===w)return p;{(0,W.hu)(".priority"!==nr(a)||1===Hs(a),".priority must be the last token in a path");const O=this.getImmediateChild(w).updateChild(Er(a),p);return this.updateImmediateChild(w,O)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const p={};let w=0,O=0,H=!0;if(this.forEachChild(Dt,(oe,Ce)=>{p[oe]=Ce.val(a),w++,H&&h.INTEGER_REGEXP_.test(oe)?O=Math.max(O,Number(oe)):H=!1}),!a&&H&&O<2*w){const oe=[];for(const Ce in p)oe[Ce]=p[Ce];return oe}return a&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+ca(this.getPriority().val())+":"),this.forEachChild(Dt,(p,w)=>{const O=w.hash();""!==O&&(a+=":"+p+":"+O)}),this.lazyHash_=""===a?"":yi(a)}return this.lazyHash_}getPredecessorChildName(a,p,w){const O=this.resolveIndex_(w);if(O){const H=O.getPredecessorKey(new br(a,p));return H?H.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const p=this.resolveIndex_(a);if(p){const w=p.minKey();return w&&w.name}return this.children_.minKey()}getFirstChild(a){const p=this.getFirstChildName(a);return p?new br(p,this.children_.get(p)):null}getLastChildName(a){const p=this.resolveIndex_(a);if(p){const w=p.maxKey();return w&&w.name}return this.children_.maxKey()}getLastChild(a){const p=this.getLastChildName(a);return p?new br(p,this.children_.get(p)):null}forEachChild(a,p){const w=this.resolveIndex_(a);return w?w.inorderTraversal(O=>p(O.name,O.node)):this.children_.inorderTraversal(p)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,p){const w=this.resolveIndex_(p);if(w)return w.getIteratorFrom(a,O=>O);{const O=this.children_.getIteratorFrom(a.name,br.Wrap);let H=O.peek();for(;null!=H&&p.compare(H,a)<0;)O.getNext(),H=O.peek();return O}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,p){const w=this.resolveIndex_(p);if(w)return w.getReverseIteratorFrom(a,O=>O);{const O=this.children_.getReverseIteratorFrom(a.name,br.Wrap);let H=O.peek();for(;null!=H&&p.compare(H,a)>0;)O.getNext(),H=O.peek();return O}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Mn?-1:0}withIndex(a){if(a===Co||this.indexMap_.hasIndex(a))return this;{const p=this.indexMap_.addIndex(a,this.children_);return new h(this.children_,this.priorityNode_,p)}}isIndexed(a){return a===Co||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const p=a;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){const w=this.getIterator(Dt),O=p.getIterator(Dt);let H=w.getNext(),oe=O.getNext();for(;H&&oe;){if(H.name!==oe.name||!H.node.equals(oe.node))return!1;H=w.getNext(),oe=O.getNext()}return null===H&&null===oe}return!1}return!1}}resolveIndex_(a){return a===Co?null:this.indexMap_.get(a.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const Mn=new class Gt extends Le{constructor(){super(new Js(ua),Le.EMPTY_NODE,ae.Default)}compareTo(l){return l===this?0:1}equals(l){return l===this}getPriority(){return this}getImmediateChild(l){return Le.EMPTY_NODE}isEmpty(){return!1}};function cn(h,l=null){if(null===h)return Le.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(l=h[".priority"]),(0,W.hu)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Gs(h,cn(l));if(h instanceof Array){let a=Le.EMPTY_NODE;return qr(h,(p,w)=>{if((0,W.r3)(h,p)&&"."!==p.substring(0,1)){const O=cn(w);(O.isLeafNode()||!O.isEmpty())&&(a=a.updateImmediateChild(p,O))}}),a.updatePriority(cn(l))}{const a=[];let p=!1;if(qr(h,(H,oe)=>{if("."!==H.substring(0,1)){const Ce=cn(oe);Ce.isEmpty()||(p=p||!Ce.getPriority().isEmpty(),a.push(new br(H,Ce)))}}),0===a.length)return Le.EMPTY_NODE;const O=S(a,ws,H=>H.name,ua);if(p){const H=S(a,Dt.getCompare());return new Le(O,cn(l),new ae({".priority":H},{".priority":Dt}))}return new Le(O,cn(l),ae.Default)}}Object.defineProperties(br,{MIN:{value:new br(ps,Le.EMPTY_NODE)},MAX:{value:new br(Li,Mn)}}),vo.__EMPTY_NODE=Le.EMPTY_NODE,Gs.__childrenNodeConstructor=Le,function El(h){Ko=h}(Mn),function Ta(h){Ln=h}(Mn),function gr(h){Is=h}(cn);class Kr extends la{constructor(l){super(),this.indexPath_=l,(0,W.hu)(!Vr(l)&&".priority"!==nr(l),"Can't create PathIndex with empty path or .priority key")}extractChild(l){return l.getChild(this.indexPath_)}isDefinedOn(l){return!l.getChild(this.indexPath_).isEmpty()}compare(l,a){const p=this.extractChild(l.node),w=this.extractChild(a.node),O=p.compareTo(w);return 0===O?qi(l.name,a.name):O}makePost(l,a){const p=cn(l),w=Le.EMPTY_NODE.updateChild(this.indexPath_,p);return new br(a,w)}maxPost(){const l=Le.EMPTY_NODE.updateChild(this.indexPath_,Mn);return new br(Li,l)}toString(){return Na(this.indexPath_,0).join("/")}}const rr=new class si extends la{compare(l,a){const p=l.node.compareTo(a.node);return 0===p?qi(l.name,a.name):p}isDefinedOn(l){return!0}indexedValueChanged(l,a){return!l.equals(a)}minPost(){return br.MIN}maxPost(){return br.MAX}makePost(l,a){const p=cn(l);return new br(a,p)}toString(){return".value"}},_s="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",os=function(){let h=0;const l=[];return function(a){const p=a===h;let w;h=a;const O=new Array(8);for(w=7;w>=0;w--)O[w]=_s.charAt(a%64),a=Math.floor(a/64);(0,W.hu)(0===a,"Cannot push at time == 0");let H=O.join("");if(p){for(w=11;w>=0&&63===l[w];w--)l[w]=0;l[w]++}else for(w=0;w<12;w++)l[w]=Math.floor(64*Math.random());for(w=0;w<12;w++)H+=_s.charAt(l[w]);return(0,W.hu)(20===H.length,"nextPushId: Length should be 20."),H}}(),rl=function(h){if(h===""+ts)return"-";const l=Yi(h);if(null!=l)return""+(l+1);const a=new Array(h.length);for(let H=0;H<a.length;H++)a[H]=h.charAt(H);if(a.length<786)return a.push("-"),a.join("");let p=a.length-1;for(;p>=0&&"z"===a[p];)p--;if(-1===p)return Li;const O=_s.charAt(_s.indexOf(a[p])+1);return a[p]=O,a.slice(0,p+1).join("")},dd=function(h){if(h===""+Ns)return ps;const l=Yi(h);if(null!=l)return""+(l-1);const a=new Array(h.length);for(let p=0;p<a.length;p++)a[p]=h.charAt(p);return"-"===a[a.length-1]?1===a.length?""+ts:(delete a[a.length-1],a.join("")):(a[a.length-1]=_s.charAt(_s.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function Eu(h){return{type:"value",snapshotNode:h}}function oi(h,l){return{type:"child_added",snapshotNode:l,childName:h}}function ql(h,l){return{type:"child_removed",snapshotNode:l,childName:h}}function ds(h,l,a){return{type:"child_changed",snapshotNode:l,childName:h,oldSnap:a}}class il{constructor(l){this.index_=l}updateChild(l,a,p,w,O,H){(0,W.hu)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");const oe=l.getImmediateChild(a);return oe.getChild(w).equals(p.getChild(w))&&oe.isEmpty()===p.isEmpty()||(null!=H&&(p.isEmpty()?l.hasChild(a)?H.trackChildChange(ql(a,oe)):(0,W.hu)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):oe.isEmpty()?H.trackChildChange(oi(a,p)):H.trackChildChange(ds(a,p,oe))),l.isLeafNode()&&p.isEmpty())?l:l.updateImmediateChild(a,p).withIndex(this.index_)}updateFullNode(l,a,p){return null!=p&&(l.isLeafNode()||l.forEachChild(Dt,(w,O)=>{a.hasChild(w)||p.trackChildChange(ql(w,O))}),a.isLeafNode()||a.forEachChild(Dt,(w,O)=>{if(l.hasChild(w)){const H=l.getImmediateChild(w);H.equals(O)||p.trackChildChange(ds(w,O,H))}else p.trackChildChange(oi(w,O))})),a.withIndex(this.index_)}updatePriority(l,a){return l.isEmpty()?Le.EMPTY_NODE:l.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cs{constructor(l){this.indexedFilter_=new il(l.getIndex()),this.index_=l.getIndex(),this.startPost_=Cs.getStartPost_(l),this.endPost_=Cs.getEndPost_(l)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0}updateChild(l,a,p,w,O,H){return this.matches(new br(a,p))||(p=Le.EMPTY_NODE),this.indexedFilter_.updateChild(l,a,p,w,O,H)}updateFullNode(l,a,p){a.isLeafNode()&&(a=Le.EMPTY_NODE);let w=a.withIndex(this.index_);w=w.updatePriority(Le.EMPTY_NODE);const O=this;return a.forEachChild(Dt,(H,oe)=>{O.matches(new br(H,oe))||(w=w.updateImmediateChild(H,Le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,w,p)}updatePriority(l,a){return l}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(l){if(l.hasStart()){const a=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),a)}return l.getIndex().minPost()}static getEndPost_(l){if(l.hasEnd()){const a=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),a)}return l.getIndex().maxPost()}}class ks{constructor(l){this.rangedFilter_=new Cs(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}updateChild(l,a,p,w,O,H){return this.rangedFilter_.matches(new br(a,p))||(p=Le.EMPTY_NODE),l.getImmediateChild(a).equals(p)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,a,p,w,O,H):this.fullLimitUpdateChild_(l,a,p,O,H)}updateFullNode(l,a,p){let w;if(a.isLeafNode()||a.isEmpty())w=Le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let O;w=Le.EMPTY_NODE.withIndex(this.index_),O=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let H=0;for(;O.hasNext()&&H<this.limit_;){const oe=O.getNext();let Ce;if(Ce=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),oe)<=0:this.index_.compare(oe,this.rangedFilter_.getEndPost())<=0,!Ce)break;w=w.updateImmediateChild(oe.name,oe.node),H++}}else{let O,H,oe,Ce;if(w=a.withIndex(this.index_),w=w.updatePriority(Le.EMPTY_NODE),this.reverse_){Ce=w.getReverseIterator(this.index_),O=this.rangedFilter_.getEndPost(),H=this.rangedFilter_.getStartPost();const Ot=this.index_.getCompare();oe=(Jt,Bn)=>Ot(Bn,Jt)}else Ce=w.getIterator(this.index_),O=this.rangedFilter_.getStartPost(),H=this.rangedFilter_.getEndPost(),oe=this.index_.getCompare();let Ze=0,kt=!1;for(;Ce.hasNext();){const Ot=Ce.getNext();!kt&&oe(O,Ot)<=0&&(kt=!0),kt&&Ze<this.limit_&&oe(Ot,H)<=0?Ze++:w=w.updateImmediateChild(Ot.name,Le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,w,p)}updatePriority(l,a){return l}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(l,a,p,w,O){let H;if(this.reverse_){const Ot=this.index_.getCompare();H=(Jt,Bn)=>Ot(Bn,Jt)}else H=this.index_.getCompare();const oe=l;(0,W.hu)(oe.numChildren()===this.limit_,"");const Ce=new br(a,p),Ze=this.reverse_?oe.getFirstChild(this.index_):oe.getLastChild(this.index_),kt=this.rangedFilter_.matches(Ce);if(oe.hasChild(a)){const Ot=oe.getImmediateChild(a);let Jt=w.getChildAfterChild(this.index_,Ze,this.reverse_);for(;null!=Jt&&(Jt.name===a||oe.hasChild(Jt.name));)Jt=w.getChildAfterChild(this.index_,Jt,this.reverse_);const Bn=null==Jt?1:H(Jt,Ce);if(kt&&!p.isEmpty()&&Bn>=0)return null!=O&&O.trackChildChange(ds(a,p,Ot)),oe.updateImmediateChild(a,p);{null!=O&&O.trackChildChange(ql(a,Ot));const Ki=oe.updateImmediateChild(a,Le.EMPTY_NODE);return null!=Jt&&this.rangedFilter_.matches(Jt)?(null!=O&&O.trackChildChange(oi(Jt.name,Jt.node)),Ki.updateImmediateChild(Jt.name,Jt.node)):Ki}}return p.isEmpty()?l:kt&&H(Ze,Ce)>=0?(null!=O&&(O.trackChildChange(ql(Ze.name,Ze.node)),O.trackChildChange(oi(a,p))),oe.updateImmediateChild(a,p).updateImmediateChild(Ze.name,Le.EMPTY_NODE)):l}}class Do{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ps}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dt}copy(){const l=new Do;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l}}function uo(h,l,a){const p=h.copy();return p.startSet_=!0,void 0===l&&(l=null),p.indexStartValue_=l,null!=a?(p.startNameSet_=!0,p.indexStartName_=a):(p.startNameSet_=!1,p.indexStartName_=""),p}function Sa(h,l,a){const p=h.copy();return p.endSet_=!0,void 0===l&&(l=null),p.indexEndValue_=l,void 0!==a?(p.endNameSet_=!0,p.indexEndName_=a):(p.endNameSet_=!1,p.indexEndName_=""),p}function To(h,l){const a=h.copy();return a.index_=l,a}function da(h){const l={};if(h.isDefault())return l;let a;return h.index_===Dt?a="$priority":h.index_===rr?a="$value":h.index_===Co?a="$key":((0,W.hu)(h.index_ instanceof Kr,"Unrecognized index type!"),a=h.index_.toString()),l.orderBy=(0,W.Pz)(a),h.startSet_&&(l.startAt=(0,W.Pz)(h.indexStartValue_),h.startNameSet_&&(l.startAt+=","+(0,W.Pz)(h.indexStartName_))),h.endSet_&&(l.endAt=(0,W.Pz)(h.indexEndValue_),h.endNameSet_&&(l.endAt+=","+(0,W.Pz)(h.indexEndName_))),h.limitSet_&&(h.isViewFromLeft()?l.limitToFirst=h.limit_:l.limitToLast=h.limit_),l}function wl(h){const l={};if(h.startSet_&&(l.sp=h.indexStartValue_,h.startNameSet_&&(l.sn=h.indexStartName_)),h.endSet_&&(l.ep=h.indexEndValue_,h.endNameSet_&&(l.en=h.indexEndName_)),h.limitSet_){l.l=h.limit_;let a=h.viewFrom_;""===a&&(a=h.isViewFromLeft()?"l":"r"),l.vf=a}return h.index_!==Dt&&(l.i=h.index_.toString()),l}class bn extends ra{constructor(l,a,p,w){super(),this.repoInfo_=l,this.onDataUpdate_=a,this.authTokenProvider_=p,this.appCheckTokenProvider_=w,this.log_=Cn("p:rest:"),this.listens_={}}reportStats(l){throw new Error("Method not implemented.")}static getListenId_(l,a){return void 0!==a?"tag$"+a:((0,W.hu)(l._queryParams.isDefault(),"should have a tag if it's not a default query."),l._path.toString())}listen(l,a,p,w){const O=l._path.toString();this.log_("Listen called for "+O+" "+l._queryIdentifier);const H=bn.getListenId_(l,p),oe={};this.listens_[H]=oe;const Ce=da(l._queryParams);this.restRequest_(O+".json",Ce,(Ze,kt)=>{let Ot=kt;if(404===Ze&&(Ot=null,Ze=null),null===Ze&&this.onDataUpdate_(O,Ot,!1,p),(0,W.DV)(this.listens_,H)===oe){let Jt;Jt=Ze?401===Ze?"permission_denied":"rest_error:"+Ze:"ok",w(Jt,null)}})}unlisten(l,a){const p=bn.getListenId_(l,a);delete this.listens_[p]}get(l){const a=da(l._queryParams),p=l._path.toString(),w=new W.BH;return this.restRequest_(p+".json",a,(O,H)=>{let oe=H;404===O&&(oe=null,O=null),null===O?(this.onDataUpdate_(p,oe,!1,null),w.resolve(oe)):w.reject(new Error(oe))}),w.promise}refreshAuthToken(l){}restRequest_(l,a={},p){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([w,O])=>{w&&w.accessToken&&(a.auth=w.accessToken),O&&O.token&&(a.ac=O.token);const H=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+l+"?ns="+this.repoInfo_.namespace+(0,W.xO)(a);this.log_("Sending REST request for "+H);const oe=new XMLHttpRequest;oe.onreadystatechange=()=>{if(p&&4===oe.readyState){this.log_("REST Response for "+H+" received. status:",oe.status,"response:",oe.responseText);let Ce=null;if(oe.status>=200&&oe.status<300){try{Ce=(0,W.cI)(oe.responseText)}catch(Ze){Yn("Failed to parse JSON response for "+H+": "+oe.responseText)}p(null,Ce)}else 401!==oe.status&&404!==oe.status&&Yn("Got unsuccessful REST response for "+H+" Status: "+oe.status),p(oe.status);p=null}},oe.open("GET",H,!0),oe.send()})}}class Ba{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(l){return this.rootNode_.getChild(l)}updateSnapshot(l,a){this.rootNode_=this.rootNode_.updateChild(l,a)}}function Il(){return{value:null,children:new Map}}function Bo(h,l,a){if(Vr(l))h.value=a,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(l,a);else{const p=nr(l);h.children.has(p)||h.children.set(p,Il()),Bo(h.children.get(p),l=Er(l),a)}}function Bi(h,l){if(Vr(l))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const a=h.value;return h.value=null,a.forEachChild(Dt,(p,w)=>{Bo(h,new ui(p),w)}),Bi(h,l)}}if(h.children.size>0){const a=nr(l);return l=Er(l),h.children.has(a)&&Bi(h.children.get(a),l)&&h.children.delete(a),0===h.children.size}return!0}function Zo(h,l,a){null!==h.value?a(l,h.value):function So(h,l){h.children.forEach((a,p)=>{l(p,a)})}(h,(p,w)=>{Zo(w,new ui(l.toString()+"/"+p),a)})}class hd{constructor(l){this.collection_=l,this.last_=null}get(){const l=this.collection_.get(),a=Object.assign({},l);return this.last_&&qr(this.last_,(p,w)=>{a[p]=a[p]-w}),this.last_=l,a}}class Zl{constructor(l,a){this.server_=a,this.statsToReport_={},this.statsListener_=new hd(l);const p=1e4+2e4*Math.random();hi(this.reportStats_.bind(this),Math.floor(p))}reportStats_(){const l=this.statsListener_.get(),a={};let p=!1;qr(l,(w,O)=>{O>0&&(0,W.r3)(this.statsToReport_,w)&&(a[w]=O,p=!0)}),p&&this.server_.reportStats(a),hi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Eo=(()=>{return(h=Eo||(Eo={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Eo;var h})();function Va(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class xo{constructor(l,a,p){this.path=l,this.affectedTree=a,this.revert=p,this.type=Eo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(l){if(Vr(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new ui(l));return new xo(ni(),a,this.revert)}}return(0,W.hu)(nr(this.path)===l,"operationForChild called for unrelated child."),new xo(Er(this.path),this.affectedTree,this.revert)}}class L{constructor(l,a){this.source=l,this.path=a,this.type=Eo.LISTEN_COMPLETE}operationForChild(l){return Vr(this.path)?new L(this.source,ni()):new L(this.source,Er(this.path))}}class z{constructor(l,a,p){this.source=l,this.path=a,this.snap=p,this.type=Eo.OVERWRITE}operationForChild(l){return Vr(this.path)?new z(this.source,ni(),this.snap.getImmediateChild(l)):new z(this.source,Er(this.path),this.snap)}}class le{constructor(l,a,p){this.source=l,this.path=a,this.children=p,this.type=Eo.MERGE}operationForChild(l){if(Vr(this.path)){const a=this.children.subtree(new ui(l));return a.isEmpty()?null:a.value?new z(this.source,ni(),a.value):new le(this.source,ni(),a)}return(0,W.hu)(nr(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new le(this.source,Er(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $e{constructor(l,a,p){this.node_=l,this.fullyInitialized_=a,this.filtered_=p}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(l){if(Vr(l))return this.isFullyInitialized()&&!this.filtered_;const a=nr(l);return this.isCompleteForChild(a)}isCompleteForChild(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)}getNode(){return this.node_}}class wt{constructor(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()}}function ln(h,l,a,p,w,O){const H=p.filter(oe=>oe.type===a);H.sort((oe,Ce)=>function Cr(h,l,a){if(null==l.childName||null==a.childName)throw(0,W.g5)("Should only compare child_ events.");const p=new br(l.childName,l.snapshotNode),w=new br(a.childName,a.snapshotNode);return h.index_.compare(p,w)}(h,oe,Ce)),H.forEach(oe=>{const Ce=function _n(h,l,a){return"value"===l.type||"child_removed"===l.type||(l.prevName=a.getPredecessorChildName(l.childName,l.snapshotNode,h.index_)),l}(h,oe,O);w.forEach(Ze=>{Ze.respondsTo(oe.type)&&l.push(Ze.createEvent(Ce,h.query_))})})}function hr(h,l){return{eventCache:h,serverCache:l}}function $r(h,l,a,p){return hr(new $e(l,a,p),h.serverCache)}function Ar(h,l,a,p){return hr(h.eventCache,new $e(l,a,p))}function ci(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function as(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let Ua;class pi{constructor(l,a=(()=>(Ua||(Ua=new Js(ro)),Ua))()){this.value=l,this.children=a}static fromObject(l){let a=new pi(null);return qr(l,(p,w)=>{a=a.set(new ui(p),w)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(l,a){if(null!=this.value&&a(this.value))return{path:ni(),value:this.value};if(Vr(l))return null;{const p=nr(l),w=this.children.get(p);if(null!==w){const O=w.findRootMostMatchingPathAndValue(Er(l),a);return null!=O?{path:Fi(new ui(p),O.path),value:O.value}:null}return null}}findRootMostValueAndPath(l){return this.findRootMostMatchingPathAndValue(l,()=>!0)}subtree(l){if(Vr(l))return this;{const a=nr(l),p=this.children.get(a);return null!==p?p.subtree(Er(l)):new pi(null)}}set(l,a){if(Vr(l))return new pi(a,this.children);{const p=nr(l),O=(this.children.get(p)||new pi(null)).set(Er(l),a),H=this.children.insert(p,O);return new pi(this.value,H)}}remove(l){if(Vr(l))return this.children.isEmpty()?new pi(null):new pi(null,this.children);{const a=nr(l),p=this.children.get(a);if(p){const w=p.remove(Er(l));let O;return O=w.isEmpty()?this.children.remove(a):this.children.insert(a,w),null===this.value&&O.isEmpty()?new pi(null):new pi(this.value,O)}return this}}get(l){if(Vr(l))return this.value;{const a=nr(l),p=this.children.get(a);return p?p.get(Er(l)):null}}setTree(l,a){if(Vr(l))return a;{const p=nr(l),O=(this.children.get(p)||new pi(null)).setTree(Er(l),a);let H;return H=O.isEmpty()?this.children.remove(p):this.children.insert(p,O),new pi(this.value,H)}}fold(l){return this.fold_(ni(),l)}fold_(l,a){const p={};return this.children.inorderTraversal((w,O)=>{p[w]=O.fold_(Fi(l,w),a)}),a(l,this.value,p)}findOnPath(l,a){return this.findOnPath_(l,ni(),a)}findOnPath_(l,a,p){const w=!!this.value&&p(a,this.value);if(w)return w;if(Vr(l))return null;{const O=nr(l),H=this.children.get(O);return H?H.findOnPath_(Er(l),Fi(a,O),p):null}}foreachOnPath(l,a){return this.foreachOnPath_(l,ni(),a)}foreachOnPath_(l,a,p){if(Vr(l))return this;{this.value&&p(a,this.value);const w=nr(l),O=this.children.get(w);return O?O.foreachOnPath_(Er(l),Fi(a,w),p):new pi(null)}}foreach(l){this.foreach_(ni(),l)}foreach_(l,a){this.children.inorderTraversal((p,w)=>{w.foreach_(Fi(l,p),a)}),this.value&&a(l,this.value)}foreachChild(l){this.children.inorderTraversal((a,p)=>{p.value&&l(a,p.value)})}}class ri{constructor(l){this.writeTree_=l}static empty(){return new ri(new pi(null))}}function Uo(h,l,a){if(Vr(l))return new ri(new pi(a));{const p=h.writeTree_.findRootMostValueAndPath(l);if(null!=p){const w=p.path;let O=p.value;const H=Fs(w,l);return O=O.updateChild(H,a),new ri(h.writeTree_.set(w,O))}{const w=new pi(a),O=h.writeTree_.setTree(l,w);return new ri(O)}}}function Ds(h,l,a){let p=h;return qr(a,(w,O)=>{p=Uo(p,Fi(l,w),O)}),p}function Mi(h,l){if(Vr(l))return ri.empty();{const a=h.writeTree_.setTree(l,new pi(null));return new ri(a)}}function $a(h,l){return null!=Xo(h,l)}function Xo(h,l){const a=h.writeTree_.findRootMostValueAndPath(l);return null!=a?h.writeTree_.get(a.path).getChild(Fs(a.path,l)):null}function Cl(h){const l=[],a=h.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(Dt,(p,w)=>{l.push(new br(p,w))}):h.writeTree_.children.inorderTraversal((p,w)=>{null!=w.value&&l.push(new br(p,w.value))}),l}function ll(h,l){if(Vr(l))return h;{const a=Xo(h,l);return new ri(null!=a?new pi(a):h.writeTree_.subtree(l))}}function Aa(h){return h.writeTree_.isEmpty()}function ul(h,l){return ja(ni(),h.writeTree_,l)}function ja(h,l,a){if(null!=l.value)return a.updateChild(h,l.value);{let p=null;return l.children.inorderTraversal((w,O)=>{".priority"===w?((0,W.hu)(null!==O.value,"Priority writes must always be leaf nodes"),p=O.value):a=ja(Fi(h,w),O,a)}),!a.getChild(h).isEmpty()&&null!==p&&(a=a.updateChild(Fi(h,".priority"),p)),a}}function Dl(h,l){return Qu(l,h)}function tf(h,l){if(h.snap)return Rs(h.path,l);for(const a in h.children)if(h.children.hasOwnProperty(a)&&Rs(Fi(h.path,a),l))return!0;return!1}function th(h){return h.visible}function fd(h,l,a){let p=ri.empty();for(let w=0;w<h.length;++w){const O=h[w];if(l(O)){const H=O.path;let oe;if(O.snap)Rs(a,H)?(oe=Fs(a,H),p=Uo(p,oe,O.snap)):Rs(H,a)&&(oe=Fs(H,a),p=Uo(p,ni(),O.snap.getChild(oe)));else{if(!O.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(Rs(a,H))oe=Fs(a,H),p=Ds(p,oe,O.children);else if(Rs(H,a))if(oe=Fs(H,a),Vr(oe))p=Ds(p,ni(),O.children);else{const Ce=(0,W.DV)(O.children,nr(oe));if(Ce){const Ze=Ce.getChild(Er(oe));p=Uo(p,ni(),Ze)}}}}}return p}function nh(h,l,a,p,w){if(p||w){const O=ll(h.visibleWrites,l);return!w&&Aa(O)?a:w||null!=a||$a(O,ni())?ul(fd(h.allWrites,function(Ze){return(Ze.visible||w)&&(!p||!~p.indexOf(Ze.writeId))&&(Rs(Ze.path,l)||Rs(l,Ze.path))},l),a||Le.EMPTY_NODE):null}{const O=Xo(h.visibleWrites,l);if(null!=O)return O;{const H=ll(h.visibleWrites,l);return Aa(H)?a:null!=a||$a(H,ni())?ul(H,a||Le.EMPTY_NODE):null}}}function Zu(h,l,a,p){return nh(h.writeTree,h.treePath,l,a,p)}function Dc(h,l){return function nf(h,l,a){let p=Le.EMPTY_NODE;const w=Xo(h.visibleWrites,l);if(w)return w.isLeafNode()||w.forEachChild(Dt,(O,H)=>{p=p.updateImmediateChild(O,H)}),p;if(a){const O=ll(h.visibleWrites,l);return a.forEachChild(Dt,(H,oe)=>{const Ce=ul(ll(O,new ui(H)),oe);p=p.updateImmediateChild(H,Ce)}),Cl(O).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}return Cl(ll(h.visibleWrites,l)).forEach(H=>{p=p.updateImmediateChild(H.name,H.node)}),p}(h.writeTree,h.treePath,l)}function cl(h,l,a,p){return function Cc(h,l,a,p,w){(0,W.hu)(p||w,"Either existingEventSnap or existingServerSnap must exist");const O=Fi(l,a);if($a(h.visibleWrites,O))return null;{const H=ll(h.visibleWrites,O);return Aa(H)?w.getChild(a):ul(H,w.getChild(a))}}(h.writeTree,h.treePath,l,a,p)}function Sl(h,l){return function xa(h,l){return Xo(h.visibleWrites,l)}(h.writeTree,Fi(h.treePath,l))}function Tc(h,l,a){return function rf(h,l,a,p){const w=Fi(l,a),O=Xo(h.visibleWrites,w);return null!=O?O:p.isCompleteForChild(a)?ul(ll(h.visibleWrites,w),p.getNode().getImmediateChild(a)):null}(h.writeTree,h.treePath,l,a)}function Xu(h,l){return Qu(Fi(h.treePath,l),h.writeTree)}function Qu(h,l){return{treePath:h,writeTree:l}}class Sc{constructor(){this.changeMap=new Map}trackChildChange(l){const a=l.type,p=l.childName;(0,W.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==p,"Only non-priority child changes can be tracked.");const w=this.changeMap.get(p);if(w){const O=w.type;if("child_added"===a&&"child_removed"===O)this.changeMap.set(p,ds(p,l.snapshotNode,w.snapshotNode));else if("child_removed"===a&&"child_added"===O)this.changeMap.delete(p);else if("child_removed"===a&&"child_changed"===O)this.changeMap.set(p,ql(p,w.oldSnap));else if("child_changed"===a&&"child_added"===O)this.changeMap.set(p,oi(p,l.snapshotNode));else{if("child_changed"!==a||"child_changed"!==O)throw(0,W.g5)("Illegal combination of changes: "+l+" occurred after "+w);this.changeMap.set(p,ds(p,l.snapshotNode,w.oldSnap))}}else this.changeMap.set(p,l)}getChanges(){return Array.from(this.changeMap.values())}}const Qo=new class wu{getCompleteChild(l){return null}getChildAfterChild(l,a,p){return null}};class Ac{constructor(l,a,p=null){this.writes_=l,this.viewCache_=a,this.optCompleteServerCache_=p}getCompleteChild(l){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(l))return a.getNode().getImmediateChild(l);{const p=null!=this.optCompleteServerCache_?new $e(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tc(this.writes_,l,p)}}getChildAfterChild(l,a,p){const w=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:as(this.viewCache_),O=function Ha(h,l,a,p,w,O){return function Tl(h,l,a,p,w,O,H){let oe;const Ce=ll(h.visibleWrites,l),Ze=Xo(Ce,ni());if(null!=Ze)oe=Ze;else{if(null==a)return[];oe=ul(Ce,a)}if(oe=oe.withIndex(H),oe.isEmpty()||oe.isLeafNode())return[];{const kt=[],Ot=H.getCompare(),Jt=O?oe.getReverseIteratorFrom(p,H):oe.getIteratorFrom(p,H);let Bn=Jt.getNext();for(;Bn&&kt.length<w;)0!==Ot(Bn,p)&&kt.push(Bn),Bn=Jt.getNext();return kt}}(h.writeTree,h.treePath,l,a,p,w,O)}(this.writes_,w,a,1,p,l);return 0===O.length?null:O[0]}}function pd(h,l,a,p,w,O){const H=l.eventCache;if(null!=Sl(p,a))return l;{let oe,Ce;if(Vr(a))if((0,W.hu)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){const Ze=as(l),Ot=Dc(p,Ze instanceof Le?Ze:Le.EMPTY_NODE);oe=h.filter.updateFullNode(l.eventCache.getNode(),Ot,O)}else{const Ze=Zu(p,as(l));oe=h.filter.updateFullNode(l.eventCache.getNode(),Ze,O)}else{const Ze=nr(a);if(".priority"===Ze){(0,W.hu)(1===Hs(a),"Can't have a priority with additional path components");const kt=H.getNode();Ce=l.serverCache.getNode();const Ot=cl(p,a,kt,Ce);oe=null!=Ot?h.filter.updatePriority(kt,Ot):H.getNode()}else{const kt=Er(a);let Ot;if(H.isCompleteForChild(Ze)){Ce=l.serverCache.getNode();const Jt=cl(p,a,H.getNode(),Ce);Ot=null!=Jt?H.getNode().getImmediateChild(Ze).updateChild(kt,Jt):H.getNode().getImmediateChild(Ze)}else Ot=Tc(p,Ze,l.serverCache);oe=null!=Ot?h.filter.updateChild(H.getNode(),Ze,Ot,kt,w,O):H.getNode()}}return $r(l,oe,H.isFullyInitialized()||Vr(a),h.filter.filtersNodes())}}function Iu(h,l,a,p,w,O,H,oe){const Ce=l.serverCache;let Ze;const kt=H?h.filter:h.filter.getIndexedFilter();if(Vr(a))Ze=kt.updateFullNode(Ce.getNode(),p,null);else if(kt.filtersNodes()&&!Ce.isFiltered()){const Bn=Ce.getNode().updateChild(a,p);Ze=kt.updateFullNode(Ce.getNode(),Bn,null)}else{const Bn=nr(a);if(!Ce.isCompleteForPath(a)&&Hs(a)>1)return l;const vr=Er(a),Us=Ce.getNode().getImmediateChild(Bn).updateChild(vr,p);Ze=".priority"===Bn?kt.updatePriority(Ce.getNode(),Us):kt.updateChild(Ce.getNode(),Bn,Us,vr,Qo,null)}const Ot=Ar(l,Ze,Ce.isFullyInitialized()||Vr(a),kt.filtersNodes());return pd(h,Ot,a,w,new Ac(w,Ot,O),oe)}function ih(h,l,a,p,w,O,H){const oe=l.eventCache;let Ce,Ze;const kt=new Ac(w,l,O);if(Vr(a))Ze=h.filter.updateFullNode(l.eventCache.getNode(),p,H),Ce=$r(l,Ze,!0,h.filter.filtersNodes());else{const Ot=nr(a);if(".priority"===Ot)Ze=h.filter.updatePriority(l.eventCache.getNode(),p),Ce=$r(l,Ze,oe.isFullyInitialized(),oe.isFiltered());else{const Jt=Er(a),Bn=oe.getNode().getImmediateChild(Ot);let vr;if(Vr(Jt))vr=p;else{const Ki=kt.getCompleteChild(Ot);vr=null!=Ki?".priority"===_u(Jt)&&Ki.getChild(vu(Jt)).isEmpty()?Ki:Ki.updateChild(Jt,p):Le.EMPTY_NODE}Ce=Bn.equals(vr)?l:$r(l,h.filter.updateChild(oe.getNode(),Ot,vr,Jt,kt,H),oe.isFullyInitialized(),h.filter.filtersNodes())}}return Ce}function gd(h,l){return h.eventCache.isCompleteForChild(l)}function xc(h,l,a){return a.foreach((p,w)=>{l=l.updateChild(p,w)}),l}function Ql(h,l,a,p,w,O,H,oe){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;let Ze,Ce=l;Ze=Vr(a)?p:new pi(null).setTree(a,p);const kt=l.serverCache.getNode();return Ze.children.inorderTraversal((Ot,Jt)=>{if(kt.hasChild(Ot)){const vr=xc(0,l.serverCache.getNode().getImmediateChild(Ot),Jt);Ce=Iu(h,Ce,new ui(Ot),vr,w,O,H,oe)}}),Ze.children.inorderTraversal((Ot,Jt)=>{const Bn=!l.serverCache.isCompleteForChild(Ot)&&void 0===Jt.value;if(!kt.hasChild(Ot)&&!Bn){const Ki=xc(0,l.serverCache.getNode().getImmediateChild(Ot),Jt);Ce=Iu(h,Ce,new ui(Ot),Ki,w,O,H,oe)}}),Ce}class Cu{constructor(l,a){this.query_=l,this.eventRegistrations_=[];const p=this.query_._queryParams,w=new il(p.getIndex()),O=function Gi(h){return h.loadsAllData()?new il(h.getIndex()):h.hasLimit()?new ks(h):new Cs(h)}(p);this.processor_=function Ju(h){return{filter:h}}(O);const H=a.serverCache,oe=a.eventCache,Ce=w.updateFullNode(Le.EMPTY_NODE,H.getNode(),null),Ze=O.updateFullNode(Le.EMPTY_NODE,oe.getNode(),null),kt=new $e(Ce,H.isFullyInitialized(),w.filtersNodes()),Ot=new $e(Ze,oe.isFullyInitialized(),O.filtersNodes());this.viewCache_=hr(Ot,kt),this.eventGenerator_=new wt(this.query_)}get query(){return this.query_}}function Mo(h,l){const a=as(h.viewCache_);return a&&(h.query._queryParams.loadsAllData()||!Vr(l)&&!a.getImmediateChild(nr(l)).isEmpty())?a.getChild(l):null}function Mc(h){return 0===h.eventRegistrations_.length}function hl(h,l,a){const p=[];if(a){(0,W.hu)(null==l,"A cancel should cancel all event registrations.");const w=h.query._path;h.eventRegistrations_.forEach(O=>{const H=O.createCancelEvent(a,w);H&&p.push(H)})}if(l){let w=[];for(let O=0;O<h.eventRegistrations_.length;++O){const H=h.eventRegistrations_[O];if(H.matches(l)){if(l.hasAnyCallback()){w=w.concat(h.eventRegistrations_.slice(O+1));break}}else w.push(H)}h.eventRegistrations_=w}else h.eventRegistrations_=[];return p}function Rc(h,l,a,p){l.type===Eo.MERGE&&null!==l.source.queryId&&((0,W.hu)(as(h.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(ci(h.viewCache_),"Missing event cache, even though we have a server cache"));const w=h.viewCache_,O=function Ga(h,l,a,p,w){const O=new Sc;let H,oe;if(a.type===Eo.OVERWRITE){const Ze=a;Ze.source.fromUser?H=ih(h,l,Ze.path,Ze.snap,p,w,O):((0,W.hu)(Ze.source.fromServer,"Unknown source."),oe=Ze.source.tagged||l.serverCache.isFiltered()&&!Vr(Ze.path),H=Iu(h,l,Ze.path,Ze.snap,p,w,oe,O))}else if(a.type===Eo.MERGE){const Ze=a;Ze.source.fromUser?H=function sf(h,l,a,p,w,O,H){let oe=l;return p.foreach((Ce,Ze)=>{const kt=Fi(a,Ce);gd(l,nr(kt))&&(oe=ih(h,oe,kt,Ze,w,O,H))}),p.foreach((Ce,Ze)=>{const kt=Fi(a,Ce);gd(l,nr(kt))||(oe=ih(h,oe,kt,Ze,w,O,H))}),oe}(h,l,Ze.path,Ze.children,p,w,O):((0,W.hu)(Ze.source.fromServer,"Unknown source."),oe=Ze.source.tagged||l.serverCache.isFiltered(),H=Ql(h,l,Ze.path,Ze.children,p,w,oe,O))}else if(a.type===Eo.ACK_USER_WRITE){const Ze=a;H=Ze.revert?function ah(h,l,a,p,w,O){let H;if(null!=Sl(p,a))return l;{const oe=new Ac(p,l,w),Ce=l.eventCache.getNode();let Ze;if(Vr(a)||".priority"===nr(a)){let kt;if(l.serverCache.isFullyInitialized())kt=Zu(p,as(l));else{const Ot=l.serverCache.getNode();(0,W.hu)(Ot instanceof Le,"serverChildren would be complete if leaf node"),kt=Dc(p,Ot)}kt=kt,Ze=h.filter.updateFullNode(Ce,kt,O)}else{const kt=nr(a);let Ot=Tc(p,kt,l.serverCache);null==Ot&&l.serverCache.isCompleteForChild(kt)&&(Ot=Ce.getImmediateChild(kt)),Ze=null!=Ot?h.filter.updateChild(Ce,kt,Ot,Er(a),oe,O):l.eventCache.getNode().hasChild(kt)?h.filter.updateChild(Ce,kt,Le.EMPTY_NODE,Er(a),oe,O):Ce,Ze.isEmpty()&&l.serverCache.isFullyInitialized()&&(H=Zu(p,as(l)),H.isLeafNode()&&(Ze=h.filter.updateFullNode(Ze,H,O)))}return H=l.serverCache.isFullyInitialized()||null!=Sl(p,ni()),$r(l,Ze,H,h.filter.filtersNodes())}}(h,l,Ze.path,p,w,O):function sh(h,l,a,p,w,O,H){if(null!=Sl(w,a))return l;const oe=l.serverCache.isFiltered(),Ce=l.serverCache;if(null!=p.value){if(Vr(a)&&Ce.isFullyInitialized()||Ce.isCompleteForPath(a))return Iu(h,l,a,Ce.getNode().getChild(a),w,O,oe,H);if(Vr(a)){let Ze=new pi(null);return Ce.getNode().forEachChild(Co,(kt,Ot)=>{Ze=Ze.set(new ui(kt),Ot)}),Ql(h,l,a,Ze,w,O,oe,H)}return l}{let Ze=new pi(null);return p.foreach((kt,Ot)=>{const Jt=Fi(a,kt);Ce.isCompleteForPath(Jt)&&(Ze=Ze.set(kt,Ce.getNode().getChild(Jt)))}),Ql(h,l,a,Ze,w,O,oe,H)}}(h,l,Ze.path,Ze.affectedTree,p,w,O)}else{if(a.type!==Eo.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+a.type);H=function oh(h,l,a,p,w){const O=l.serverCache;return pd(h,Ar(l,O.getNode(),O.isFullyInitialized()||Vr(a),O.isFiltered()),a,p,Qo,w)}(h,l,a.path,p,O)}const Ce=O.getChanges();return function dl(h,l,a){const p=l.eventCache;if(p.isFullyInitialized()){const w=p.getNode().isLeafNode()||p.getNode().isEmpty(),O=ci(h);(a.length>0||!h.eventCache.isFullyInitialized()||w&&!p.getNode().equals(O)||!p.getNode().getPriority().equals(O.getPriority()))&&a.push(Eu(ci(l)))}}(l,H,Ce),{viewCache:H,changes:Ce}}(h.processor_,w,l,a,p);return function rh(h,l){(0,W.hu)(l.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(l.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,O.viewCache),(0,W.hu)(O.viewCache.serverCache.isFullyInitialized()||!w.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=O.viewCache,md(h,O.changes,O.viewCache.eventCache.getNode(),null)}function md(h,l,a,p){return function At(h,l,a,p){const w=[],O=[];return l.forEach(H=>{"child_changed"===H.type&&h.index_.indexedValueChanged(H.oldSnap,H.snapshotNode)&&O.push(function Yl(h,l){return{type:"child_moved",snapshotNode:l,childName:h}}(H.childName,H.snapshotNode))}),ln(h,w,"child_removed",l,p,a),ln(h,w,"child_added",l,p,a),ln(h,w,"child_moved",O,p,a),ln(h,w,"child_changed",l,p,a),ln(h,w,"value",l,p,a),w}(h.eventGenerator_,l,a,p?[p]:h.eventRegistrations_)}let yd,xl;class Ls{constructor(){this.views=new Map}}function Jl(h,l,a,p){const w=l.source.queryId;if(null!==w){const O=h.views.get(w);return(0,W.hu)(null!=O,"SyncTree gave us an op for an invalid query."),Rc(O,l,a,p)}{let O=[];for(const H of h.views.values())O=O.concat(Rc(H,l,a,p));return O}}function lf(h,l,a,p,w){const H=h.views.get(l._queryIdentifier);if(!H){let oe=Zu(a,w?p:null),Ce=!1;oe?Ce=!0:p instanceof Le?(oe=Dc(a,p),Ce=!1):(oe=Le.EMPTY_NODE,Ce=!1);const Ze=hr(new $e(oe,Ce,!1),new $e(p,w,!1));return new Cu(l,Ze)}return H}function Su(h){const l=[];for(const a of h.views.values())a.query._queryParams.loadsAllData()||l.push(a);return l}function jo(h,l){let a=null;for(const p of h.views.values())a=a||Mo(p,l);return a}function tc(h,l){return l._queryParams.loadsAllData()?ha(h):h.views.get(l._queryIdentifier)}function Ed(h,l){return null!=tc(h,l)}function za(h){return null!=ha(h)}function ha(h){for(const l of h.views.values())if(l.query._queryParams.loadsAllData())return l;return null}let fr=1;class wd{constructor(l){this.listenProvider_=l,this.syncPointTree_=new pi(null),this.pendingWriteTree_=function bu(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Oc(h,l,a,p,w){return function Ku(h,l,a,p,w){(0,W.hu)(p>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===w&&(w=!0),h.allWrites.push({path:l,snap:a,writeId:p,visible:w}),w&&(h.visibleWrites=Uo(h.visibleWrites,l,a)),h.lastWriteId=p}(h.pendingWriteTree_,l,a,p,w),w?Ma(h,new z({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,a)):[]}function qa(h,l,a=!1){const p=function Xl(h,l){for(let a=0;a<h.allWrites.length;a++){const p=h.allWrites[a];if(p.writeId===l)return p}return null}(h.pendingWriteTree_,l);if(function zs(h,l){const a=h.allWrites.findIndex(oe=>oe.writeId===l);(0,W.hu)(a>=0,"removeWrite called with nonexistent writeId.");const p=h.allWrites[a];h.allWrites.splice(a,1);let w=p.visible,O=!1,H=h.allWrites.length-1;for(;w&&H>=0;){const oe=h.allWrites[H];oe.visible&&(H>=a&&tf(oe,p.path)?w=!1:Rs(p.path,oe.path)&&(O=!0)),H--}return!!w&&(O?(function eh(h){h.visibleWrites=fd(h.allWrites,th,ni()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(p.snap?h.visibleWrites=Mi(h.visibleWrites,p.path):qr(p.children,Ce=>{h.visibleWrites=Mi(h.visibleWrites,Fi(p.path,Ce))}),!0))}(h.pendingWriteTree_,l)){let O=new pi(null);return null!=p.snap?O=O.set(ni(),!0):qr(p.children,H=>{O=O.set(new ui(H),!0)}),Ma(h,new xo(p.path,O,a))}return[]}function Ro(h,l,a){return Ma(h,new z({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,a))}function eu(h,l,a,p){const w=l._path,O=h.syncPointTree_.get(w);let H=[];if(O&&("default"===l._queryIdentifier||Ed(O,l))){const oe=function vd(h,l,a,p){const w=l._queryIdentifier,O=[];let H=[];const oe=za(h);if("default"===w)for(const[Ce,Ze]of h.views.entries())H=H.concat(hl(Ze,a,p)),Mc(Ze)&&(h.views.delete(Ce),Ze.query._queryParams.loadsAllData()||O.push(Ze.query));else{const Ce=h.views.get(w);Ce&&(H=H.concat(hl(Ce,a,p)),Mc(Ce)&&(h.views.delete(w),Ce.query._queryParams.loadsAllData()||O.push(Ce.query)))}return oe&&!za(h)&&O.push(new(function Tu(){return(0,W.hu)(yd,"Reference.ts has not been loaded"),yd}())(l._repo,l._path)),{removed:O,events:H}}(O,l,a,p);(function ec(h){return 0===h.views.size})(O)&&(h.syncPointTree_=h.syncPointTree_.remove(w));const Ce=oe.removed;H=oe.events;const Ze=-1!==Ce.findIndex(Ot=>Ot._queryParams.loadsAllData()),kt=h.syncPointTree_.findOnPath(w,(Ot,Jt)=>za(Jt));if(Ze&&!kt){const Ot=h.syncPointTree_.subtree(w);if(!Ot.isEmpty()){const Jt=function Mu(h){return h.fold((l,a,p)=>{if(a&&za(a))return[ha(a)];{let w=[];return a&&(w=Su(a)),qr(p,(O,H)=>{w=w.concat(H)}),w}})}(Ot);for(let Bn=0;Bn<Jt.length;++Bn){const vr=Jt[Bn],Ki=vr.query,Us=fl(h,vr);h.listenProvider_.startListening(Ru(Ki),Ml(h,Ki),Us.hashFn,Us.onComplete)}}}!kt&&Ce.length>0&&!p&&(Ze?h.listenProvider_.stopListening(Ru(l),null):Ce.forEach(Ot=>{const Jt=h.queryToTagMap.get(Pc(Ot));h.listenProvider_.stopListening(Ru(Ot),Jt)})),function Ou(h,l){for(let a=0;a<l.length;++a){const p=l[a];if(!p._queryParams.loadsAllData()){const w=Pc(p),O=h.queryToTagMap.get(w);h.queryToTagMap.delete(w),h.tagToQueryMap.delete(O)}}}(h,Ce)}return H}function Au(h,l,a){const p=l._path;let w=null,O=!1;h.syncPointTree_.foreachOnPath(p,(Ot,Jt)=>{const Bn=Fs(Ot,p);w=w||jo(Jt,Bn),O=O||za(Jt)});let oe,H=h.syncPointTree_.get(p);H?(O=O||za(H),w=w||jo(H,ni())):(H=new Ls,h.syncPointTree_=h.syncPointTree_.set(p,H)),null!=w?oe=!0:(oe=!1,w=Le.EMPTY_NODE,h.syncPointTree_.subtree(p).foreachChild((Jt,Bn)=>{const vr=jo(Bn,ni());vr&&(w=w.updateImmediateChild(Jt,vr))}));const Ce=Ed(H,l);if(!Ce&&!l._queryParams.loadsAllData()){const Ot=Pc(l);(0,W.hu)(!h.queryToTagMap.has(Ot),"View does not exist, but we have a tag");const Jt=function kc(){return fr++}();h.queryToTagMap.set(Ot,Jt),h.tagToQueryMap.set(Jt,Ot)}let kt=function uf(h,l,a,p,w,O){const H=lf(h,l,p,w,O);return h.views.has(l._queryIdentifier)||h.views.set(l._queryIdentifier,H),function $o(h,l){h.eventRegistrations_.push(l)}(H,a),function Al(h,l){const a=h.viewCache_.eventCache,p=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Dt,(O,H)=>{p.push(oi(O,H))}),a.isFullyInitialized()&&p.push(Eu(a.getNode())),md(h,p,a.getNode(),l)}(H,a)}(H,l,a,Dl(h.pendingWriteTree_,p),w,oe);if(!Ce&&!O){const Ot=tc(H,l);kt=kt.concat(function Cd(h,l,a){const p=l._path,w=Ml(h,l),O=fl(h,a),H=h.listenProvider_.startListening(Ru(l),w,O.hashFn,O.onComplete),oe=h.syncPointTree_.subtree(p);if(w)(0,W.hu)(!za(oe.value),"If we're adding a query, it shouldn't be shadowed");else{const Ce=oe.fold((Ze,kt,Ot)=>{if(!Vr(Ze)&&kt&&za(kt))return[ha(kt).query];{let Jt=[];return kt&&(Jt=Jt.concat(Su(kt).map(Bn=>Bn.query))),qr(Ot,(Bn,vr)=>{Jt=Jt.concat(vr)}),Jt}});for(let Ze=0;Ze<Ce.length;++Ze){const kt=Ce[Ze];h.listenProvider_.stopListening(Ru(kt),Ml(h,kt))}}return H}(h,l,Ot))}return kt}function Ws(h,l,a){const w=h.pendingWriteTree_,O=h.syncPointTree_.findOnPath(l,(H,oe)=>{const Ze=jo(oe,Fs(H,l));if(Ze)return Ze});return nh(w,l,O,a,!0)}function Ma(h,l){return nu(l,h.syncPointTree_,null,Dl(h.pendingWriteTree_,ni()))}function nu(h,l,a,p){if(Vr(h.path))return no(h,l,a,p);{const w=l.get(ni());null==a&&null!=w&&(a=jo(w,ni()));let O=[];const H=nr(h.path),oe=h.operationForChild(H),Ce=l.children.get(H);if(Ce&&oe){const Ze=a?a.getImmediateChild(H):null,kt=Xu(p,H);O=O.concat(nu(oe,Ce,Ze,kt))}return w&&(O=O.concat(Jl(w,h,p,a))),O}}function no(h,l,a,p){const w=l.get(ni());null==a&&null!=w&&(a=jo(w,ni()));let O=[];return l.children.inorderTraversal((H,oe)=>{const Ce=a?a.getImmediateChild(H):null,Ze=Xu(p,H),kt=h.operationForChild(H);kt&&(O=O.concat(no(kt,oe,Ce,Ze)))}),w&&(O=O.concat(Jl(w,h,p,a))),O}function fl(h,l){const a=l.query,p=Ml(h,a);return{hashFn:()=>(function Du(h){return h.viewCache_.serverCache.getNode()}(l)||Le.EMPTY_NODE).hash(),onComplete:w=>{if("ok"===w)return p?function nc(h,l,a){const p=xu(h,a);if(p){const w=rc(p),O=w.path,H=w.queryId,oe=Fs(O,l);return Ho(h,O,new L(Va(H),oe))}return[]}(h,a._path,p):function Id(h,l){return Ma(h,new L({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(h,a._path);{const O=function ho(h,l){let a="Unknown Error";"too_big"===h?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?a="Client doesn't have permission to access the desired data.":"unavailable"===h&&(a="The service is unavailable");const p=new Error(h+" at "+l._path.toString()+": "+a);return p.code=h.toUpperCase(),p}(w,a);return eu(h,a,null,O)}}}}function Ml(h,l){const a=Pc(l);return h.queryToTagMap.get(a)}function Pc(h){return h._path.toString()+"$"+h._queryIdentifier}function xu(h,l){return h.tagToQueryMap.get(l)}function rc(h){const l=h.indexOf("$");return(0,W.hu)(-1!==l&&l<h.length-1,"Bad queryKey."),{queryId:h.substr(l+1),path:new ui(h.substr(0,l))}}function Ho(h,l,a){const p=h.syncPointTree_.get(l);return(0,W.hu)(p,"Missing sync point for query tag that we're tracking"),Jl(p,a,Dl(h.pendingWriteTree_,l),null)}function Ru(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function to(){return(0,W.hu)(xl,"Reference.ts has not been loaded"),xl}())(h._repo,h._path):h}class Bs{constructor(l){this.node_=l}getImmediateChild(l){const a=this.node_.getImmediateChild(l);return new Bs(a)}node(){return this.node_}}class Pu{constructor(l,a){this.syncTree_=l,this.path_=a}getImmediateChild(l){const a=Fi(this.path_,l);return new Pu(this.syncTree_,a)}node(){return Ws(this.syncTree_,this.path_)}}const Go=function(h,l,a){return h&&"object"==typeof h?((0,W.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Ra(h[".sv"],l,a):"object"==typeof h[".sv"]?Dd(h[".sv"],l):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Ra=function(h,l,a){if("timestamp"===h)return a.timestamp;(0,W.hu)(!1,"Unexpected server value: "+h)},Dd=function(h,l,a){h.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const p=h.increment;"number"!=typeof p&&(0,W.hu)(!1,"Unexpected increment value: "+p);const w=l.node();if((0,W.hu)(null!=w,"Expected ChildrenNode.EMPTY_NODE for nulls"),!w.isLeafNode())return p;const H=w.getValue();return"number"!=typeof H?p:H+p},ku=function(h,l,a,p){return ic(l,new Pu(a,h),p)},ru=function(h,l,a){return ic(h,new Bs(l),a)};function ic(h,l,a){const p=h.getPriority().val(),w=Go(p,l.getImmediateChild(".priority"),a);let O;if(h.isLeafNode()){const H=h,oe=Go(H.getValue(),l,a);return oe!==H.getValue()||w!==H.getPriority().val()?new Gs(oe,cn(w)):h}{const H=h;return O=H,w!==H.getPriority().val()&&(O=O.updatePriority(new Gs(w))),H.forEachChild(Dt,(oe,Ce)=>{const Ze=ic(Ce,l.getImmediateChild(oe),a);Ze!==Ce&&(O=O.updateImmediateChild(oe,Ze))}),O}}class wo{constructor(l="",a=null,p={children:{},childCount:0}){this.name=l,this.parent=a,this.node=p}}function iu(h,l){let a=l instanceof ui?l:new ui(l),p=h,w=nr(a);for(;null!==w;){const O=(0,W.DV)(p.node.children,w)||{children:{},childCount:0};p=new wo(w,p,O),a=Er(a),w=nr(a)}return p}function pl(h){return h.node.value}function Nc(h,l){h.node.value=l,Td(h)}function Jo(h){return h.node.childCount>0}function sc(h,l){qr(h.node.children,(a,p)=>{l(new wo(a,h,p))})}function Fc(h,l,a,p){a&&!p&&l(h),sc(h,w=>{Fc(w,l,!0,p)}),a&&p&&l(h)}function Rl(h){return new ui(null===h.parent?h.name:Rl(h.parent)+"/"+h.name)}function Td(h){null!==h.parent&&function ch(h,l,a){const p=function su(h){return void 0===pl(h)&&!Jo(h)}(a),w=(0,W.r3)(h.node.children,l);p&&w?(delete h.node.children[l],h.node.childCount--,Td(h)):!p&&!w&&(h.node.children[l]=a.node,h.node.childCount++,Td(h))}(h.parent,h.name,h)}const Nu=/[\[\].#$\/\u0000-\u001F\u007F]/,Ya=/[\[\].#$\u0000-\u001F\u007F]/,I=10485760,g=function(h){return"string"==typeof h&&0!==h.length&&!Nu.test(h)},_=function(h){return"string"==typeof h&&0!==h.length&&!Ya.test(h)},K=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!Ji(h)||h&&"object"==typeof h&&(0,W.r3)(h,".sv")},pe=function(h,l,a,p){p&&void 0===l||it((0,W.gK)(h,"value"),l,a)},it=function(h,l,a){const p=a instanceof ui?new Os(a,h):a;if(void 0===l)throw new Error(h+"contains undefined "+ao(p));if("function"==typeof l)throw new Error(h+"contains a function "+ao(p)+" with contents = "+l.toString());if(Ji(l))throw new Error(h+"contains "+l.toString()+" "+ao(p));if("string"==typeof l&&l.length>I/3&&(0,W.ug)(l)>I)throw new Error(h+"contains a string greater than "+I+" utf8 bytes "+ao(p)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){let w=!1,O=!1;if(qr(l,(H,oe)=>{if(".value"===H)w=!0;else if(".priority"!==H&&".sv"!==H&&(O=!0,!g(H)))throw new Error(h+" contains an invalid key ("+H+") "+ao(p)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nl(h,l){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(l),h.byteLength_+=(0,W.ug)(l),ma(h)})(p,H),it(h,oe,p),function sa(h){const l=h.parts_.pop();h.byteLength_-=(0,W.ug)(l),h.parts_.length>0&&(h.byteLength_-=1)}(p)}),w&&O)throw new Error(h+' contains ".value" child '+ao(p)+" in addition to actual children.")}},wn=function(h,l,a,p){if(p&&void 0===l)return;const w=(0,W.gK)(h,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(w+" must be an object containing the children to replace.");const O=[];qr(l,(H,oe)=>{const Ce=new ui(H);if(it(w,oe,Fi(a,Ce)),".priority"===_u(Ce)&&!K(oe))throw new Error(w+"contains an invalid value for '"+Ce.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");O.push(Ce)}),function(h,l){let a,p;for(a=0;a<l.length;a++){p=l[a];const O=Na(p);for(let H=0;H<O.length;H++)if((".priority"!==O[H]||H!==O.length-1)&&!g(O[H]))throw new Error(h+"contains an invalid key ("+O[H]+") in path "+p.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}l.sort(ia);let w=null;for(a=0;a<l.length;a++){if(p=l[a],null!==w&&Rs(w,p))throw new Error(h+"contains a path "+w.toString()+" that is ancestor of another path "+p.toString());w=p}}(w,O)},An=function(h,l,a){if(!a||void 0!==l){if(Ji(l))throw new Error((0,W.gK)(h,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!K(l))throw new Error((0,W.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dr=function(h,l,a,p){if(!(p&&void 0===a||g(a)))throw new Error((0,W.gK)(h,l)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zn=function(h,l,a,p){if(!(p&&void 0===a||_(a)))throw new Error((0,W.gK)(h,l)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ts=function(h,l){if(".info"===nr(l))throw new Error(h+" failed = Can't modify data under /.info/")},Fu=function(h,l){const a=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!g(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==a.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),_(h)}(a))throw new Error((0,W.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class df{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Oa(h,l){let a=null;for(let p=0;p<l.length;p++){const w=l[p],O=w.getPath();null!==a&&!oo(O,a.path)&&(h.eventLists_.push(a),a=null),null===a&&(a={events:[],path:O}),a.events.push(w)}a&&h.eventLists_.push(a)}function Lu(h,l,a){Oa(h,a),Lc(h,p=>oo(p,l))}function ea(h,l,a){Oa(h,a),Lc(h,p=>Rs(p,l)||Rs(l,p))}function Lc(h,l){h.recursionDepth_++;let a=!0;for(let p=0;p<h.eventLists_.length;p++){const w=h.eventLists_[p];w&&(l(w.path)?(Bc(h.eventLists_[p]),h.eventLists_[p]=null):a=!1)}a&&(h.eventLists_=[]),h.recursionDepth_--}function Bc(h){for(let l=0;l<h.events.length;l++){const a=h.events[l];if(null!==a){h.events[l]=null;const p=a.getEventRunner();Qe&&Qt("event: "+a.toString()),Br(p)}}}const Sd="repo_interrupt";class dh{constructor(l,a,p,w){this.repoInfo_=l,this.forceRestClient_=a,this.authTokenProvider_=p,this.appCheckProvider_=w,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new df,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Il(),this.transactionQueueTree_=new wo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Vc(h){const a=h.infoData_.getNode(new ui(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function oc(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:Vc(h)})}function ff(h,l,a,p,w){h.dataUpdateCount++;const O=new ui(l);a=h.interceptServerDataCallback_?h.interceptServerDataCallback_(l,a):a;let H=[];if(w)if(p){const Ce=(0,W.UI)(a,Ze=>cn(Ze));H=function zi(h,l,a,p){const w=xu(h,p);if(w){const O=rc(w),H=O.path,oe=O.queryId,Ce=Fs(H,l),Ze=pi.fromObject(a);return Ho(h,H,new le(Va(oe),Ce,Ze))}return[]}(h.serverSyncTree_,O,Ce,w)}else{const Ce=cn(a);H=function cp(h,l,a,p){const w=xu(h,p);if(null!=w){const O=rc(w),H=O.path,oe=O.queryId,Ce=Fs(H,l);return Ho(h,H,new z(Va(oe),Ce,a))}return[]}(h.serverSyncTree_,O,Ce,w)}else if(p){const Ce=(0,W.UI)(a,Ze=>cn(Ze));H=function cf(h,l,a){const p=pi.fromObject(a);return Ma(h,new le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,p))}(h.serverSyncTree_,O,Ce)}else{const Ce=cn(a);H=Ro(h.serverSyncTree_,O,Ce)}let oe=O;H.length>0&&(oe=Vu(h,O)),ea(h.eventQueue_,oe,H)}function xd(h,l){Uc(h,"connected",l),!1===l&&function Ol(h){ou(h,"onDisconnectEvents");const l=oc(h),a=Il();Zo(h.onDisconnect_,ni(),(w,O)=>{const H=ku(w,O,h.serverSyncTree_,l);Bo(a,w,H)});let p=[];Zo(a,ni(),(w,O)=>{p=p.concat(Ro(h.serverSyncTree_,w,O));const H=Uu(h,w);Vu(h,H)}),h.onDisconnect_=Il(),ea(h.eventQueue_,ni(),p)}(h)}function Uc(h,l,a){const p=new ui("/.info/"+l),w=cn(a);h.infoData_.updateSnapshot(p,w);const O=Ro(h.infoSyncTree_,p,w);ea(h.eventQueue_,p,O)}function hh(h){return h.nextWriteId_++}function Md(h,l,a,p,w){ou(h,"set",{path:l.toString(),value:a,priority:p});const O=oc(h),H=cn(a,p),oe=Ws(h.serverSyncTree_,l),Ce=ru(H,oe,O),Ze=hh(h),kt=Oc(h.serverSyncTree_,l,Ce,Ze,!0);Oa(h.eventQueue_,kt),h.server_.put(l.toString(),H.val(!0),(Jt,Bn)=>{const vr="ok"===Jt;vr||Yn("set at "+l+" failed: "+Jt);const Ki=qa(h.serverSyncTree_,Ze,!vr);ea(h.eventQueue_,l,Ki),Ss(0,w,Jt,Bn)});const Ot=Uu(h,l);Vu(h,Ot),ea(h.eventQueue_,Ot,[])}function Ka(h,l,a){h.server_.onDisconnectCancel(l.toString(),(p,w)=>{"ok"===p&&Bi(h.onDisconnect_,l),Ss(0,a,p,w)})}function pf(h,l,a,p){const w=cn(a);h.server_.onDisconnectPut(l.toString(),w.val(!0),(O,H)=>{"ok"===O&&Bo(h.onDisconnect_,l,w),Ss(0,p,O,H)})}function kl(h,l,a){let p;p=".info"===nr(l._path)?eu(h.infoSyncTree_,l,a):eu(h.serverSyncTree_,l,a),Lu(h.eventQueue_,l._path,p)}function fh(h){h.persistentConnection_&&h.persistentConnection_.interrupt(Sd)}function ou(h,...l){let a="";h.persistentConnection_&&(a=h.persistentConnection_.id+":"),Qt(a,...l)}function Ss(h,l,a,p){l&&Br(()=>{if("ok"===a)l(null);else{const w=(a||"error").toUpperCase();let O=w;p&&(O+=": "+p);const H=new Error(O);H.code=w,l(H)}})}function Bu(h,l,a){return Ws(h.serverSyncTree_,l,a)||Le.EMPTY_NODE}function ac(h,l=h.transactionQueueTree_){if(l||Fl(h,l),pl(l)){const a=Od(h,l);(0,W.hu)(a.length>0,"Sending zero length transaction queue"),a.every(w=>0===w.status)&&function Nl(h,l,a){const p=a.map(Ze=>Ze.currentWriteId),w=Bu(h,l,p);let O=w;const H=w.hash();for(let Ze=0;Ze<a.length;Ze++){const kt=a[Ze];(0,W.hu)(0===kt.status,"tryToSendTransactionQueue_: items in queue should all be run."),kt.status=1,kt.retryCount++;const Ot=Fs(l,kt.path);O=O.updateChild(Ot,kt.currentOutputSnapshotRaw)}const oe=O.val(!0),Ce=l;h.server_.put(Ce.toString(),oe,Ze=>{ou(h,"transaction put response",{path:Ce.toString(),status:Ze});let kt=[];if("ok"===Ze){const Ot=[];for(let Jt=0;Jt<a.length;Jt++)a[Jt].status=2,kt=kt.concat(qa(h.serverSyncTree_,a[Jt].currentWriteId)),a[Jt].onComplete&&Ot.push(()=>a[Jt].onComplete(null,!0,a[Jt].currentOutputSnapshotResolved)),a[Jt].unwatcher();Fl(h,iu(h.transactionQueueTree_,l)),ac(h,h.transactionQueueTree_),ea(h.eventQueue_,l,kt);for(let Jt=0;Jt<Ot.length;Jt++)Br(Ot[Jt])}else{if("datastale"===Ze)for(let Ot=0;Ot<a.length;Ot++)a[Ot].status=3===a[Ot].status?4:0;else{Yn("transaction at "+Ce.toString()+" failed: "+Ze);for(let Ot=0;Ot<a.length;Ot++)a[Ot].status=4,a[Ot].abortReason=Ze}Vu(h,l)}},H)}(h,Rl(l),a)}else Jo(l)&&sc(l,a=>{ac(h,a)})}function Vu(h,l){const a=lc(h,l),p=Rl(a);return function gf(h,l,a){if(0===l.length)return;const p=[];let w=[];const H=l.filter(oe=>0===oe.status).map(oe=>oe.currentWriteId);for(let oe=0;oe<l.length;oe++){const Ce=l[oe],Ze=Fs(a,Ce.path);let Ot,kt=!1;if((0,W.hu)(null!==Ze,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ce.status)kt=!0,Ot=Ce.abortReason,w=w.concat(qa(h.serverSyncTree_,Ce.currentWriteId,!0));else if(0===Ce.status)if(Ce.retryCount>=25)kt=!0,Ot="maxretry",w=w.concat(qa(h.serverSyncTree_,Ce.currentWriteId,!0));else{const Jt=Bu(h,Ce.path,H);Ce.currentInputSnapshot=Jt;const Bn=l[oe].update(Jt.val());if(void 0!==Bn){it("transaction failed: Data returned ",Bn,Ce.path);let vr=cn(Bn);"object"==typeof Bn&&null!=Bn&&(0,W.r3)(Bn,".priority")||(vr=vr.updatePriority(Jt.getPriority()));const Us=Ce.currentWriteId,jl=oc(h),Hl=ru(vr,Jt,jl);Ce.currentOutputSnapshotRaw=vr,Ce.currentOutputSnapshotResolved=Hl,Ce.currentWriteId=hh(h),H.splice(H.indexOf(Us),1),w=w.concat(Oc(h.serverSyncTree_,Ce.path,Hl,Ce.currentWriteId,Ce.applyLocally)),w=w.concat(qa(h.serverSyncTree_,Us,!0))}else kt=!0,Ot="nodata",w=w.concat(qa(h.serverSyncTree_,Ce.currentWriteId,!0))}ea(h.eventQueue_,a,w),w=[],kt&&(l[oe].status=2,setTimeout(l[oe].unwatcher,Math.floor(0)),l[oe].onComplete&&p.push("nodata"===Ot?()=>l[oe].onComplete(null,!1,l[oe].currentInputSnapshot):()=>l[oe].onComplete(new Error(Ot),!1,null)))}Fl(h,h.transactionQueueTree_);for(let oe=0;oe<p.length;oe++)Br(p[oe]);ac(h,h.transactionQueueTree_)}(h,Od(h,a),p),p}function lc(h,l){let a,p=h.transactionQueueTree_;for(a=nr(l);null!==a&&void 0===pl(p);)p=iu(p,a),a=nr(l=Er(l));return p}function Od(h,l){const a=[];return au(h,l,a),a.sort((p,w)=>p.order-w.order),a}function au(h,l,a){const p=pl(l);if(p)for(let w=0;w<p.length;w++)a.push(p[w]);sc(l,w=>{au(h,w,a)})}function Fl(h,l){const a=pl(l);if(a){let p=0;for(let w=0;w<a.length;w++)2!==a[w].status&&(a[p]=a[w],p++);a.length=p,Nc(l,a.length>0?a:void 0)}sc(l,p=>{Fl(h,p)})}function Uu(h,l){const a=Rl(lc(h,l)),p=iu(h.transactionQueueTree_,l);return function uh(h,l,a){let p=a?h:h.parent;for(;null!==p;){if(l(p))return!0;p=p.parent}}(p,w=>{$u(h,w)}),$u(h,p),Fc(p,w=>{$u(h,w)}),a}function $u(h,l){const a=pl(l);if(a){const p=[];let w=[],O=-1;for(let H=0;H<a.length;H++)3===a[H].status||(1===a[H].status?((0,W.hu)(O===H-1,"All SENT items should be at beginning of queue."),O=H,a[H].status=3,a[H].abortReason="set"):((0,W.hu)(0===a[H].status,"Unexpected transaction status in abort"),a[H].unwatcher(),w=w.concat(qa(h.serverSyncTree_,a[H].currentWriteId,!0)),a[H].onComplete&&p.push(a[H].onComplete.bind(null,new Error("set"),!1,null))));-1===O?Nc(l,void 0):a.length=O+1,ea(h.eventQueue_,Rl(l),w);for(let H=0;H<p.length;H++)Br(p[H])}}const yh=function(h,l){const a=mf(h),p=a.namespace;return"firebase.com"===a.domain&&Or(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!p||"undefined"===p)&&"localhost"!==a.domain&&Or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vt(a.host,a.secure,p,"ws"===a.scheme||"wss"===a.scheme,l,"",p!==a.subdomain),path:new ui(a.pathString)}},mf=function(h){let l="",a="",p="",w="",O="",H=!0,oe="https",Ce=443;if("string"==typeof h){let Ze=h.indexOf("//");Ze>=0&&(oe=h.substring(0,Ze-1),h=h.substring(Ze+2));let kt=h.indexOf("/");-1===kt&&(kt=h.length);let Ot=h.indexOf("?");-1===Ot&&(Ot=h.length),l=h.substring(0,Math.min(kt,Ot)),kt<Ot&&(w=function gh(h){let l="";const a=h.split("/");for(let p=0;p<a.length;p++)if(a[p].length>0){let w=a[p];try{w=decodeURIComponent(w.replace(/\+/g," "))}catch(O){}l+="/"+w}return l}(h.substring(kt,Ot)));const Jt=function mh(h){const l={};"?"===h.charAt(0)&&(h=h.substring(1));for(const a of h.split("&")){if(0===a.length)continue;const p=a.split("=");2===p.length?l[decodeURIComponent(p[0])]=decodeURIComponent(p[1]):Yn(`Invalid query segment '${a}' in query '${h}'`)}return l}(h.substring(Math.min(h.length,Ot)));Ze=l.indexOf(":"),Ze>=0?(H="https"===oe||"wss"===oe,Ce=parseInt(l.substring(Ze+1),10)):Ze=l.length;const Bn=l.slice(0,Ze);if("localhost"===Bn.toLowerCase())a="localhost";else if(Bn.split(".").length<=2)a=Bn;else{const vr=l.indexOf(".");p=l.substring(0,vr).toLowerCase(),a=l.substring(vr+1),O=p}"ns"in Jt&&(O=Jt.ns)}return{host:l,port:Ce,domain:a,subdomain:p,secure:H,scheme:oe,pathString:w,namespace:O}};class fp{constructor(l,a,p,w){this.eventType=l,this.eventRegistration=a,this.snapshot=p,this.prevName=w}getPath(){const l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Pz)(this.snapshot.exportVal())}}class _h{constructor(l,a,p){this.eventRegistration=l,this.error=a,this.path=p}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yf{constructor(l,a){this.snapshotCallback=l,this.cancelCallback=a}onValue(l,a){this.snapshotCallback.call(null,l,a)}onCancel(l){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)}get hasCancelCallback(){return!!this.cancelCallback}matches(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context}}class vh{constructor(l,a){this._repo=l,this._path=a}cancel(){const l=new W.BH;return Ka(this._repo,this._path,l.wrapCallback(()=>{})),l.promise}remove(){Ts("OnDisconnect.remove",this._path);const l=new W.BH;return pf(this._repo,this._path,null,l.wrapCallback(()=>{})),l.promise}set(l){Ts("OnDisconnect.set",this._path),pe("OnDisconnect.set",l,this._path,!1);const a=new W.BH;return pf(this._repo,this._path,l,a.wrapCallback(()=>{})),a.promise}setWithPriority(l,a){Ts("OnDisconnect.setWithPriority",this._path),pe("OnDisconnect.setWithPriority",l,this._path,!1),An("OnDisconnect.setWithPriority",a,!1);const p=new W.BH;return function Rd(h,l,a,p,w){const O=cn(a,p);h.server_.onDisconnectPut(l.toString(),O.val(!0),(H,oe)=>{"ok"===H&&Bo(h.onDisconnect_,l,O),Ss(0,w,H,oe)})}(this._repo,this._path,l,a,p.wrapCallback(()=>{})),p.promise}update(l){Ts("OnDisconnect.update",this._path),wn("OnDisconnect.update",l,this._path,!1);const a=new W.BH;return function Pl(h,l,a,p){if((0,W.xb)(a))return Qt("onDisconnect().update() called with empty data.  Don't do anything."),void Ss(0,p,"ok",void 0);h.server_.onDisconnectMerge(l.toString(),a,(w,O)=>{"ok"===w&&qr(a,(H,oe)=>{const Ce=cn(oe);Bo(h.onDisconnect_,Fi(l,H),Ce)}),Ss(0,p,w,O)})}(this._repo,this._path,l,a.wrapCallback(()=>{})),a.promise}}class hs{constructor(l,a,p,w){this._repo=l,this._path=a,this._queryParams=p,this._orderByCalled=w}get key(){return Vr(this._path)?null:_u(this._path)}get ref(){return new Za(this._repo,this._path)}get _queryIdentifier(){const l=wl(this._queryParams),a=ki(l);return"{}"===a?"default":a}get _queryObject(){return wl(this._queryParams)}isEqual(l){if(!((l=(0,W.m9)(l))instanceof hs))return!1;const a=this._repo===l._repo,p=oo(this._path,l._path);return a&&p&&this._queryIdentifier===l._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function tl(h){let l="";for(let a=h.pieceNum_;a<h.pieces_.length;a++)""!==h.pieces_[a]&&(l+="/"+encodeURIComponent(String(h.pieces_[a])));return l||"/"}(this._path)}}function Ll(h,l){if(!0===h._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function lu(h){let l=null,a=null;if(h.hasStart()&&(l=h.getIndexStartValue()),h.hasEnd()&&(a=h.getIndexEndValue()),h.getIndex()===Co){const p="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",w="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==ps)throw new Error(p);if("string"!=typeof l)throw new Error(w)}if(h.hasEnd()){if(h.getIndexEndName()!==Li)throw new Error(p);if("string"!=typeof a)throw new Error(w)}}else if(h.getIndex()===Dt){if(null!=l&&!K(l)||null!=a&&!K(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(h.getIndex()instanceof Kr||h.getIndex()===rr,"unknown index type."),null!=l&&"object"==typeof l||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Pd(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Za extends hs{constructor(l,a){super(l,a,new Do,!1)}get parent(){const l=vu(this._path);return null===l?null:new Za(this._repo,l)}get root(){let l=this;for(;null!==l.parent;)l=l.parent;return l}}class uc{constructor(l,a,p){this._node=l,this.ref=a,this._index=p}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(l){const a=new ui(l),p=Pa(this.ref,l);return new uc(this._node.getChild(a),p,Dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(l){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(p,w)=>l(new uc(w,Pa(this.ref,p),Dt)))}hasChild(l){const a=new ui(l);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pp(h,l){return(h=(0,W.m9)(h))._checkNotDeleted("ref"),void 0!==l?Pa(h._root,l):h._root}function cc(h,l){(h=(0,W.m9)(h))._checkNotDeleted("refFromURL");const a=yh(l,h._repo.repoInfo_.nodeAdmin);Fu("refFromURL",a);const p=a.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&p.host!==h._repo.repoInfo_.host&&Or("refFromURL: Host name does not match the current database: (found "+p.host+" but expected "+h._repo.repoInfo_.host+")"),pp(h,a.path.toString())}function Pa(h,l){return null===nr((h=(0,W.m9)(h))._path)?(a=l,a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Zn("child","path",a,!1)):Zn("child","path",l,!1),new Za(h._repo,Fi(h._path,l));var a}function Eh(h,l){h=(0,W.m9)(h),Ts("set",h._path),pe("set",l,h._path,!1);const a=new W.BH;return Md(h._repo,h._path,l,null,a.wrapCallback(()=>{})),a.promise}function wh(h,l){wn("update",l,h._path,!1);const a=new W.BH;return function $t(h,l,a,p){ou(h,"update",{path:l.toString(),value:a});let w=!0;const O=oc(h),H={};if(qr(a,(oe,Ce)=>{w=!1,H[oe]=ku(Fi(l,oe),cn(Ce),h.serverSyncTree_,O)}),w)Qt("update() called with empty data.  Don't do anything."),Ss(0,p,"ok",void 0);else{const oe=hh(h),Ce=function Wa(h,l,a,p){!function Ic(h,l,a,p){(0,W.hu)(p>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:l,children:a,writeId:p,visible:!0}),h.visibleWrites=Ds(h.visibleWrites,l,a),h.lastWriteId=p}(h.pendingWriteTree_,l,a,p);const w=pi.fromObject(a);return Ma(h,new le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,w))}(h.serverSyncTree_,l,H,oe);Oa(h.eventQueue_,Ce),h.server_.merge(l.toString(),a,(Ze,kt)=>{const Ot="ok"===Ze;Ot||Yn("update at "+l+" failed: "+Ze);const Jt=qa(h.serverSyncTree_,oe,!Ot),Bn=Jt.length>0?Vu(h,l):l;ea(h.eventQueue_,Bn,Jt),Ss(0,p,Ze,kt)}),qr(a,Ze=>{const kt=Uu(h,Fi(l,Ze));Vu(h,kt)}),ea(h.eventQueue_,l,[])}}(h._repo,h._path,l,a.wrapCallback(()=>{})),a.promise}function Xa(h){return function hp(h,l){const a=function tu(h,l){const a=l._path;let p=null;h.syncPointTree_.foreachOnPath(a,(Ze,kt)=>{const Ot=Fs(Ze,a);p=p||jo(kt,Ot)});let w=h.syncPointTree_.get(a);w?p=p||jo(w,ni()):(w=new Ls,h.syncPointTree_=h.syncPointTree_.set(a,w));const O=null!=p,H=O?new $e(p,!0,!1):null;return function af(h){return ci(h.viewCache_)}(lf(w,l,Dl(h.pendingWriteTree_,l._path),O?H.getNode():Le.EMPTY_NODE,O))}(h.serverSyncTree_,l);return null!=a?Promise.resolve(a):h.server_.get(l).then(p=>{const w=cn(p).withIndex(l._queryParams.getIndex()),O=Ro(h.serverSyncTree_,l._path,w);return Lu(h.eventQueue_,l._path,O),Promise.resolve(w)},p=>(ou(h,"get for query "+(0,W.Pz)(l)+" failed: "+p),Promise.reject(new Error(p))))}((h=(0,W.m9)(h))._repo,h).then(l=>new uc(l,new Za(h._repo,h._path),h._queryParams.getIndex()))}class uu{constructor(l){this.callbackContext=l}respondsTo(l){return"value"===l}createEvent(l,a){const p=a._queryParams.getIndex();return new fp("value",this,new uc(l.snapshotNode,new Za(a._repo,a._path),p))}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,null)}createCancelEvent(l,a){return this.callbackContext.hasCancelCallback?new _h(this,l,a):null}matches(l){return l instanceof uu&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dc{constructor(l,a){this.eventType=l,this.callbackContext=a}respondsTo(l){let a="children_added"===l?"child_added":l;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(l,a){return this.callbackContext.hasCancelCallback?new _h(this,l,a):null}createEvent(l,a){(0,W.hu)(null!=l.childName,"Child events should have a childName.");const p=Pa(new Za(a._repo,a._path),l.childName),w=a._queryParams.getIndex();return new fp(l.type,this,new uc(l.snapshotNode,p,w),l.prevName)}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,l.prevName)}matches(l){return l instanceof dc&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bl(h,l,a,p,w){let O;if("object"==typeof p&&(O=void 0,w=p),"function"==typeof p&&(O=p),w&&w.onlyOnce){const Ce=a,Ze=(kt,Ot)=>{kl(h._repo,h,oe),Ce(kt,Ot)};Ze.userCallback=a.userCallback,Ze.context=a.context,a=Ze}const H=new yf(a,O||void 0),oe="value"===l?new uu(H):new dc(l,H);return function yg(h,l,a){let p;p=".info"===nr(l._path)?Au(h.infoSyncTree_,l,a):Au(h.serverSyncTree_,l,a),Lu(h.eventQueue_,l._path,p)}(h._repo,h,oe),()=>kl(h._repo,h,oe)}function Qa(h,l,a,p){return Bl(h,"value",l,a,p)}function zo(h,l,a,p){return Bl(h,"child_added",l,a,p)}function Ih(h,l,a,p){return Bl(h,"child_changed",l,a,p)}function hc(h,l,a,p){return Bl(h,"child_moved",l,a,p)}function _f(h,l,a,p){return Bl(h,"child_removed",l,a,p)}function Ch(h,l,a){let p=null;const w=a?new yf(a):null;"value"===l?p=new uu(w):l&&(p=new dc(l,w)),kl(h._repo,h,p)}class Wo{}class Vl extends Wo{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){pe("endAt",this._value,l._path,!0);const a=Sa(l._queryParams,this._value,this._key);if(Pd(a),lu(a),l._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hs(l._repo,l._path,a,l._orderByCalled)}}class cu extends Wo{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){pe("endBefore",this._value,l._path,!1);const a=function fo(h,l,a){let p,w;return h.index_===Co?("string"==typeof l&&(l=dd(l)),w=Sa(h,l,a)):(p=null==a?ps:dd(a),w=Sa(h,l,p)),w.endBeforeSet_=!0,w}(l._queryParams,this._value,this._key);if(Pd(a),lu(a),l._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hs(l._repo,l._path,a,l._orderByCalled)}}class du extends Wo{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){pe("startAt",this._value,l._path,!0);const a=uo(l._queryParams,this._value,this._key);if(Pd(a),lu(a),l._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hs(l._repo,l._path,a,l._orderByCalled)}}class ju extends Wo{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){pe("startAfter",this._value,l._path,!1);const a=function eo(h,l,a){let p;if(h.index_===Co)"string"==typeof l&&(l=rl(l)),p=uo(h,l,a);else{let w;w=null==a?Li:rl(a),p=uo(h,l,w)}return p.startAfterSet_=!0,p}(l._queryParams,this._value,this._key);if(Pd(a),lu(a),l._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hs(l._repo,l._path,a,l._orderByCalled)}}class Ef extends Wo{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hs(l._repo,l._path,function bl(h,l){const a=h.copy();return a.limitSet_=!0,a.limit_=l,a.viewFrom_="l",a}(l._queryParams,this._limit),l._orderByCalled)}}class yp extends Wo{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hs(l._repo,l._path,function sl(h,l){const a=h.copy();return a.limitSet_=!0,a.limit_=l,a.viewFrom_="r",a}(l._queryParams,this._limit),l._orderByCalled)}}class vg extends Wo{constructor(l){super(),this._path=l}_apply(l){Ll(l,"orderByChild");const a=new ui(this._path);if(Vr(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const p=new Kr(a),w=To(l._queryParams,p);return lu(w),new hs(l._repo,l._path,w,!0)}}class Fd extends Wo{_apply(l){Ll(l,"orderByKey");const a=To(l._queryParams,Co);return lu(a),new hs(l._repo,l._path,a,!0)}}class Eg extends Wo{_apply(l){Ll(l,"orderByPriority");const a=To(l._queryParams,Dt);return lu(a),new hs(l._repo,l._path,a,!0)}}class bg extends Wo{_apply(l){Ll(l,"orderByValue");const a=To(l._queryParams,rr);return lu(a),new hs(l._repo,l._path,a,!0)}}class Dh extends Wo{constructor(l,a){super(),this._value=l,this._key=a}_apply(l){if(pe("equalTo",this._value,l._path,!1),l._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(l._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Vl(this._value,this._key)._apply(new du(this._value,this._key)._apply(l))}}function gl(h,...l){let a=(0,W.m9)(h);for(const p of l)a=p._apply(a);return a}(function _d(h){(0,W.hu)(!yd,"__referenceConstructor has already been defined"),yd=h})(Za),function bd(h){(0,W.hu)(!xl,"__referenceConstructor has already been defined"),xl=h}(Za);const If={};function Ld(h,l,a,p,w){let O=p||h.options.databaseURL;void 0===O&&(h.options.projectId||Or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",h.options.projectId),O=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Ce,Ze,H=yh(O,w),oe=H.repoInfo;"undefined"!=typeof process&&process.env&&(Ze=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ze?(Ce=!0,O=`http://${Ze}?ns=${oe.namespace}`,H=yh(O,w),oe=H.repoInfo):Ce=!H.repoInfo.secure;const kt=w&&Ce?new bs(bs.OWNER):new us(h.name,h.options,l);Fu("Invalid Firebase Database URL",H),Vr(H.path)||Or("Database URL must point to the root of a Firebase Database (not including a child path).");const Ot=function Bd(h,l,a,p){let w=If[l.name];w||(w={},If[l.name]=w);let O=w[h.toURLString()];return O&&Or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),O=new dh(h,false,a,p),w[h.toURLString()]=O,O}(oe,h,kt,new mo(h.name,a));return new Th(Ot,h)}class Th{constructor(l,a){this._repoInternal=l,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hf(h,l,a){if(h.stats_=Di(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new bn(h.repoInfo_,(p,w,O,H)=>{ff(h,p,w,O,H)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>xd(h,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Pz)(a)}catch(p){throw new Error("Invalid authOverride provided: "+p)}}h.persistentConnection_=new aa(h.repoInfo_,l,(p,w,O,H)=>{ff(h,p,w,O,H)},p=>{xd(h,p)},p=>{!function dp(h,l){qr(l,(a,p)=>{Uc(h,a,p)})}(h,p)},h.authTokenProvider_,h.appCheckProvider_,a),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(p=>{h.server_.refreshAuthToken(p)}),h.appCheckProvider_.addTokenChangeListener(p=>{h.server_.refreshAppCheckToken(p.token)}),h.statsReporter_=function li(h,l){const a=h.toString();return Sr[a]||(Sr[a]=l()),Sr[a]}(h.repoInfo_,()=>new Zl(h.stats_,h.server_)),h.infoData_=new Ba,h.infoSyncTree_=new wd({startListening:(p,w,O,H)=>{let oe=[];const Ce=h.infoData_.getNode(p._path);return Ce.isEmpty()||(oe=Ro(h.infoSyncTree_,p._path,Ce),setTimeout(()=>{H("ok")},0)),oe},stopListening:()=>{}}),Uc(h,"connected",!1),h.serverSyncTree_=new wd({startListening:(p,w,O,H)=>(h.server_.listen(p,O,w,(oe,Ce)=>{const Ze=H(oe,Ce);ea(h.eventQueue_,p._path,Ze)}),[]),stopListening:(p,w)=>{h.server_.unlisten(p,w)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Za(this._repo,ni())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ml(h,l){const a=If[l];(!a||a[h.key]!==h)&&Or(`Database ${l}(${h.repoInfo_}) has already been deleted.`),fh(h),delete a[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(l){null===this._rootInternal&&Or("Cannot call "+l+" on a deleted database.")}}function Vd(){cr.IS_TRANSPORT_INITIALIZED&&Yn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function vp(){Vd(),ht.forceDisallow()}function Sh(){Vd(),tr.forceDisallow(),ht.forceAllow()}function Df(h,l){Ht(h,l)}const Ip={".sv":"timestamp"};class pc{constructor(l,a){this.committed=l,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}aa.prototype.simpleListen=function(h,l){this.sendRequest("q",{p:h},l)},aa.prototype.echo=function(h,l){this.sendRequest("echo",{d:h},l)},function wp(h){Bt(me.SDK_VERSION),(0,me._registerComponent)(new di.wA("database",(l,{instanceIdentifier:a})=>Ld(l.getProvider("app").getImmediate(),l.getProvider("auth-internal"),l.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(be,"0.13.0",h),(0,me.registerVersion)(be,"0.13.0","esm2017")}();const Sf=new ft.Yd("@firebase/database-compat"),Af=function(h){Sf.warn("FIREBASE WARNING: "+h)};class Mf{constructor(l){this._delegate=l}cancel(l){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",l,!0);const a=this._delegate.cancel();return l&&a.then(()=>l(null),p=>l(p)),a}remove(l){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",l,!0);const a=this._delegate.remove();return l&&a.then(()=>l(null),p=>l(p)),a}set(l,a){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",a,!0);const p=this._delegate.set(l);return a&&p.then(()=>a(null),w=>a(w)),p}setWithPriority(l,a,p){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",p,!0);const w=this._delegate.setWithPriority(l,a);return p&&w.then(()=>p(null),O=>p(O)),w}update(l,a){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){const w={};for(let O=0;O<l.length;++O)w[""+O]=l[O];l=w,Af("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",a,!0);const p=this._delegate.update(l);return a&&p.then(()=>a(null),w=>a(w)),p}}class xh{constructor(l,a){this.committed=l,this.snapshot=a}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fs{constructor(l,a){this._database=l,this._delegate=a}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(l){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),l=String(l),Zn("DataSnapshot.child","path",l,!1),new fs(this._database,this._delegate.child(l))}hasChild(l){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Zn("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(l){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(a=>l(new fs(this._database,a)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new va(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class qo{constructor(l,a){this.database=l,this._delegate=a}on(l,a,p,w){var O;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",a,!1);const H=qo.getCancelAndContextArgs_("Query.on",p,w),oe=(Ze,kt)=>{a.call(H.context,new fs(this.database,Ze),kt)};oe.userCallback=a,oe.context=H.context;const Ce=null===(O=H.cancel)||void 0===O?void 0:O.bind(H.context);switch(l){case"value":return Qa(this._delegate,oe,Ce),a;case"child_added":return zo(this._delegate,oe,Ce),a;case"child_removed":return _f(this._delegate,oe,Ce),a;case"child_changed":return Ih(this._delegate,oe,Ce),a;case"child_moved":return hc(this._delegate,oe,Ce),a;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(l,a,p){if((0,W.Dv)("Query.off",0,3,arguments.length),function(h,l,a){if(void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,l),(0,W.Wj)("Query.off","callback",a,!0),(0,W.lb)("Query.off","context",p,!0),a){const w=()=>{};w.userCallback=a,w.context=p,Ch(this._delegate,l,w)}else Ch(this._delegate,l)}get(){return Xa(this._delegate).then(l=>new fs(this.database,l))}once(l,a,p,w){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",a,!0);const O=qo.getCancelAndContextArgs_("Query.once",p,w),H=new W.BH,oe=(Ze,kt)=>{const Ot=new fs(this.database,Ze);a&&a.call(O.context,Ot,kt),H.resolve(Ot)};oe.userCallback=a,oe.context=O.context;const Ce=Ze=>{O.cancel&&O.cancel.call(O.context,Ze),H.reject(Ze)};switch(l){case"value":Qa(this._delegate,oe,Ce,{onlyOnce:!0});break;case"child_added":zo(this._delegate,oe,Ce,{onlyOnce:!0});break;case"child_removed":_f(this._delegate,oe,Ce,{onlyOnce:!0});break;case"child_changed":Ih(this._delegate,oe,Ce,{onlyOnce:!0});break;case"child_moved":hc(this._delegate,oe,Ce,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return H.promise}limitToFirst(l){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new qo(this.database,gl(this._delegate,function mp(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ef(h)}(l)))}limitToLast(l){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new qo(this.database,gl(this._delegate,function Fm(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yp(h)}(l)))}orderByChild(l){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new qo(this.database,gl(this._delegate,function Lm(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zn("orderByChild","path",h,!1),new vg(h)}(l)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new qo(this.database,gl(this._delegate,function bf(){return new Fd}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new qo(this.database,gl(this._delegate,function wf(){return new Eg}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new qo(this.database,gl(this._delegate,function Hc(){return new bg}()))}startAt(l=null,a){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new qo(this.database,gl(this._delegate,function _g(h=null,l){return dr("startAt","key",l,!0),new du(h,l)}(l,a)))}startAfter(l=null,a){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new qo(this.database,gl(this._delegate,function fc(h,l){return dr("startAfter","key",l,!0),new ju(h,l)}(l,a)))}endAt(l=null,a){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new qo(this.database,gl(this._delegate,function Nd(h,l){return dr("endAt","key",l,!0),new Vl(h,l)}(l,a)))}endBefore(l=null,a){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new qo(this.database,gl(this._delegate,function vf(h,l){return dr("endBefore","key",l,!0),new cu(h,l)}(l,a)))}equalTo(l,a){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new qo(this.database,gl(this._delegate,function wg(h,l){return dr("equalTo","key",l,!0),new Dh(h,l)}(l,a)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(l){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(l instanceof qo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(l._delegate)}static getCancelAndContextArgs_(l,a,p){const w={cancel:void 0,context:void 0};if(a&&p)w.cancel=a,(0,W.Wj)(l,"cancel",w.cancel,!0),w.context=p,(0,W.lb)(l,"context",w.context,!0);else if(a)if("object"==typeof a&&null!==a)w.context=a;else{if("function"!=typeof a)throw new Error((0,W.gK)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");w.cancel=a}return w}get ref(){return new va(this.database,new Za(this._delegate._repo,this._delegate._path))}}class va extends qo{constructor(l,a){super(l,new hs(a._repo,a._path,new Do,!1)),this.database=l,this._delegate=a}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(l){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof l&&(l=String(l)),new va(this.database,Pa(this._delegate,l))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const l=this._delegate.parent;return l?new va(this.database,l):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new va(this.database,this._delegate.root)}set(l,a){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",a,!0);const p=Eh(this._delegate,l);return a&&p.then(()=>a(null),w=>a(w)),p}update(l,a){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(l)){const w={};for(let O=0;O<l.length;++O)w[""+O]=l[O];l=w,Af("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ts("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",a,!0);const p=wh(this._delegate,l);return a&&p.then(()=>a(null),w=>a(w)),p}setWithPriority(l,a,p){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",p,!0);const w=function kd(h,l,a){if(Ts("setWithPriority",h._path),pe("setWithPriority",l,h._path,!1),An("setWithPriority",a,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const p=new W.BH;return Md(h._repo,h._path,l,a,p.wrapCallback(()=>{})),p.promise}(this._delegate,l,a);return p&&w.then(()=>p(null),O=>p(O)),w}remove(l){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",l,!0);const a=function ei(h){return Ts("remove",h._path),Eh(h,null)}(this._delegate);return l&&a.then(()=>l(null),p=>l(p)),a}transaction(l,a,p){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",l,!1),(0,W.Wj)("Reference.transaction","onComplete",a,!0),function(h,l,a,p){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,p);const w=function hu(h,l,a){var p;if(h=(0,W.m9)(h),Ts("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const w=null===(p=null==a?void 0:a.applyLocally)||void 0===p||p,O=new W.BH,oe=Qa(h,()=>{});return function $c(h,l,a,p,w,O){ou(h,"transaction on "+l);const H={path:l,update:a,onComplete:p,status:null,order:ti(),applyLocally:O,retryCount:0,unwatcher:w,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},oe=Bu(h,l,void 0);H.currentInputSnapshot=oe;const Ce=H.update(oe.val());if(void 0===Ce)H.unwatcher(),H.currentOutputSnapshotRaw=null,H.currentOutputSnapshotResolved=null,H.onComplete&&H.onComplete(null,!1,H.currentInputSnapshot);else{it("transaction failed: Data returned ",Ce,H.path),H.status=0;const Ze=iu(h.transactionQueueTree_,l),kt=pl(Ze)||[];let Ot;kt.push(H),Nc(Ze,kt),"object"==typeof Ce&&null!==Ce&&(0,W.r3)(Ce,".priority")?(Ot=(0,W.DV)(Ce,".priority"),(0,W.hu)(K(Ot),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ot=(Ws(h.serverSyncTree_,l)||Le.EMPTY_NODE).getPriority().val();const Jt=oc(h),Bn=cn(Ce,Ot),vr=ru(Bn,oe,Jt);H.currentOutputSnapshotRaw=Bn,H.currentOutputSnapshotResolved=vr,H.currentWriteId=hh(h);const Ki=Oc(h.serverSyncTree_,l,vr,H.currentWriteId,H.applyLocally);ea(h.eventQueue_,l,Ki),ac(h,h.transactionQueueTree_)}}(h._repo,h._path,l,(Ce,Ze,kt)=>{let Ot=null;Ce?O.reject(Ce):(Ot=new uc(kt,new Za(h._repo,h._path),Dt),O.resolve(new pc(Ze,Ot)))},oe,w),O.promise}(this._delegate,l,{applyLocally:p}).then(O=>new xh(O.committed,new fs(this.database,O.snapshot)));return a&&w.then(O=>a(null,O.committed,O.snapshot),O=>a(O,!1,null)),w}setPriority(l,a){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",a,!0);const p=function bh(h,l){h=(0,W.m9)(h),Ts("setPriority",h._path),An("setPriority",l,!1);const a=new W.BH;return Md(h._repo,Fi(h._path,".priority"),l,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,l);return a&&p.then(()=>a(null),w=>a(w)),p}push(l,a){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",a,!0);const p=function gp(h,l){h=(0,W.m9)(h),Ts("push",h._path),pe("push",l,h._path,!0);const a=Vc(h._repo),p=os(a),w=Pa(h,p),O=Pa(h,p);let H;return H=null!=l?Eh(O,l).then(()=>O):Promise.resolve(O),w.then=H.then.bind(H),w.catch=H.then.bind(H,void 0),w}(this._delegate,l),w=p.then(H=>new va(this.database,H));a&&w.then(()=>a(null),H=>a(H));const O=new va(this.database,p);return O.then=w.then.bind(w),O.catch=w.catch.bind(w,void 0),O}onDisconnect(){return Ts("Reference.onDisconnect",this._delegate._path),new Mf(new vh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Mh{constructor(l,a){this._delegate=l,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:vp,forceLongPolling:Sh}}useEmulator(l,a,p={}){!function Ul(h,l,a,p={}){(h=(0,W.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Or("Cannot call useEmulator() after instance has already been initialized.");const w=h._repoInternal;let O;if(w.repoInfo_.nodeAdmin)p.mockUserToken&&Or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),O=new bs(bs.OWNER);else if(p.mockUserToken){const H="string"==typeof p.mockUserToken?p.mockUserToken:(0,W.Sg)(p.mockUserToken,h.app.options.projectId);O=new bs(H)}!function _p(h,l,a,p){h.repoInfo_=new Vt(`${l}:${a}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams),p&&(h.authTokenProvider_=p)}(w,l,a,O)}(this._delegate,l,a,p)}ref(l){if((0,W.Dv)("database.ref",0,1,arguments.length),l instanceof va){const a=cc(this._delegate,l.toString());return new va(this,a)}{const a=pp(this._delegate,l);return new va(this,a)}}refFromURL(l){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const p=cc(this._delegate,l);return new va(this,p)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function Ep(h){(h=(0,W.m9)(h))._checkNotDeleted("goOffline"),fh(h._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function bp(h){(h=(0,W.m9)(h))._checkNotDeleted("goOnline"),function ph(h){h.persistentConnection_&&h.persistentConnection_.resume(Sd)}(h._repo)}(this._delegate)}}Mh.ServerValue={TIMESTAMP:function Gc(){return Ip}(),increment:h=>function zc(h){return{".sv":{increment:h}}}(h)};var Dp=Object.freeze({__proto__:null,initStandalone:function Cp({app:h,url:l,version:a,customAuthImpl:p,namespace:w,nodeAdmin:O=!1}){Bt(a);const H=new di.zt("auth-internal",new di.H0("database-standalone"));return H.setComponent(new di.wA("auth-internal",()=>p,"PRIVATE")),{instance:new Mh(Ld(h,H,void 0,l,O),h),namespace:w}}});const Dg=Mh.ServerValue;!function Rh(h){h.INTERNAL.registerComponent(new di.wA("database-compat",(l,{instanceIdentifier:a})=>{const p=l.getProvider("app-compat").getImmediate(),w=l.getProvider("database").getImmediate({identifier:a});return new Mh(w,p)},"PUBLIC").setServiceProps({Reference:va,Query:qo,Database:Mh,DataSnapshot:fs,enableLogging:Df,INTERNAL:Dp,ServerValue:Dg}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","0.2.0")}($i.Z);var Tp=B(440),Sp=B(127);function Kc(h){return null==h}function Ph(h){return"function"==typeof h.set}function Rf(h,l){return Ph(l)?l:h.ref(l)}function Ud(h,l){if(function fa(h){return"string"==typeof h}(h))return l.stringCase();if(Ph(h))return l.firebaseCase();if(function Oh(h){return"function"==typeof h.exportVal}(h))return l.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function Zc(h,l,a="on",p=Ei.z){return new Dr.y(w=>{let O=null;return O=h[a](l,(H,oe)=>{p.schedule(()=>{w.next({snapshot:H,prevKey:oe})}),"once"===a&&p.schedule(()=>w.complete())},H=>{p.schedule(()=>w.error(H))}),"on"===a?{unsubscribe(){null!=O&&h.off(l,O)}}:{unsubscribe(){}}}).pipe((0,Kt.U)(w=>{const{snapshot:O,prevKey:H}=w;let oe=null;return O.exists()&&(oe=O.key),{type:l,payload:O,prevKey:H,key:oe}}),(0,mn.B)())}function kh(h,l){const a=h.length;for(let p=0;p<a;p++)if(h[p].payload.key===l)return p;return-1}function Tg(h,l){const{payload:a,prevKey:p,key:w}=l,O=kh(h,w),H=function Of(h,l){if(Kc(l))return 0;{const a=kh(h,l);return-1===a?h.length:a+1}}(h,p);switch(l.type){case"value":if(l.payload&&l.payload.exists()){let oe=null;l.payload.forEach(Ce=>{const Ze={payload:Ce,type:"value",prevKey:oe,key:Ce.key};return oe=Ce.key,h=[...h,Ze],!1})}return h;case"child_added":if(O>-1){const oe=h[O-1];(oe&&oe.key||null)!==p&&(h=h.filter(Ce=>Ce.payload.key!==a.key)).splice(H,0,l)}else{if(null==p)return[l,...h];(h=h.slice()).splice(H,0,l)}return h;case"child_removed":return h.filter(oe=>oe.payload.key!==a.key);case"child_changed":return h.map(oe=>oe.payload.key===w?l:oe);case"child_moved":if(O>-1){const oe=h.splice(O,1)[0];return(h=h.slice()).splice(H,0,oe),h}return h;default:return h}}function xp(h){return(Kc(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function Mp(h,l,a){return function Ap(h,l,a){return Zc(h,"value","once",a).pipe((0,qn.w)(p=>{const w=[(0,kr.of)(p)];return l.forEach(O=>w.push(Zc(h,O,"on",a))),(0,Lr.T)(...w).pipe((0,Wr.R)(Tg,[]))}),(0,Qr.x)())}(h,l=xp(l),a)}function Nh(h,l,a){const p=(l=xp(l)).map(w=>Zc(h,w,"on",a));return(0,Lr.T)(...p)}function kf(h,l){return function(p,w){return Ud(p,{stringCase:()=>h.child(p)[l](w),firebaseCase:()=>p[l](w),snapshotCase:()=>p.ref[l](w)})}}function Rp(h){return function(a){return a?Ud(a,{stringCase:()=>h.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):h.remove()}}function Pp(h,l){return function(){return Zc(h,"value","on",l)}}const Nf=new te.OlP("angularfire2.realtimeDatabaseURL"),$d=new te.OlP("angularfire2.database.use-emulator");let Ff=(()=>{class h{constructor(a,p,w,O,H,oe,Ce,Ze,kt,Ot,Jt,Bn,vr,Ki,Us){this.schedulers=oe;const jl=Ce,Hl=(0,Fr.on)(a,H,p);Ze&&(0,Ii.nw)(Hl,H,kt,Jt,Bn,vr,Ot,Ki),this.database=(0,Fr.cc)(`${Hl.name}.database.${w}`,"AngularFireDatabase",Hl.name,()=>{const gc=H.runOutsideAngular(()=>Hl.database(w||void 0));return jl&&gc.useEmulator(...jl),gc},[jl])}list(a,p){const w=this.schedulers.ngZone.runOutsideAngular(()=>Rf(this.database,a));let O=w;return p&&(O=p(w)),function Op(h,l){const a=l.schedulers.outsideAngular,p=l.schedulers.ngZone.run(()=>h.ref);return{query:h,update:kf(p,"update"),set:kf(p,"set"),push:w=>p.push(w),remove:Rp(p),snapshotChanges:w=>Mp(h,w,a).pipe(Jr.iC),stateChanges:w=>Nh(h,w,a).pipe(Jr.iC),auditTrail:w=>function Fh(h,l,a){return function Pf(h,l,a){return function Xc(h,l){return Zc(h,"value","on",l).pipe((0,Kt.U)(a=>{let p;return a.payload.forEach(w=>(p=w.key,!1)),{data:a,lastKeyToLoad:p}}))}(h,a).pipe(function Rr(...h){return l=>{let a;return"function"==typeof h[h.length-1]&&(a=h.pop()),l.lift(new Ci(h,a))}}(l),(0,Kt.U)(([w,O])=>{const H=w.lastKeyToLoad,oe=O.map(Ce=>Ce.key);return{actions:O,lastKeyToLoad:H,loadedKeys:oe}}),function Zi(h){return l=>l.lift(new Pi(h))}(w=>-1===w.loadedKeys.indexOf(w.lastKeyToLoad)),(0,Kt.U)(w=>w.actions))}(h,Nh(h,l).pipe((0,Wr.R)((w,O)=>[...w,O],[])),a)}(h,w,a).pipe(Jr.iC),valueChanges:(w,O)=>Mp(h,w,a).pipe((0,Kt.U)(oe=>oe.map(Ce=>O&&O.idField?Object.assign(Object.assign({},Ce.payload.val()),{[O.idField]:Ce.key}):Ce.payload.val())),Jr.iC)}}(O,this)}object(a){return function $l(h,l){return{query:h,snapshotChanges:()=>Pp(h,l.schedulers.outsideAngular)().pipe(Jr.iC),update:a=>h.ref.update(a),set:a=>h.ref.set(a),remove:()=>h.ref.remove(),valueChanges:()=>Pp(h,l.schedulers.outsideAngular)().pipe(Jr.iC,(0,Kt.U)(p=>p.payload.exists()?p.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Rf(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h.\u0275fac=function(a){return new(a||h)(te.LFG(Fr.Dh),te.LFG(Fr.xv,8),te.LFG(Nf,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(Jr.HU),te.LFG($d,8),te.LFG(Ii.zQ,8),te.LFG(Ii.Qv,8),te.LFG(Ii.L6,8),te.LFG(Ii._Q,8),te.LFG(Ii.rT,8),te.LFG(Ii.lh,8),te.LFG(Ii.f7,8),te.LFG(Tp.nm,8))},h.\u0275prov=te.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),jd=(()=>{class h{constructor(){Sp.Z.registerVersion("angularfire",Jr.q4.full,"rtdb-compat")}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=te.oAB({type:h}),h.\u0275inj=te.cJS({providers:[Ff]}),h})();var Lh=B(520);let Bh=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=te.oAB({type:h,bootstrap:[ai]}),h.\u0275inj=te.cJS({providers:[{provide:Ri.wN,useClass:gi.r4}],imports:[[Gn,Lh.JF,gi.Pc.forRoot(),Oi,Xr.u5,Xr.UX,wi.yb,Ii.ww,ls.TE,jd,Fr.hO.initializeApp(Jn_firebaseConfig)]]}),h})();(0,te.G48)(),Wn().bootstrapModule(Bh).catch(h=>console.log(h))},5867:(nn,dt,B)=>{"use strict";B.d(dt,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=B(9681);(0,u.registerVersion)("firebase","9.8.2","app")},127:(nn,dt,B)=>{"use strict";B.d(dt,{Z:()=>u.Z});var u=B(3942);u.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(nn,dt,B)=>{"use strict";B.r(dt);var u=B(5861),te=B(3942),X=B(2090),ze=B(9681),Be=B(655),ue=B(1877),xe=B(4859);const Ue=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gt=new ue.Yd("@firebase/auth");function we(I,...g){gt.logLevel<=ue.in.ERROR&&gt.error(`Auth (${ze.SDK_VERSION}): ${I}`,...g)}function lt(I,...g){throw bt(I,...g)}function It(I,...g){return bt(I,...g)}function Mt(I,g,_){const A=Object.assign(Object.assign({},Ee()),{[g]:_});return new X.LL("auth","Firebase",A).create(g,{appName:I.name})}function Xe(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&lt(I,"argument-error"),Mt(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(I,...g){if("string"!=typeof I){const _=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(_,...A)}return Fe.create(I,...g)}function ye(I,g,..._){if(!I)throw bt(g,..._)}function Oe(I){const g="INTERNAL ASSERTION FAILED: "+I;throw we(g),new Error(g)}function Ae(I,g){I||Oe(g)}const he=new Map;function _e(I){Ae(I instanceof Function,"Expected a class definition");let g=he.get(I);return g?(Ae(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,he.set(I,g),g)}function St(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Wt(){return"http:"===pt()||"https:"===pt()}function pt(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class at{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ae(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function _t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(I,g){Ae(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Te{static initialize(g,_,A){this.fetchImpl=g,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new at(3e4,6e4);function Et(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function en(I,g,_,A){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(I,g,_,A,K={}){return Rn(I,K,(0,u.Z)(function*(){let pe={},it={};A&&("GET"===g?it=A:pe={body:JSON.stringify(A)});const zt=(0,X.xO)(Object.assign({key:I.config.apiKey},it)).slice(1),wn=yield I._getAdditionalHeaders();return wn["Content-Type"]="application/json",I.languageCode&&(wn["X-Firebase-Locale"]=I.languageCode),Te.fetch()(jr(I,I.config.apiHost,_,zt),Object.assign({method:g,headers:wn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function Rn(I,g,_){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(I,g,_){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},et),g);try{const K=new Gn(I),pe=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const it=yield pe.json();if("needConfirmation"in it)throw zn(I,"account-exists-with-different-credential",it);if(pe.ok&&!("errorMessage"in it))return it;{const zt=pe.ok?it.errorMessage:it.error.message,[wn,An]=zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw zn(I,"credential-already-in-use",it);if("EMAIL_EXISTS"===wn)throw zn(I,"email-already-in-use",it);if("USER_DISABLED"===wn)throw zn(I,"user-disabled",it);const dr=A[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw Mt(I,dr,An);lt(I,dr)}}catch(K){if(K instanceof X.ZR)throw K;lt(I,"network-request-failed")}})).apply(this,arguments)}function dn(I,g,_,A){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(I,g,_,A,K={}){const pe=yield en(I,g,_,A,K);return"mfaPendingCredential"in pe&&lt(I,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function jr(I,g,_,A){const K=`${g}${_}?${A}`;return I.config.emulator?mt(I.config,K):`${I.config.apiScheme}://${K}`}class Gn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(It(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(I,g,_){const A={appName:I.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=It(I,g,A);return K.customData._tokenResponse=_,K}function Mr(){return(Mr=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ur(I,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Qn(I,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function yt(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Yt(){return(Yt=(0,u.Z)(function*(I,g=!1){const _=(0,X.m9)(I),A=yield _.getIdToken(g),K=qt(A);ye(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const pe="object"==typeof K.firebase?K.firebase:void 0,it=null==pe?void 0:pe.sign_in_provider;return{claims:K,token:A,authTime:yt(Rt(K.auth_time)),issuedAtTime:yt(Rt(K.iat)),expirationTime:yt(Rt(K.exp)),signInProvider:it||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Rt(I){return 1e3*Number(I)}function qt(I){const[g,_,A]=I.split(".");if(void 0===g||void 0===_||void 0===A)return we("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,X.tV)(_);return K?JSON.parse(K):(we("Failed to decode base64 JWT payload"),null)}catch(K){return we("Caught error parsing JWT payload as JSON",K),null}}function Xn(I,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(A){throw A instanceof X.ZR&&xn(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function xn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class On{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),A)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class pr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(I){return Me.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(I){var g;const _=I.auth,A=yield I.getIdToken(),K=yield Xn(I,Qn(_,{idToken:A}));ye(null==K?void 0:K.users.length,_,"internal-error");const pe=K.users[0];I._notifyReloadListener(pe);const it=(null===(g=pe.providerUserInfo)||void 0===g?void 0:g.length)?Ge(pe.providerUserInfo):[],zt=Nt(I.providerData,it),dr=!!I.isAnonymous&&!(I.email&&pe.passwordHash||(null==zt?void 0:zt.length)),Zn={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:zt,metadata:new pr(pe.createdAt,pe.lastLoginAt),isAnonymous:dr};Object.assign(I,Zn)})).apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(I){const g=(0,X.m9)(I);yield yr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Nt(I,g){return[...I.filter(A=>!g.some(K=>K.providerId===A.providerId)),...g]}function Ge(I){return I.map(g=>{var{providerId:_}=g,A=(0,Be._T)(g,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Zt(){return(Zt=(0,u.Z)(function*(I,g){const _=yield Rn(I,{},(0,u.Z)(function*(){const A=(0,X.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:pe}=I.config,it=jr(I,K,"/v1/token",`key=${pe}`),zt=yield I._getAdditionalHeaders();return zt["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(it,{method:"POST",headers:zt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ye(g.idToken,"internal-error"),ye(void 0!==g.idToken,"internal-error"),ye(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function hn(I){const g=qt(I);return ye(g,"internal-error"),ye(void 0!==g.exp,"internal-error"),ye(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var A=this;return(0,u.Z)(function*(){return ye(!A.accessToken||A.refreshToken,g,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var A=this;return(0,u.Z)(function*(){const{accessToken:K,refreshToken:pe,expiresIn:it}=yield function ut(I,g){return Zt.apply(this,arguments)}(g,_);A.updateTokensAndExpiration(K,pe,Number(it))})()}updateTokensAndExpiration(g,_,A){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,_){const{refreshToken:A,accessToken:K,expirationTime:pe}=_,it=new on;return A&&(ye("string"==typeof A,"internal-error",{appName:g}),it.refreshToken=A),K&&(ye("string"==typeof K,"internal-error",{appName:g}),it.accessToken=K),pe&&(ye("number"==typeof pe,"internal-error",{appName:g}),it.expirationTime=pe),it}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function vn(I,g){ye("string"==typeof I||void 0===I,"internal-error",{appName:g})}class Pn{constructor(g){var{uid:_,auth:A,stsTokenManager:K}=g,pe=(0,Be._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new On(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new pr(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const A=yield Xn(_,_.stsTokenManager.getToken(_.auth,g));return ye(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(g){return function Se(I){return Yt.apply(this,arguments)}(this,g)}reload(){return function We(I){return tt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ye(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Pn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var A=this;return(0,u.Z)(function*(){let K=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),K=!0),_&&(yield yr(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield Xn(g,function tn(I,g){return Mr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var A,K,pe,it,zt,wn,An,dr;const Zn=null!==(A=_.displayName)&&void 0!==A?A:void 0,Vs=null!==(K=_.email)&&void 0!==K?K:void 0,Ts=null!==(pe=_.phoneNumber)&&void 0!==pe?pe:void 0,Fu=null!==(it=_.photoURL)&&void 0!==it?it:void 0,df=null!==(zt=_.tenantId)&&void 0!==zt?zt:void 0,Oa=null!==(wn=_._redirectEventId)&&void 0!==wn?wn:void 0,Lu=null!==(An=_.createdAt)&&void 0!==An?An:void 0,ea=null!==(dr=_.lastLoginAt)&&void 0!==dr?dr:void 0,{uid:Lc,emailVerified:Bc,isAnonymous:Sd,providerData:Ad,stsTokenManager:dh}=_;ye(Lc&&dh,g,"internal-error");const hf=on.fromJSON(this.name,dh);ye("string"==typeof Lc,g,"internal-error"),vn(Zn,g.name),vn(Vs,g.name),ye("boolean"==typeof Bc,g,"internal-error"),ye("boolean"==typeof Sd,g,"internal-error"),vn(Ts,g.name),vn(Fu,g.name),vn(df,g.name),vn(Oa,g.name),vn(Lu,g.name),vn(ea,g.name);const Vc=new Pn({uid:Lc,auth:g,email:Vs,emailVerified:Bc,displayName:Zn,isAnonymous:Sd,photoURL:Fu,phoneNumber:Ts,tenantId:df,stsTokenManager:hf,createdAt:Lu,lastLoginAt:ea});return Ad&&Array.isArray(Ad)&&(Vc.providerData=Ad.map(oc=>Object.assign({},oc))),Oa&&(Vc._redirectEventId=Oa),Vc}static _fromIdTokenResponse(g,_,A=!1){return(0,u.Z)(function*(){const K=new on;K.updateFromServerResponse(_);const pe=new Pn({uid:_.localId,auth:g,stsTokenManager:K,isAnonymous:A});return yield yr(pe),pe})()}}const Dn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,A){var K=this;return(0,u.Z)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,u.Z)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,u.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return I.type="NONE",I})();function wr(I,g,_){return`firebase:${I}:${g}:${_}`}class Zr{constructor(g,_,A){this.persistence=g,this.auth=_,this.userKey=A;const{config:K,name:pe}=this.auth;this.fullUserKey=wr(this.userKey,K.apiKey,pe),this.fullPersistenceKey=wr("persistence",K.apiKey,pe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Pn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,A="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Zr(_e(Dn),g,A);const K=(yield Promise.all(_.map(function(){var An=(0,u.Z)(function*(dr){if(yield dr._isAvailable())return dr});return function(dr){return An.apply(this,arguments)}}()))).filter(An=>An);let pe=K[0]||_e(Dn);const it=wr(A,g.config.apiKey,g.name);let zt=null;for(const An of _)try{const dr=yield An._get(it);if(dr){const Zn=Pn._fromJSON(g,dr);An!==pe&&(zt=Zn),pe=An;break}}catch(dr){}const wn=K.filter(An=>An._shouldAllowMigration);return pe._shouldAllowMigration&&wn.length?(pe=wn[0],zt&&(yield pe._set(it,zt.toJSON())),yield Promise.all(_.map(function(){var An=(0,u.Z)(function*(dr){if(dr!==pe)try{yield dr._remove(it)}catch(Zn){}});return function(dr){return An.apply(this,arguments)}}())),new Zr(pe,g,A)):new Zr(pe,g,A)})()}}function Hr(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ai(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ri(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Oi(g))return"Blackberry";if(Xr(g))return"Webos";if(ls(g))return"Safari";if((g.includes("chrome/")||gi(g))&&!g.includes("edge/"))return"Chrome";if(Si(g))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ri(I=(0,X.z$)()){return/firefox\//i.test(I)}function ls(I=(0,X.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function gi(I=(0,X.z$)()){return/crios\//i.test(I)}function ai(I=(0,X.z$)()){return/iemobile/i.test(I)}function Si(I=(0,X.z$)()){return/android/i.test(I)}function Oi(I=(0,X.z$)()){return/blackberry/i.test(I)}function Xr(I=(0,X.z$)()){return/webos/i.test(I)}function Fr(I=(0,X.z$)()){return/iphone|ipad|ipod/i.test(I)}function Ei(I=(0,X.z$)()){return Fr(I)||Si(I)||Xr(I)||Oi(I)||/windows phone/i.test(I)||ai(I)}function kr(I,g=[]){let _;switch(I){case"Browser":_=Hr((0,X.z$)());break;case"Worker":_=`${Hr((0,X.z$)())}-${I}`;break;default:_=I}const A=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ze.SDK_VERSION}/${A}`}class Lr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const A=pe=>new Promise((it,zt)=>{try{it(g(pe))}catch(wn){zt(wn)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===g)return;const A=[];try{for(const K of _.queue)yield K(g),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const pe of A)try{pe()}catch(it){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K.message})}})()}}class Kt{constructor(g,_,A){this.app=g,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qn(this),this.idTokenSubscription=new qn(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,_){var A=this;return _&&(this._popupRedirectResolver=_e(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var K,pe;if(!A._deleted&&(A.persistenceManager=yield Zr.create(A,g),!A._deleted)){if(null===(K=A._popupRedirectResolver)||void 0===K?void 0:K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(it){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(pe=A.currentUser)||void 0===pe?void 0:pe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var A;const K=yield _.assertedPersistence.getCurrentUser();let pe=K,it=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const zt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,wn=null==pe?void 0:pe._redirectEventId,An=yield _.tryRedirectSignIn(g);(!zt||zt===wn)&&(null==An?void 0:An.user)&&(pe=An.user,it=!0)}if(!pe)return _.directlySetCurrentUser(null);if(!pe._redirectEventId){if(it)try{yield _.beforeStateQueue.runMiddleware(pe)}catch(zt){pe=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(zt))}return pe?_.reloadAndSetCurrentUserOrClear(pe):_.directlySetCurrentUser(null)}return ye(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===pe._redirectEventId?_.directlySetCurrentUser(pe):_.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(K){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){try{yield yr(g)}catch(A){if("auth/network-request-failed"!==A.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qe(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const A=g?(0,X.m9)(g):null;return A&&ye(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(g,_=!1){var A=this;return(0,u.Z)(function*(){if(!A._deleted)return g&&ye(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,u.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(_e(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new X.LL("auth","Firebase",g())}onAuthStateChanged(g,_,A){return this.registerStateListener(this.authStateSubscription,g,_,A)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,A){return this.registerStateListener(this.idTokenSubscription,g,_,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var A=this;return(0,u.Z)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const A=g&&_e(g)||_._popupRedirectResolver;ye(A,_,"argument-error"),_.redirectPersistenceManager=yield Zr.create(_,[_e(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===g?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,A,K){if(this._deleted)return()=>{};const pe="function"==typeof _?_:_.next.bind(_),it=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(it,this,"internal-error"),it.then(()=>pe(this.currentUser)),"function"==typeof _?g.addObserver(_,A,K):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var _;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return K&&(A["X-Firebase-Client"]=K),A})()}}function mn(I){return(0,X.m9)(I)}class qn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,X.ne)(_=>this.observer=_)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qr(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function mi(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Ci{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Oe("not implemented")}_getIdTokenResponse(g){return Oe("not implemented")}_linkToIdToken(g,_){return Oe("not implemented")}_getReauthenticationResolver(g){return Oe("not implemented")}}function Gr(I,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:resetPassword",Et(I,g))})).apply(this,arguments)}function Zi(I,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ai(I,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:update",Et(I,g))})).apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithPassword",Et(I,g))})).apply(this,arguments)}function di(I,g){return J.apply(this,arguments)}function J(){return(J=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:sendOobCode",Et(I,g))})).apply(this,arguments)}function me(I,g){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(I,g){return di(I,g)})).apply(this,arguments)}function ft(I,g){return be.apply(this,arguments)}function be(){return(be=(0,u.Z)(function*(I,g){return di(I,g)})).apply(this,arguments)}function Pe(I,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(I,g){return di(I,g)})).apply(this,arguments)}function Bt(I,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(I,g){return di(I,g)})).apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithEmailLink",Et(I,g))})).apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithEmailLink",Et(I,g))})).apply(this,arguments)}class sr extends Ci{constructor(g,_,A,K=null){super("password",A),this._email=g,this._password=_,this._tenantId=K}static _fromEmailAndPassword(g,_){return new sr(g,_,"password")}static _fromEmailAndCode(g,_,A=null){return new sr(g,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function ii(I,g){return $i.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function xt(I,g){return yn.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:lt(g,"internal-error")}})()}_linkToIdToken(g,_){var A=this;return(0,u.Z)(function*(){switch(A.signInMethod){case"password":return Zi(g,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function kn(I,g){return jn.apply(this,arguments)}(g,{idToken:_,email:A._email,oobCode:A._password});default:lt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ti(I,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithIdp",Et(I,g))})).apply(this,arguments)}class Qe extends Ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Qe(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):lt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K}=_,pe=(0,Be._T)(_,["providerId","signInMethod"]);if(!A||!K)return null;const it=new Qe(A,K);return it.idToken=pe.idToken||void 0,it.accessToken=pe.accessToken||void 0,it.secret=pe.secret,it.nonce=pe.nonce,it.pendingToken=pe.pendingToken||null,it}_getIdTokenResponse(g){return ti(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,ti(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ti(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,X.xO)(_)}return g}}function vt(I,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:sendVerificationCode",Et(I,g))})).apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithPhoneNumber",Et(I,g))})).apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(I,g){const _=yield dn(I,"POST","/v1/accounts:signInWithPhoneNumber",Et(I,g));if(_.temporaryProof)throw zn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Yn={USER_NOT_FOUND:"user-not-found"};function Ji(){return(Ji=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithPhoneNumber",Et(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Yn)})).apply(this,arguments)}class Wi extends Ci{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Wi({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Wi({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Qt(I,g){return Cn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Ur(I,g){return Or.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function xs(I,g){return Ji.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:pe}=g;return A||_||K||pe?new Wi({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:pe}):null}}class qi{constructor(g){var _,A,K,pe,it,zt;const wn=(0,X.zd)((0,X.pd)(g)),An=null!==(_=wn.apiKey)&&void 0!==_?_:null,dr=null!==(A=wn.oobCode)&&void 0!==A?A:null,Zn=function ps(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=wn.mode)&&void 0!==K?K:null);ye(An&&dr&&Zn,"argument-error"),this.apiKey=An,this.operation=Zn,this.code=dr,this.continueUrl=null!==(pe=wn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(it=wn.languageCode)&&void 0!==it?it:null,this.tenantId=null!==(zt=wn.tenantId)&&void 0!==zt?zt:null}static parseLink(g){const _=function Li(I){const g=(0,X.zd)((0,X.pd)(I)).link,_=g?(0,X.zd)((0,X.pd)(g)).deep_link_id:null,A=(0,X.zd)((0,X.pd)(I)).deep_link_id;return(A?(0,X.zd)((0,X.pd)(A)).link:null)||A||_||g||I}(g);try{return new qi(_)}catch(A){return null}}}let Xs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,A){return sr._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=qi.parseLink(A);return ye(K,"argument-error"),sr._fromEmailAndCode(_,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ki{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class es extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class qr extends es{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ye("providerId"in _&&"signInMethod"in _,"argument-error"),Qe._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ye(g.idToken||g.accessToken,"argument-error"),Qe._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return qr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return qr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:pe,nonce:it,providerId:zt}=g;if(!A&&!K&&!_&&!pe||!zt)return null;try{return new qr(zt)._credential({idToken:_,accessToken:A,nonce:it,pendingToken:pe})}catch(wn){return null}}}let gs=(()=>{class I extends es{constructor(){super("facebook.com")}static credential(_){return Qe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),io=(()=>{class I extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Qe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return I.credential(A,K)}catch(pe){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),go=(()=>{class I extends es{constructor(){super("github.com")}static credential(_){return Qe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(A){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class $s extends Ci{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ti(g,this.buildRequest())}_linkToIdToken(g,_){const A=this.buildRequest();return A.idToken=_,ti(g,A)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ti(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:K,pendingToken:pe}=_;return A&&K&&pe&&A===K?new $s(A,pe):null}static _create(g,_){return new $s(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends ki{constructor(g){ye(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ts.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ts.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=$s.fromJSON(g);return ye(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:A}=g;if(!_||!A)return null;try{return $s._create(A,_)}catch(K){return null}}}let Yi=(()=>{class I extends es{constructor(){super("twitter.com")}static credential(_,A){return Qe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return I.credential(A,K)}catch(pe){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Br(I,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signUp",Et(I,g))})).apply(this,arguments)}class hi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,A,K=!1){return(0,u.Z)(function*(){const pe=yield Pn._fromIdTokenResponse(g,A,K),it=mo(A);return new hi({user:pe,providerId:it,_tokenResponse:A,operationType:_})})()}static _forOperation(g,_,A){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const K=mo(A);return new hi({user:g,providerId:K,_tokenResponse:A,operationType:_})})()}}function mo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function bs(){return(bs=(0,u.Z)(function*(I){var g;const _=mn(I);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new hi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Br(_,{returnSecureToken:!0}),K=yield hi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class ms extends X.ZR{constructor(g,_,A,K){var pe;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:g.name,tenantId:null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,_,A,K){return new ms(g,_,A,K)}}function ns(I,g,_,A){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?ms._fromErrorAndOperation(I,pe,g,A):pe})}function Xi(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Tr(){return(Tr=(0,u.Z)(function*(I,g){const _=(0,X.m9)(I);yield $(!0,_,g);const{providerUserInfo:A}=yield ur(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),K=Xi(A||[]);return _.providerData=_.providerData.filter(pe=>K.has(pe.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function j(I,g){return se.apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(I,g,_=!1){const A=yield Xn(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return hi._forOperation(I,"link",A)})).apply(this,arguments)}function $(I,g,_){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(I,g,_){yield yr(g);const K=!1===I?"provider-already-linked":"no-such-provider";ye(Xi(g.providerData).has(_)===I,g.auth,K)})).apply(this,arguments)}function nt(I,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(I,g,_=!1){const{auth:A}=I,K="reauthenticate";try{const pe=yield Xn(I,ns(A,K,g,I),_);ye(pe.idToken,A,"internal-error");const it=qt(pe.idToken);ye(it,A,"internal-error");const{sub:zt}=it;return ye(I.uid===zt,A,"user-mismatch"),hi._forOperation(I,K,pe)}catch(pe){throw"auth/user-not-found"===(null==pe?void 0:pe.code)&&lt(A,"user-mismatch"),pe}})).apply(this,arguments)}function Vt(I,g){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(I,g,_=!1){const A="signIn",K=yield ns(I,A,g),pe=yield hi._fromIdTokenResponse(I,A,K);return _||(yield I._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function or(I,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(I,g){return Vt(mn(I),g)})).apply(this,arguments)}function lr(I,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(I,g){const _=(0,X.m9)(I);return yield $(!1,_,g.providerId),j(_,g)})).apply(this,arguments)}function Di(I,g){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(I,g){return nt((0,X.m9)(I),g)})).apply(this,arguments)}function _i(I,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(I,g){return dn(I,"POST","/v1/accounts:signInWithCustomToken",Et(I,g))})).apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(I,g){const _=mn(I),A=yield _i(_,{token:g,returnSecureToken:!0}),K=yield hi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class ji{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?G._fromServerResponse(g,_):lt(g,"internal-error")}}class G extends ji{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new G(_)}}function V(I,g,_){var A;ye((null===(A=_.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),ye(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ye(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ye(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function ie(){return(ie=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I),K={requestType:"PASSWORD_RESET",email:g};_&&V(A,K,_),yield ft(A,K)})).apply(this,arguments)}function E(){return(E=(0,u.Z)(function*(I,g,_){yield Gr((0,X.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function b(){return(b=(0,u.Z)(function*(I,g){yield Ai((0,X.m9)(I),{oobCode:g})})).apply(this,arguments)}function v(I,g){return D.apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(I,g){const _=(0,X.m9)(I),A=yield Gr(_,{oobCode:g}),K=A.requestType;switch(ye(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(A.mfaInfo,_,"internal-error");default:ye(A.email,_,"internal-error")}let pe=null;return A.mfaInfo&&(pe=ji._fromServerResponse(mn(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:pe},operation:K}})).apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*(I,g){const{data:_}=yield v((0,X.m9)(I),g);return _.email})).apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(I,g,_){const A=mn(I),K=yield Br(A,{returnSecureToken:!0,email:g,password:_}),pe=yield hi._fromIdTokenResponse(A,"signIn",K);return yield A._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I),K={requestType:"EMAIL_SIGNIN",email:g};ye(_.handleCodeInApp,A,"argument-error"),_&&V(A,K,_),yield Pe(A,K)})).apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I),K=Xs.credentialWithLink(g,_||St());return ye(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),or(A,K)})).apply(this,arguments)}function _r(I,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:createAuthUri",Et(I,g))})).apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(I,g){const A={identifier:g,continueUri:Wt()?St():"http://localhost"},{signinMethods:K}=yield _r((0,X.m9)(I),A);return K||[]})).apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(I,g){const _=(0,X.m9)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&V(_.auth,K,g);const{email:pe}=yield me(_.auth,K);pe!==I.email&&(yield I.reload())})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&V(A.auth,pe,_);const{email:it}=yield Bt(A.auth,pe);it!==I.email&&(yield I.reload())})).apply(this,arguments)}function is(I,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(I,g){return en(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const A=(0,X.m9)(I),pe={idToken:yield A.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},it=yield Xn(A,is(A.auth,pe));A.displayName=it.displayName||null,A.photoURL=it.photoUrl||null;const zt=A.providerData.find(({providerId:wn})=>"password"===wn);zt&&(zt.displayName=A.displayName,zt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(it)})).apply(this,arguments)}function ga(I,g,_){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(I,g,_){const{auth:A}=I,pe={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(pe.email=g),_&&(pe.password=_);const it=yield Xn(I,Zi(A,pe));yield I._updateTokensIfNecessary(it,!0)})).apply(this,arguments)}class js{constructor(g,_,A={}){this.isNewUser=g,this.providerId=_,this.profile=A}}class ka extends js{constructor(g,_,A,K){super(g,_,A),this.username=K}}class Ca extends js{constructor(g,_){super(g,"facebook.com",_)}}class ui extends ka{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class ni extends js{constructor(g,_){super(g,"google.com",_)}}class nr extends ka{constructor(g,_,A){super(g,"twitter.com",_,A)}}function Hs(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function el(I){var g,_;if(!I)return null;const{providerId:A}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},pe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&(null==I?void 0:I.idToken)){const it=null===(_=null===(g=qt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(it)return new js(pe,"anonymous"!==it&&"custom"!==it?it:null)}if(!A)return null;switch(A){case"facebook.com":return new Ca(pe,K);case"github.com":return new ui(pe,K);case"google.com":return new ni(pe,K);case"twitter.com":return new nr(pe,K,I.screenName||null);case"custom":case"anonymous":return new js(pe,null);default:return new js(pe,A,K)}}(_)}class oo{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new oo("enroll",g)}static _fromMfaPendingCredential(g){return new oo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,A;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return oo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(A=g.multiFactorSession)||void 0===A?void 0:A.idToken)return oo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Rs{constructor(g,_,A){this.session=g,this.hints=_,this.signInResolver=A}static _fromError(g,_){const A=mn(g),K=_.customData._serverResponse,pe=(K.mfaInfo||[]).map(zt=>ji._fromServerResponse(A,zt));ye(K.mfaPendingCredential,A,"internal-error");const it=oo._fromMfaPendingCredential(K.mfaPendingCredential);return new Rs(it,pe,function(){var zt=(0,u.Z)(function*(wn){const An=yield wn._process(A,it);delete K.mfaInfo,delete K.mfaPendingCredential;const dr=Object.assign(Object.assign({},K),{idToken:An.idToken,refreshToken:An.refreshToken});switch(_.operationType){case"signIn":const Zn=yield hi._fromIdTokenResponse(A,_.operationType,dr);return yield A._updateCurrentUser(Zn.user),Zn;case"reauthenticate":return ye(_.user,A,"internal-error"),hi._forOperation(_.user,_.operationType,dr);default:lt(A,"internal-error")}});return function(wn){return zt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function nl(I,g){return en(I,"POST","/v2/accounts/mfaEnrollment:start",Et(I,g))}class ao{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>ji._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new ao(g)}getSession(){var g=this;return(0,u.Z)(function*(){return oo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var A=this;return(0,u.Z)(function*(){const K=g,pe=yield A.getSession(),it=yield Xn(A.user,K._process(A.user.auth,pe,_));return yield A.user._updateTokensIfNecessary(it),A.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){const A="string"==typeof g?g:g.uid,K=yield _.user.getIdToken(),pe=yield Xn(_.user,function ma(I,g){return en(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(I,g))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:it})=>it!==A),yield _.user._updateTokensIfNecessary(pe);try{yield _.user.reload()}catch(it){if("auth/user-token-expired"!==it.code)throw it}})()}}const ya=new WeakMap,oa="__sak";class vl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(oa,"1"),this.storage.removeItem(oa),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fo=(()=>{class I extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _a(){const I=(0,X.z$)();return ls(I)||Fr(I)}()&&function Dr(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Ei(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),pe=this.localCache[A];K!==pe&&_(A,pe,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((zt,wn,An)=>{this.notifyListeners(zt,An)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const zt=this.storage.getItem(K);if(_.newValue!==zt)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const pe=()=>{const zt=this.storage.getItem(K);!A&&this.localCache[K]===zt||this.notifyListeners(K,zt)},it=this.storage.getItem(K);!function Ii(){return(0,X.w1)()&&10===document.documentMode}()||it===_.newValue||_.newValue===_.oldValue?pe():setTimeout(pe,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const pe of Array.from(K))pe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,pe=this;return(0,u.Z)(function*(){yield K().call(pe,_,A),pe.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,u.Z)(function*(){const pe=yield A().call(K,_);return K.localCache[_]=JSON.stringify(pe),pe})()}_remove(_){var A=()=>super._remove,K=this;return(0,u.Z)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return I.type="LOCAL",I})(),br=(()=>{class I extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return I.type="SESSION",I})();let La=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(pe=>pe.isListeningto(_));if(A)return A;const K=new I(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,u.Z)(function*(){const K=_,{eventId:pe,eventType:it,data:zt}=K.data,wn=A.handlersMap[it];if(!(null==wn?void 0:wn.size))return;K.ports[0].postMessage({status:"ack",eventId:pe,eventType:it});const An=Array.from(wn).map(function(){var Zn=(0,u.Z)(function*(Vs){return Vs(K.origin,zt)});return function(Vs){return Zn.apply(this,arguments)}}()),dr=yield function la(I){return Promise.all(I.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return g.apply(this,arguments)}}()))}(An);K.ports[0].postMessage({status:"done",eventId:pe,eventType:it,response:dr})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function vo(I="",g=10){let _="";for(let A=0;A<g;A++)_+=Math.floor(10*Math.random());return I+_}class Co{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,A=50){var K=this;return(0,u.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let it,zt;return new Promise((wn,An)=>{const dr=vo("",20);pe.port1.start();const Zn=setTimeout(()=>{An(new Error("unsupported_event"))},A);zt={messageChannel:pe,onMessage(Vs){const Ts=Vs;if(Ts.data.eventId===dr)switch(Ts.data.status){case"ack":clearTimeout(Zn),it=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),wn(Ts.data.response);break;default:clearTimeout(Zn),clearTimeout(it),An(new Error("invalid_response"))}}},K.handlers.add(zt),pe.port1.addEventListener("message",zt.onMessage),K.target.postMessage({eventType:g,eventId:dr,data:_},[pe.port2])}).finally(()=>{zt&&K.removeMessageHandler(zt)})})()}}function fi(){return window}function Da(){return void 0!==fi().WorkerGlobalScope&&"function"==typeof fi().importScripts}function ws(){return(ws=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const El="firebaseLocalStorageDb",un="firebaseLocalStorage",Hi="fbase_key";class Gs{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Is(I,g){return I.transaction([un],g?"readwrite":"readonly").objectStore(un)}function gr(){const I=indexedDB.open(El,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(un,{keyPath:Hi})}catch(K){_(K)}}),I.addEventListener("success",(0,u.Z)(function*(){const A=I.result;A.objectStoreNames.contains(un)?g(A):(A.close(),yield function Ln(){const I=indexedDB.deleteDatabase(El);return new Gs(I).toPromise()}(),g(yield gr()))}))})}function Ta(I,g,_){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(I,g,_){const A=Is(I,!0).put({[Hi]:g,value:_});return new Gs(A).toPromise()})).apply(this,arguments)}function M(){return(M=(0,u.Z)(function*(I,g){const _=Is(I,!1).get(g),A=yield new Gs(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function x(I,g){const _=Is(I,!0).delete(g);return new Gs(_).toPromise()}const ae=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield gr()),_.db})()}_withRetries(_){var A=this;return(0,u.Z)(function*(){let K=0;for(;;)try{const pe=yield A._openDb();return yield _(pe)}catch(pe){if(K++>3)throw pe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Da()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=La._getInstance(function Ko(){return Da()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,u.Z)(function*(K,pe){return{keyProcessed:(yield _._poll()).includes(pe.key)}});return function(K,pe){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,u.Z)(function*(K,pe){return["keyChanged"]});return function(K,pe){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var A,K;if(_.activeServiceWorker=yield function Js(){return ws.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Co(_.activeServiceWorker);const pe=yield _.sender._send("ping",{},800);!pe||(null===(A=pe[0])||void 0===A?void 0:A.fulfilled)&&(null===(K=pe[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,u.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ua(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(K){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield gr();return yield Ta(_,oa,"1"),yield x(_,oa),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,u.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,u.Z)(function*(){return K._withPendingWrite((0,u.Z)(function*(){return yield K._withRetries(pe=>Ta(pe,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,u.Z)(function*(){const K=yield A._withRetries(pe=>function Dt(I,g){return M.apply(this,arguments)}(pe,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(K=>x(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const A=yield _._withRetries(it=>{const zt=Is(it,!1).getAll();return new Gs(zt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],pe=new Set;for(const{fbase_key:it,value:zt}of A)pe.add(it),JSON.stringify(_.localCache[it])!==JSON.stringify(zt)&&(_.notifyListeners(it,zt),K.push(it));for(const it of Object.keys(_.localCache))_.localCache[it]&&!pe.has(it)&&(_.notifyListeners(it,null),K.push(it));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const pe of Array.from(K))pe(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Ne(I,g){return en(I,"POST","/v2/accounts/mfaSignIn:start",Et(I,g))}function Mn(){return(Mn=(0,u.Z)(function*(I){return(yield en(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cn(I){return new Promise((g,_)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=g,A.onerror=K=>{const pe=It("internal-error");pe.customData=K,_(pe)},A.type="text/javascript",A.charset="UTF-8",function Yr(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(A)})}function Kr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const _s=1e12;class Lo{constructor(g){this.auth=g,this.counter=_s,this._widgets=new Map}render(g,_){const A=this.counter;return this._widgets.set(A,new cs(g,this.auth.name,_||{})),this.counter++,A}reset(g){var _;const A=g||_s;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(g){var _;return(null===(_=this._widgets.get(g||_s))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var A;return null===(A=_._widgets.get(g||_s))||void 0===A||A.execute(),""})()}}class cs{constructor(g,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof g?document.getElementById(g):g;ye(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function er(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const os=Kr("rcb"),rl=new at(3e4,6e4);class Eu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fi().grecaptcha}load(g,_=""){return ye(function oi(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(fi().grecaptcha):new Promise((A,K)=>{const pe=fi().setTimeout(()=>{K(It(g,"network-request-failed"))},rl.get());fi()[os]=()=>{fi().clearTimeout(pe),delete fi()[os];const zt=fi().grecaptcha;if(!zt)return void K(It(g,"internal-error"));const wn=zt.render;zt.render=(An,dr)=>{const Zn=wn(An,dr);return this.counter++,Zn},this.hostLanguage=_,A(zt)},cn(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:os,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(pe),K(It(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!fi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ql{load(g){return(0,u.Z)(function*(){return new Lo(g)})()}clearedOneInstance(){}}const ds="recaptcha",Yl={theme:"light",type:"image"};class il{constructor(g,_=Object.assign({},Yl),A){this.parameters=_,this.type=ds,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(A),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof g?document.getElementById(g):g;ye(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ql:new Eu,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(_)||new Promise(pe=>{const it=zt=>{!zt||(g.tokenChangeListeners.delete(it),pe(zt))};g.tokenChangeListeners.add(it),g.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof g)g(_);else if("string"==typeof g){const A=fi()[g];"function"==typeof A&&A(_)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ye(Wt()&&!Da(),g.auth,"internal-error"),yield function Cs(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Gt(I){return Mn.apply(this,arguments)}(g.auth);ye(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Wi._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Gi(){return(Gi=(0,u.Z)(function*(I,g,_){const A=mn(I),K=yield Sa(A,g,(0,X.m9)(_));return new ks(K,pe=>or(A,pe))})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I);yield $(!1,A,"phone");const K=yield Sa(A.auth,g,(0,X.m9)(_));return new ks(K,pe=>lr(A,pe))})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I),K=yield Sa(A.auth,g,(0,X.m9)(_));return new ks(K,pe=>Di(A,pe))})).apply(this,arguments)}function Sa(I,g,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(I,g,_){var A;const K=yield _.verify();try{let pe;if(ye("string"==typeof K,I,"argument-error"),ye(_.type===ds,I,"argument-error"),pe="string"==typeof g?{phoneNumber:g}:g,"session"in pe){const it=pe.session;if("phoneNumber"in pe)return ye("enroll"===it.type,I,"internal-error"),(yield nl(I,{idToken:it.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{ye("signin"===it.type,I,"internal-error");const zt=(null===(A=pe.multiFactorHint)||void 0===A?void 0:A.uid)||pe.multiFactorUid;return ye(zt,I,"missing-multi-factor-info"),(yield Ne(I,{mfaPendingCredential:it.credential,mfaEnrollmentId:zt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:it}=yield vt(I,{phoneNumber:pe.phoneNumber,recaptchaToken:K});return it}}finally{_._reset()}})).apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(I,g){yield j((0,X.m9)(I),g)})).apply(this,arguments)}let wl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=mn(_)}verifyPhoneNumber(_,A){return Sa(this.auth,_,(0,X.m9)(A))}static credential(_,A){return Wi._fromVerification(_,A)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?Wi._fromTokenResponse(A,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function bn(I,g){return g?_e(g):(ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ba extends Ci{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ti(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ti(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ti(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Il(I){return Vt(I.auth,new Ba(I),I.bypassAuthState)}function Bo(I){const{auth:g,user:_}=I;return ye(_,g,"internal-error"),nt(_,new Ba(I),I.bypassAuthState)}function Bi(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(I){const{auth:g,user:_}=I;return ye(_,g,"internal-error"),j(_,new Ba(I),I.bypassAuthState)})).apply(this,arguments)}class So{constructor(g,_,A,K,pe=!1){this.auth=g,this.resolver=A,this.user=K,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(A,K){g.pendingPromise={resolve:A,reject:K};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(pe){g.reject(pe)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:A,sessionId:K,postBody:pe,tenantId:it,error:zt,type:wn}=g;if(zt)return void _.reject(zt);const An={auth:_.auth,requestUri:A,sessionId:K,tenantId:it||void 0,postBody:pe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(wn)(An))}catch(dr){_.reject(dr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Il;case"linkViaPopup":case"linkViaRedirect":return Bi;case"reauthViaPopup":case"reauthViaRedirect":return Bo;default:lt(this.auth,"internal-error")}}resolve(g){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hd=new at(2e3,1e4);function Kl(){return(Kl=(0,u.Z)(function*(I,g,_){const A=mn(I);Xe(I,g,ki);const K=bn(A,_);return new al(A,"signInViaPopup",g,K).executeNotNull()})).apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I);Xe(A.auth,g,ki);const K=bn(A.auth,_);return new al(A.auth,"reauthViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I);Xe(A.auth,g,ki);const K=bn(A.auth,_);return new al(A.auth,"linkViaPopup",g,K,A).executeNotNull()})).apply(this,arguments)}let al=(()=>{class I extends So{constructor(_,A,K,pe,it){super(_,A,pe,it),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const A=yield _.execute();return ye(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,u.Z)(function*(){Ae(1===_.filter.length,"Popup operations only handle one event");const A=vo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(It(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=(null===(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===K?void 0:K.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hd.get())};_()}}return I.currentPopupAction=null,I})();const xo=new Map;class L extends So{constructor(g,_,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let A=xo.get(_.auth._key());if(!A){try{const pe=(yield function z(I,g){return le.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;A=()=>Promise.resolve(pe)}catch(K){A=()=>Promise.reject(K)}xo.set(_.auth._key(),A)}return _.bypassAuthState||xo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,A=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(A,g);if("unknown"!==g.type){if(g.eventId){const K=yield A.auth._redirectUserForId(g.eventId);if(K)return A.user=K,_().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function le(){return(le=(0,u.Z)(function*(I,g){const _=Cr(g),A=_n(I);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function $e(I,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(I,g){return _n(I)._set(Cr(g),"true")})).apply(this,arguments)}function ln(I,g){xo.set(I._key(),g)}function _n(I){return _e(I._redirectPersistence)}function Cr(I){return wr("pendingRedirect",I.config.apiKey,I.name)}function Ar(){return(Ar=(0,u.Z)(function*(I,g,_){const A=mn(I);Xe(I,g,ki);const K=bn(A,_);return yield $e(K,A),K._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I);Xe(A.auth,g,ki);const K=bn(A.auth,_);yield $e(K,A.auth);const pe=yield Xo(A);return K._openRedirect(A.auth,g,"reauthViaRedirect",pe)})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(I,g,_){const A=(0,X.m9)(I);Xe(A.auth,g,ki);const K=bn(A.auth,_);yield $(!1,A,g.providerId),yield $e(K,A.auth);const pe=yield Xo(A);return K._openRedirect(A.auth,g,"linkViaRedirect",pe)})).apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(I,g){return yield mn(I)._initializationPromise,Mi(I,g,!1)})).apply(this,arguments)}function Mi(I,g){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(I,g,_=!1){const A=mn(I),K=bn(A,g),it=yield new L(A,K,_).execute();return it&&!_&&(delete it.user._redirectEventId,yield A._persistUserIfCurrent(it.user),yield A._setRedirectUser(null,g)),it})).apply(this,arguments)}function Xo(I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,u.Z)(function*(I){const g=vo(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Aa{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(_=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Dl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var A;if(g.error&&!ja(g)){const K=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(It(this.auth,K))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const A=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ul(g))}saveEventToCache(g){this.cachedEventUids.add(ul(g)),this.lastProcessedEventTime=Date.now()}}function ul(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function ja({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ku(I){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(I,g={}){return en(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Xl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zs=/^https?/;function eh(){return(eh=(0,u.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Ku(I);for(const _ of g)try{if(th(_))return}catch(A){}lt(I,"unauthorized-domain")})).apply(this,arguments)}function th(I){const g=St(),{protocol:_,hostname:A}=new URL(g);if(I.startsWith("chrome-extension://")){const it=new URL(I);return""===it.hostname&&""===A?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&it.hostname===A}if(!zs.test(_))return!1;if(Xl.test(I))return A===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const fd=new at(3e4,6e4);function nh(){const I=fi().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Cc=null;function rf(I){return Cc=Cc||function nf(I){return new Promise((g,_)=>{var A,K,pe;function it(){nh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{nh(),_(It(I,"network-request-failed"))},timeout:fd.get()})}if(null===(K=null===(A=fi().gapi)||void 0===A?void 0:A.iframes)||void 0===K?void 0:K.Iframe)g(gapi.iframes.getContext());else{if(!(null===(pe=fi().gapi)||void 0===pe?void 0:pe.load)){const zt=Kr("iframefcb");return fi()[zt]=()=>{gapi.load?it():_(It(I,"network-request-failed"))},cn(`https://apis.google.com/js/api.js?onload=${zt}`).catch(wn=>_(wn))}it()}}).catch(g=>{throw Cc=null,g})}(I),Cc}const xa=new at(5e3,15e3),Zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(I){const g=I.config;ye(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?mt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:I.name,v:ze.SDK_VERSION},K=Dc.get(I.config.apiHost);K&&(A.eid=K);const pe=I._getFrameworks();return pe.length&&(A.fw=pe.join(",")),`${_}?${(0,X.xO)(A).slice(1)}`}function Ha(){return Ha=(0,u.Z)(function*(I){const g=yield rf(I),_=fi().gapi;return ye(_,I,"internal-error"),g.open({where:document.body,url:cl(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zu,dontclear:!0},A=>new Promise(function(){var K=(0,u.Z)(function*(pe,it){yield A.restyle({setHideOnLeave:!1});const zt=It(I,"network-request-failed"),wn=fi().setTimeout(()=>{it(zt)},xa.get());function An(){fi().clearTimeout(wn),pe(A)}A.ping(An).then(An,()=>{it(zt)})});return function(pe,it){return K.apply(this,arguments)}}()))}),Ha.apply(this,arguments)}const Tc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qo{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function dl(I,g,_,A,K,pe){ye(I.config.authDomain,I,"auth-domain-config-required"),ye(I.config.apiKey,I,"invalid-api-key");const it={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:A,v:ze.SDK_VERSION,eventId:K};if(g instanceof ki){g.setDefaultLanguage(I.languageCode),it.providerId=g.providerId||"",(0,X.xb)(g.getCustomParameters())||(it.customParameters=JSON.stringify(g.getCustomParameters()));for(const[wn,An]of Object.entries(pe||{}))it[wn]=An}if(g instanceof es){const wn=g.getScopes().filter(An=>""!==An);wn.length>0&&(it.scopes=wn.join(","))}I.tenantId&&(it.tid=I.tenantId);const zt=it;for(const wn of Object.keys(zt))void 0===zt[wn]&&delete zt[wn];return`${function pd({config:I}){return I.emulator?mt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,X.xO)(zt).slice(1)}`}const Iu="webStorageSupport";class xc extends class sf{constructor(g){this.factorId=g}_process(g,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,A);case"signin":return this._finalizeSignIn(g,_.credential);default:return Oe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xc(g)}_finalizeEnroll(g,_,A){return function sa(I,g){return en(I,"POST","/v2/accounts/mfaEnrollment:finalize",Et(I,g))}(g,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Le(I,g){return en(I,"POST","/v2/accounts/mfaSignIn:finalize",Et(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ql=(()=>{class I{constructor(){}static assertion(_){return xc._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var sh="@firebase/auth";class ah{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(A=>{var K;g((null===(K=A)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mo(){return window}function hl(){return(hl=(0,u.Z)(function*(I,g,_){var A;const{BuildInfo:K}=Mo();Ae(g.sessionId,"AuthEvent did not contain a session ID");const pe=yield Tu(g.sessionId),it={};return Fr()?it.ibi=K.packageName:Si()?it.apn=K.packageName:lt(I,"operation-not-supported-in-this-environment"),K.displayName&&(it.appDisplayName=K.displayName),it.sessionId=pe,dl(I,_,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,it)})).apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(I){const{BuildInfo:g}=Mo(),_={};Fr()?_.iosBundleId=g.packageName:Si()?_.androidPackageName=g.packageName:lt(I,"operation-not-supported-in-this-environment"),yield Ku(I,_)})).apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(I,g,_){const{cordova:A}=Mo();let K=()=>{};try{yield new Promise((pe,it)=>{let zt=null;function wn(){var Zn;pe();const Vs=null===(Zn=A.plugins.browsertab)||void 0===Zn?void 0:Zn.close;"function"==typeof Vs&&Vs(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function An(){zt||(zt=window.setTimeout(()=>{it(It(I,"redirect-cancelled-by-user"))},2e3))}function dr(){"visible"===(null==document?void 0:document.visibilityState)&&An()}g.addPassiveListener(wn),document.addEventListener("resume",An,!1),Si()&&document.addEventListener("visibilitychange",dr,!1),K=()=>{g.removePassiveListener(wn),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",dr,!1),zt&&window.clearTimeout(zt)}})}finally{K()}})).apply(this,arguments)}function Tu(I){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(I){const g=Jl(I),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jl(I){if(Ae(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),_=new Uint8Array(g);for(let A=0;A<I.length;A++)_[A]=I.charCodeAt(A);return _}!function Du(I){(0,ze._registerComponent)(new xe.wA("auth",(g,{options:_})=>{const A=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),{apiKey:pe,authDomain:it}=A.options;return((zt,wn)=>{ye(pe&&!pe.includes(":"),"invalid-api-key",{appName:zt.name}),ye(!(null==it?void 0:it.includes(":")),"argument-error",{appName:zt.name});const An={apiKey:pe,authDomain:it,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kr(I)},dr=new Kt(zt,wn,An);return function Je(I,g){const _=(null==g?void 0:g.persistence)||[],A=(Array.isArray(_)?_:[_]).map(_e);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(dr,_),dr})(A,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,A)=>{g.getProvider("auth-internal").initialize()})),(0,ze._registerComponent)(new xe.wA("auth-internal",g=>{const _=mn(g.getProvider("auth").getImmediate());return new ah(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ze.registerVersion)(sh,"0.20.2",function Cu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ze.registerVersion)(sh,"0.20.2","esm2017")}("Browser");class uf extends Aa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,u.Z)(function*(){yield g.initPromise})()}}function jo(I){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(I){const g=yield ha()._get(xl(I));return g&&(yield ha()._remove(xl(I))),g})).apply(this,arguments)}function za(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const A=Math.floor(Math.random()*g.length);I.push(g.charAt(A))}return I.join("")}function ha(){return _e(Fo)}function xl(I){return wr("authEvent",I.config.apiKey,I.name)}function fr(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,..._]=I.split("?");return(0,X.zd)(_.join("?"))}function qa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:It("no-auth-event")}}function eu(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function zi(I=(0,X.z$)()){return!("file:"!==eu()&&"ionic:"!==eu()&&"capacitor:"!==eu()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function nu(){try{const I=self.localStorage,g=vo();if(I)return I.setItem(g,"1"),I.removeItem(g),!function Ma(I=(0,X.z$)()){return function Ws(){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tu(I=(0,X.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,X.hl)()}catch(I){return no()&&(0,X.hl)()}return!1}function no(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fl(){return(function cp(){return"http:"===eu()||"https:"===eu()}()||(0,X.ru)()||zi())&&!function Au(){return(0,X.b$)()||(0,X.UG)()}()&&nu()&&!no()}function Ml(){return zi()&&"undefined"!=typeof document}function xu(){return(xu=(0,u.Z)(function*(){return!!Ml()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const Ho={LOCAL:"local",NONE:"none",SESSION:"session"},Mu=ye,Ru="persistence";function kc(I){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,u.Z)(function*(I){yield I._initializationPromise;const g=Pu(),_=wr(Ru,I.config.apiKey,I.name);g&&g.setItem(_,I._getPersistence())})).apply(this,arguments)}function Pu(){var I;try{return(null===(I=function rc(){return"undefined"!=typeof window?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch(g){return null}}const lh=ye;class Go{constructor(){this.browserResolver=_e(class ih{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=br,this._completeRedirectFn=Mi,this._overrideRedirectResult=ln}_openPopup(g,_,A,K){var pe=this;return(0,u.Z)(function*(){var it;Ae(null===(it=pe.eventManagers[g._key()])||void 0===it?void 0:it.manager,"_initialize() not called before _openPopup()");const zt=dl(g,_,A,St(),K);return function Ac(I,g,_,A=500,K=600){const pe=Math.max((window.screen.availHeight-K)/2,0).toString(),it=Math.max((window.screen.availWidth-A)/2,0).toString();let zt="";const wn=Object.assign(Object.assign({},Tc),{width:A.toString(),height:K.toString(),top:pe,left:it}),An=(0,X.z$)().toLowerCase();_&&(zt=gi(An)?"_blank":_),Ri(An)&&(g=g||"http://localhost",wn.scrollbars="yes");const dr=Object.entries(wn).reduce((Vs,[Ts,Fu])=>`${Vs}${Ts}=${Fu},`,"");if(function wi(I=(0,X.z$)()){var g;return Fr(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(An)&&"_self"!==zt)return function Ju(I,g){const _=document.createElement("a");_.href=I,_.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(g||"",zt),new Qo(null);const Zn=window.open(g||"",zt,dr);ye(Zn,I,"popup-blocked");try{Zn.focus()}catch(Vs){}return new Qo(Zn)}(g,zt,vo())})()}_openRedirect(g,_,A,K){var pe=this;return(0,u.Z)(function*(){return yield pe._originValidation(g),function Ps(I){fi().location.href=I}(dl(g,_,A,St(),K)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:K,promise:pe}=this.eventManagers[_];return K?Promise.resolve(K):(Ae(pe,"If manager is not set, promise should be"),pe)}const A=this.initAndGetManager(g);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const A=yield function Sl(I){return Ha.apply(this,arguments)}(g),K=new Aa(g);return A.register("authEvent",pe=>(ye(null==pe?void 0:pe.authEvent,g,"invalid-auth-event"),{status:K.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:K},_.iframes[g._key()]=A,K})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Iu,{type:Iu},K=>{var pe;const it=null===(pe=null==K?void 0:K[0])||void 0===pe?void 0:pe[Iu];void 0!==it&&_(!!it),lt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function tf(I){return eh.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ei()||ls()||Fr()}}),this.cordovaResolver=_e(class Oc{constructor(){this._redirectPersistence=br,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mi,this._overrideRedirectResult=ln}_initialize(g){var _=this;return(0,u.Z)(function*(){const A=g._key();let K=_.eventManagers.get(A);return K||(K=new uf(g),_.eventManagers.set(A,K),_.attachCallbackListeners(g,K)),K})()}_openPopup(g){lt(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,A,K){var pe=this;return(0,u.Z)(function*(){!function _d(I){var g,_,A,K,pe,it,zt,wn,An,dr;const Zn=Mo();ye("function"==typeof(null===(g=null==Zn?void 0:Zn.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(void 0!==(null===(_=null==Zn?void 0:Zn.BuildInfo)||void 0===_?void 0:_.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(pe=null===(K=null===(A=null==Zn?void 0:Zn.cordova)||void 0===A?void 0:A.plugins)||void 0===K?void 0:K.browsertab)||void 0===pe?void 0:pe.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(wn=null===(zt=null===(it=null==Zn?void 0:Zn.cordova)||void 0===it?void 0:it.plugins)||void 0===zt?void 0:zt.browsertab)||void 0===wn?void 0:wn.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(dr=null===(An=null==Zn?void 0:Zn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===dr?void 0:dr.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const it=yield pe._initialize(g);yield it.initialized(),it.resetRedirect(),function At(){xo.clear()}(),yield pe._originValidation(g);const zt=function vd(I,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:za(),postBody:null,tenantId:I.tenantId,error:It(I,"no-auth-event")}}(g,A,K);yield function Su(I,g){return ha()._set(xl(I),g)}(g,zt);const wn=yield function $o(I,g,_){return hl.apply(this,arguments)}(g,zt,_),An=yield function md(I){const{cordova:g}=Mo();return new Promise(_=>{g.plugins.browsertab.isAvailable(A=>{let K=null;A?g.plugins.browsertab.openUrl(I):K=g.InAppBrowser.open(I,function Jn(I=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_(K)})})}(wn);return function yd(I,g,_){return Ls.apply(this,arguments)}(g,it,An)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Rc(I){return Al.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:A,handleOpenURL:K,BuildInfo:pe}=Mo(),it=setTimeout((0,u.Z)(function*(){yield jo(g),_.onEvent(qa())}),500),zt=function(){var dr=(0,u.Z)(function*(Zn){clearTimeout(it);const Vs=yield jo(g);let Ts=null;Vs&&(null==Zn?void 0:Zn.url)&&(Ts=function Ed(I,g){var _,A;const K=function to(I){const g=fr(I),_=g.link?decodeURIComponent(g.link):void 0,A=fr(_).link,K=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return fr(K).link||K||A||_||I}(g);if(K.includes("/__/auth/callback")){const pe=fr(K),it=pe.firebaseError?function bd(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(pe.firebaseError)):null,zt=null===(A=null===(_=null==it?void 0:it.code)||void 0===_?void 0:_.split("auth/"))||void 0===A?void 0:A[1],wn=zt?It(zt):null;return wn?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:K,postBody:null}}return null}(Vs,Zn.url)),_.onEvent(Ts||qa())});return function(Vs){return dr.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,zt);const wn=K,An=`${pe.packageName.toLowerCase()}://`;Mo().handleOpenURL=function(){var dr=(0,u.Z)(function*(Zn){if(Zn.toLowerCase().startsWith(An)&&zt({url:Zn}),"function"==typeof wn)try{wn(Zn)}catch(Vs){console.error(Vs)}});return function(Zn){return dr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=br,this._completeRedirectFn=Mi,this._overrideRedirectResult=ln}_initialize(g){var _=this;return(0,u.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,A,K){var pe=this;return(0,u.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openPopup(g,_,A,K)})()}_openRedirect(g,_,A,K){var pe=this;return(0,u.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openRedirect(g,_,A,K)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ml()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,u.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Pc(){return xu.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Ra(I){return I.unwrap()}function ku(I){return ic(I)}function ic(I){const{_tokenResponse:g}=I instanceof X.ZR?I.customData:I;if(!g)return null;if(!(I instanceof X.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return wl.credentialFromResult(I);const _=g.providerId;if(!_||"password"===_)return null;let A;switch(_){case"google.com":A=io;break;case"facebook.com":A=gs;break;case"github.com":A=go;break;case"twitter.com":A=Yi;break;default:const{oauthIdToken:K,oauthAccessToken:pe,oauthTokenSecret:it,pendingToken:zt,nonce:wn}=g;return pe||it||K||zt?zt?_.startsWith("saml.")?$s._create(_,zt):Qe._fromParams({providerId:_,signInMethod:_,pendingToken:zt,idToken:K,accessToken:pe}):new qr(_).credential({idToken:K,accessToken:pe,rawNonce:wn}):null}return I instanceof X.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function wo(I,g){return g.catch(_=>{throw _ instanceof X.ZR&&function ru(I,g){var _;const A=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Nc(I,function Os(I,g){var _;const A=(0,X.m9)(I),K=g;return ye(g.customData.operationType,A,"argument-error"),ye(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Rs._fromError(A,K)}(I,g));else if(A){const K=ic(g),pe=g;K&&(pe.credential=K,pe.tenantId=A.tenantId||void 0,pe.email=A.email||void 0,pe.phoneNumber=A.phoneNumber||void 0)}}(I,_),_}).then(_=>{const K=_.user;return{operationType:_.operationType,credential:ku(_),additionalUserInfo:Hs(_),user:Jo.getOrCreate(K)}})}function iu(I,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(I,g){const _=yield g;return{verificationId:_.verificationId,confirm:A=>wo(I,_.confirm(A))}})).apply(this,arguments)}class Nc{constructor(g,_){this.resolver=_,this.auth=function Dd(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return wo(Ra(this.auth),this.resolver.resolveSignIn(g))}}class Jo{constructor(g){this._delegate=g,this.multiFactor=function ss(I){const g=(0,X.m9)(I);return ya.has(g)||ya.set(g,ao._fromUser(g)),ya.get(g)}(g)}static getOrCreate(g){return Jo.USER_MAP.has(g)||Jo.USER_MAP.set(g,new Jo(g)),Jo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,u.Z)(function*(){return wo(_.auth,lr(_._delegate,g))})()}linkWithPhoneNumber(g,_){var A=this;return(0,u.Z)(function*(){return iu(A.auth,function bl(I,g,_){return sl.apply(this,arguments)}(A._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,u.Z)(function*(){return wo(_.auth,function Eo(I,g,_){return ol.apply(this,arguments)}(_._delegate,g,Go))})()}linkWithRedirect(g){var _=this;return(0,u.Z)(function*(){return yield kc(mn(_.auth)),function bo(I,g,_){return function pi(I,g,_){return ri.apply(this,arguments)}(I,g,_)}(_._delegate,g,Go)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,u.Z)(function*(){return wo(_.auth,Di(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return iu(this.auth,function uo(I,g,_){return eo.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return wo(this.auth,function Vo(I,g,_){return Zl.apply(this,arguments)}(this._delegate,g,Go))}reauthenticateWithRedirect(g){var _=this;return(0,u.Z)(function*(){return yield kc(mn(_.auth)),function ci(I,g,_){return function as(I,g,_){return Ua.apply(this,arguments)}(I,g,_)}(_._delegate,g,Go)})()}sendEmailVerification(g){return function Ti(I,g){return so.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,u.Z)(function*(){return yield function No(I,g){return Tr.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function ta(I,g){return ga((0,X.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function na(I,g){return ga((0,X.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function To(I,g){return da.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function _o(I,g){return Yo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function vi(I,g,_){return rs.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jo.USER_MAP=new WeakMap;const su=ye;let sc=(()=>{class I{constructor(_,A){if(this.app=_,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=_.options;su(K,"invalid-api-key",{appName:_.name}),su(K,"invalid-api-key",{appName:_.name});const pe="undefined"!=typeof window?Go:void 0;this._delegate=A.initialize({options:{persistence:uh(K,_.name),popupRedirectResolver:pe}}),this._delegate._updateErrorMap(Ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,A){!function Wr(I,g,_){const A=mn(I);ye(A._canInitEmulator,A,"emulator-config-failed"),ye(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const K=!!(null==_?void 0:_.disableWarnings),pe=Qr(g),{host:it,port:zt}=function Ir(I){const g=Qr(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const pe=K[1];return{host:pe,port:mi(A.substr(pe.length+1))}}{const[pe,it]=A.split(":");return{host:pe,port:mi(it)}}}(g);A.config.emulator={url:`${pe}//${it}${null===zt?"":`:${zt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:it,port:zt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Rr(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,_,A)}applyActionCode(_){return function k(I,g){return b.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return v(this._delegate,_)}confirmPasswordReset(_,A){return function Lt(I,g,_){return E.apply(this,arguments)}(this._delegate,_,A)}createUserWithEmailAndPassword(_,A){var K=this;return(0,u.Z)(function*(){return wo(K._delegate,function ke(I,g,_){return ht.apply(this,arguments)}(K._delegate,_,A))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function bi(I,g){return Ni.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Hn(I,g){const _=qi.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,u.Z)(function*(){su(fl(),_._delegate,"operation-not-supported-in-this-environment");const A=yield function Uo(I,g){return Ds.apply(this,arguments)}(_._delegate,Go);return A?wo(_._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Ro(I,g){mn(I)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,A,K){const{next:pe,error:it,complete:zt}=Fc(_,A,K);return this._delegate.onAuthStateChanged(pe,it,zt)}onIdTokenChanged(_,A,K){const{next:pe,error:it,complete:zt}=Fc(_,A,K);return this._delegate.onIdTokenChanged(pe,it,zt)}sendSignInLinkToEmail(_,A){return function En(I,g,_){return fn.apply(this,arguments)}(this._delegate,_,A)}sendPasswordResetEmail(_,A){return function N(I,g,_){return ie.apply(this,arguments)}(this._delegate,_,A||void 0)}setPersistence(_){var A=this;return(0,u.Z)(function*(){let K;switch(function Ou(I,g){Mu(Object.values(Ho).includes(g),I,"invalid-persistence-type"),(0,X.b$)()?Mu(g!==Ho.SESSION,I,"unsupported-persistence-type"):(0,X.UG)()?Mu(g===Ho.NONE,I,"unsupported-persistence-type"):no()?Mu(g===Ho.NONE||g===Ho.LOCAL&&(0,X.hl)(),I,"unsupported-persistence-type"):Mu(g===Ho.NONE||nu(),I,"unsupported-persistence-type")}(A._delegate,_),_){case Ho.SESSION:K=br;break;case Ho.LOCAL:K=(yield _e(ae)._isAvailable())?ae:Fo;break;case Ho.NONE:K=Dn;break;default:return lt("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return wo(this._delegate,function us(I){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return wo(this._delegate,or(this._delegate,_))}signInWithCustomToken(_){return wo(this._delegate,function ys(I,g){return Fn.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,A){return wo(this._delegate,function Ut(I,g,_){return or((0,X.m9)(I),Xs.credential(g,_))}(this._delegate,_,A))}signInWithEmailLink(_,A){return wo(this._delegate,function tr(I,g,_){return cr.apply(this,arguments)}(this._delegate,_,A))}signInWithPhoneNumber(_,A){return iu(this._delegate,function Do(I,g,_){return Gi.apply(this,arguments)}(this._delegate,_,A))}signInWithPopup(_){var A=this;return(0,u.Z)(function*(){return su(fl(),A._delegate,"operation-not-supported-in-this-environment"),wo(A._delegate,function Ao(I,g,_){return Kl.apply(this,arguments)}(A._delegate,_,Go))})()}signInWithRedirect(_){var A=this;return(0,u.Z)(function*(){return su(fl(),A._delegate,"operation-not-supported-in-this-environment"),yield kc(A._delegate),function hr(I,g,_){return function $r(I,g,_){return Ar.apply(this,arguments)}(I,g,_)}(A._delegate,_,Go)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Y(I,g){return ge.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Ho,I})();function Fc(I,g,_){let A=I;"function"!=typeof I&&({next:A,error:g,complete:_}=I);const K=A;return{next:it=>K(it&&Jo.getOrCreate(it)),error:g,complete:_}}function uh(I,g){const _=function Bs(I,g){const _=Pu();if(!_)return[];const A=wr(Ru,I,g);switch(_.getItem(A)){case Ho.NONE:return[Dn];case Ho.LOCAL:return[ae,br];case Ho.SESSION:return[br];default:return[]}}(I,g);if("undefined"!=typeof self&&!_.includes(ae)&&_.push(ae),"undefined"!=typeof window)for(const A of[Fo,br])_.includes(A)||_.push(A);return _.includes(Dn)||_.push(Dn),_}class Rl{constructor(){this.providerId="phone",this._delegate=new wl(Ra(te.Z.auth()))}static credential(g,_){return wl.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=wl.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=wl.PROVIDER_ID;const Td=ye;class ch{constructor(g,_,A=te.Z.app()){var K;Td(null===(K=A.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new il(g,_,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ya(I){I.INTERNAL.registerComponent(new xe.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new sc(_,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xs,FacebookAuthProvider:gs,GithubAuthProvider:go,GoogleAuthProvider:io,OAuthProvider:qr,SAMLAuthProvider:ts,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:Ql,RecaptchaVerifier:ch,TwitterAuthProvider:Yi,Auth:sc,AuthCredential:Ci,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.2.15")}(te.Z)},591:(nn,dt,B)=>{"use strict";B.d(dt,{X:()=>X});var u=B(8929),te=B(5279);class X extends u.xQ{constructor(Be){super(),this._value=Be}get value(){return this.getValue()}_subscribe(Be){const ue=super._subscribe(Be);return ue&&!ue.closed&&Be.next(this._value),ue}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new te.N;return this._value}next(Be){super.next(this._value=Be)}}},2916:(nn,dt,B)=>{"use strict";B.d(dt,{y:()=>ve});var u=B(3489),X=B(7668),ze=B(3292),ue=B(3821),xe=B(5379);var ce=B(2830);let ve=(()=>{class fe{constructor(Ue){this._isScalar=!1,Ue&&(this._subscribe=Ue)}lift(Ue){const Ee=new fe;return Ee.source=this,Ee.operator=Ue,Ee}subscribe(Ue,Ee,Fe){const{operator:je}=this,gt=function Be(fe,Ye,Ue){if(fe){if(fe instanceof u.L)return fe;if(fe[X.b])return fe[X.b]()}return fe||Ye||Ue?new u.L(fe,Ye,Ue):new u.L(ze.c)}(Ue,Ee,Fe);if(gt.add(je?je.call(gt,this.source):this.source||ce.v.useDeprecatedSynchronousErrorHandling&&!gt.syncErrorThrowable?this._subscribe(gt):this._trySubscribe(gt)),ce.v.useDeprecatedSynchronousErrorHandling&&gt.syncErrorThrowable&&(gt.syncErrorThrowable=!1,gt.syncErrorThrown))throw gt.syncErrorValue;return gt}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ee){ce.v.useDeprecatedSynchronousErrorHandling&&(Ue.syncErrorThrown=!0,Ue.syncErrorValue=Ee),function te(fe){for(;fe;){const{closed:Ye,destination:Ue,isStopped:Ee}=fe;if(Ye||Ee)return!1;fe=Ue&&Ue instanceof u.L?Ue:null}return!0}(Ue)?Ue.error(Ee):console.warn(Ee)}}forEach(Ue,Ee){return new(Ee=re(Ee))((Fe,je)=>{let gt;gt=this.subscribe(we=>{try{Ue(we)}catch(lt){je(lt),gt&&gt.unsubscribe()}},je,Fe)})}_subscribe(Ue){const{source:Ee}=this;return Ee&&Ee.subscribe(Ue)}[ue.L](){return this}pipe(...Ue){return 0===Ue.length?this:function Ie(fe){return 0===fe.length?xe.y:1===fe.length?fe[0]:function(Ue){return fe.reduce((Ee,Fe)=>Fe(Ee),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=re(Ue))((Ee,Fe)=>{let je;this.subscribe(gt=>je=gt,gt=>Fe(gt),()=>Ee(je))})}}return fe.create=Ye=>new fe(Ye),fe})();function re(fe){if(fe||(fe=ce.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},3292:(nn,dt,B)=>{"use strict";B.d(dt,{c:()=>X});var u=B(2830),te=B(2782);const X={closed:!0,next(ze){},error(ze){if(u.v.useDeprecatedSynchronousErrorHandling)throw ze;(0,te.z)(ze)},complete(){}}},826:(nn,dt,B)=>{"use strict";B.d(dt,{L:()=>te});var u=B(3489);class te extends u.L{notifyNext(ze,Be,ue,xe,De){this.destination.next(Be)}notifyError(ze,Be){this.destination.error(ze)}notifyComplete(ze){this.destination.complete()}}},8929:(nn,dt,B)=>{"use strict";B.d(dt,{Yc:()=>xe,xQ:()=>De});var u=B(2916),te=B(3489),X=B(2654),ze=B(5279),Be=B(5283),ue=B(7668);class xe extends te.L{constructor(ve){super(ve),this.destination=ve}}let De=(()=>{class ce extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new xe(this)}lift(re){const fe=new Ie(this,this);return fe.operator=re,fe}next(re){if(this.closed)throw new ze.N;if(!this.isStopped){const{observers:fe}=this,Ye=fe.length,Ue=fe.slice();for(let Ee=0;Ee<Ye;Ee++)Ue[Ee].next(re)}}error(re){if(this.closed)throw new ze.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:fe}=this,Ye=fe.length,Ue=fe.slice();for(let Ee=0;Ee<Ye;Ee++)Ue[Ee].error(re);this.observers.length=0}complete(){if(this.closed)throw new ze.N;this.isStopped=!0;const{observers:re}=this,fe=re.length,Ye=re.slice();for(let Ue=0;Ue<fe;Ue++)Ye[Ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new ze.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new ze.N;return this.hasError?(re.error(this.thrownError),X.w.EMPTY):this.isStopped?(re.complete(),X.w.EMPTY):(this.observers.push(re),new Be.W(this,re))}asObservable(){const re=new u.y;return re.source=this,re}}return ce.create=(ve,re)=>new Ie(ve,re),ce})();class Ie extends De{constructor(ve,re){super(),this.destination=ve,this.source=re}next(ve){const{destination:re}=this;re&&re.next&&re.next(ve)}error(ve){const{destination:re}=this;re&&re.error&&this.destination.error(ve)}complete(){const{destination:ve}=this;ve&&ve.complete&&this.destination.complete()}_subscribe(ve){const{source:re}=this;return re?this.source.subscribe(ve):X.w.EMPTY}}},5283:(nn,dt,B)=>{"use strict";B.d(dt,{W:()=>te});var u=B(2654);class te extends u.w{constructor(ze,Be){super(),this.subject=ze,this.subscriber=Be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ze=this.subject,Be=ze.observers;if(this.subject=null,!Be||0===Be.length||ze.isStopped||ze.closed)return;const ue=Be.indexOf(this.subscriber);-1!==ue&&Be.splice(ue,1)}}},3489:(nn,dt,B)=>{"use strict";B.d(dt,{L:()=>xe});var u=B(7043),te=B(3292),X=B(2654),ze=B(7668),Be=B(2830),ue=B(2782);class xe extends X.w{constructor(ce,ve,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!ce){this.destination=te.c;break}if("object"==typeof ce){ce instanceof xe?(this.syncErrorThrowable=ce.syncErrorThrowable,this.destination=ce,ce.add(this)):(this.syncErrorThrowable=!0,this.destination=new De(this,ce));break}default:this.syncErrorThrowable=!0,this.destination=new De(this,ce,ve,re)}}[ze.b](){return this}static create(ce,ve,re){const fe=new xe(ce,ve,re);return fe.syncErrorThrowable=!1,fe}next(ce){this.isStopped||this._next(ce)}error(ce){this.isStopped||(this.isStopped=!0,this._error(ce))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ce){this.destination.next(ce)}_error(ce){this.destination.error(ce),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ce}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ce,this}}class De extends xe{constructor(ce,ve,re,fe){super(),this._parentSubscriber=ce;let Ye,Ue=this;(0,u.m)(ve)?Ye=ve:ve&&(Ye=ve.next,re=ve.error,fe=ve.complete,ve!==te.c&&(Ue=Object.create(ve),(0,u.m)(Ue.unsubscribe)&&this.add(Ue.unsubscribe.bind(Ue)),Ue.unsubscribe=this.unsubscribe.bind(this))),this._context=Ue,this._next=Ye,this._error=re,this._complete=fe}next(ce){if(!this.isStopped&&this._next){const{_parentSubscriber:ve}=this;Be.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable?this.__tryOrSetError(ve,this._next,ce)&&this.unsubscribe():this.__tryOrUnsub(this._next,ce)}}error(ce){if(!this.isStopped){const{_parentSubscriber:ve}=this,{useDeprecatedSynchronousErrorHandling:re}=Be.v;if(this._error)re&&ve.syncErrorThrowable?(this.__tryOrSetError(ve,this._error,ce),this.unsubscribe()):(this.__tryOrUnsub(this._error,ce),this.unsubscribe());else if(ve.syncErrorThrowable)re?(ve.syncErrorValue=ce,ve.syncErrorThrown=!0):(0,ue.z)(ce),this.unsubscribe();else{if(this.unsubscribe(),re)throw ce;(0,ue.z)(ce)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ce}=this;if(this._complete){const ve=()=>this._complete.call(this._context);Be.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,ve),this.unsubscribe()):(this.__tryOrUnsub(ve),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ce,ve){try{ce.call(this._context,ve)}catch(re){if(this.unsubscribe(),Be.v.useDeprecatedSynchronousErrorHandling)throw re;(0,ue.z)(re)}}__tryOrSetError(ce,ve,re){if(!Be.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ve.call(this._context,re)}catch(fe){return Be.v.useDeprecatedSynchronousErrorHandling?(ce.syncErrorValue=fe,ce.syncErrorThrown=!0,!0):((0,ue.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ce}=this;this._context=null,this._parentSubscriber=null,ce.unsubscribe()}}},2654:(nn,dt,B)=>{"use strict";B.d(dt,{w:()=>ue});var u=B(6688),te=B(7830),X=B(7043);const Be=(()=>{function De(Ie){return Error.call(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((ce,ve)=>`${ve+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie,this}return De.prototype=Object.create(Error.prototype),De})();class ue{constructor(Ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ie)}unsubscribe(){let Ie;if(this.closed)return;let{_parentOrParents:ce,_ctorUnsubscribe:ve,_unsubscribe:re,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ce instanceof ue)ce.remove(this);else if(null!==ce)for(let Ye=0;Ye<ce.length;++Ye)ce[Ye].remove(this);if((0,X.m)(re)){ve&&(this._unsubscribe=void 0);try{re.call(this)}catch(Ye){Ie=Ye instanceof Be?xe(Ye.errors):[Ye]}}if((0,u.k)(fe)){let Ye=-1,Ue=fe.length;for(;++Ye<Ue;){const Ee=fe[Ye];if((0,te.K)(Ee))try{Ee.unsubscribe()}catch(Fe){Ie=Ie||[],Fe instanceof Be?Ie=Ie.concat(xe(Fe.errors)):Ie.push(Fe)}}}if(Ie)throw new Be(Ie)}add(Ie){let ce=Ie;if(!Ie)return ue.EMPTY;switch(typeof Ie){case"function":ce=new ue(Ie);case"object":if(ce===this||ce.closed||"function"!=typeof ce.unsubscribe)return ce;if(this.closed)return ce.unsubscribe(),ce;if(!(ce instanceof ue)){const fe=ce;ce=new ue,ce._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+Ie+" added to Subscription.")}let{_parentOrParents:ve}=ce;if(null===ve)ce._parentOrParents=this;else if(ve instanceof ue){if(ve===this)return ce;ce._parentOrParents=[ve,this]}else{if(-1!==ve.indexOf(this))return ce;ve.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[ce]:re.push(ce),ce}remove(Ie){const ce=this._subscriptions;if(ce){const ve=ce.indexOf(Ie);-1!==ve&&ce.splice(ve,1)}}}var De;function xe(De){return De.reduce((Ie,ce)=>Ie.concat(ce instanceof Be?ce.errors:ce),[])}ue.EMPTY=((De=new ue).closed=!0,De)},2830:(nn,dt,B)=>{"use strict";B.d(dt,{v:()=>te});let u=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(X){if(X){const ze=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ze.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=X},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(nn,dt,B)=>{"use strict";B.d(dt,{IY:()=>ze,Ds:()=>ue,ft:()=>De});var u=B(3489),te=B(2916),X=B(9249);class ze extends u.L{constructor(ce){super(),this.parent=ce}_next(ce){this.parent.notifyNext(ce)}_error(ce){this.parent.notifyError(ce),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends u.L{notifyNext(ce){this.destination.next(ce)}notifyError(ce){this.destination.error(ce)}notifyComplete(){this.destination.complete()}}function De(Ie,ce){if(ce.closed)return;if(Ie instanceof te.y)return Ie.subscribe(ce);let ve;try{ve=(0,X.s)(Ie)(ce)}catch(re){ce.error(re)}return ve}},1762:(nn,dt,B)=>{"use strict";B.d(dt,{c:()=>Be,N:()=>ue});var u=B(8929),te=B(2916),X=B(2654),ze=B(4327);class Be extends te.y{constructor(ve,re){super(),this.source=ve,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ve=this._connection;return ve||(this._isComplete=!1,ve=this._connection=new X.w,ve.add(this.source.subscribe(new xe(this.getSubject(),this))),ve.closed&&(this._connection=null,ve=X.w.EMPTY)),ve}refCount(){return(0,ze.x)()(this)}}const ue=(()=>{const ce=Be.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ce._subscribe},_isComplete:{value:ce._isComplete,writable:!0},getSubject:{value:ce.getSubject},connect:{value:ce.connect},refCount:{value:ce.refCount}}})();class xe extends u.Yc{constructor(ve,re){super(ve),this.connectable=re}_error(ve){this._unsubscribe(),super._error(ve)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ve=this.connectable;if(ve){this.connectable=null;const re=ve._connection;ve._refCount=0,ve._subject=null,ve._connection=null,re&&re.unsubscribe()}}}},1221:(nn,dt,B)=>{"use strict";B.d(dt,{z:()=>ze});var u=B(1086),te=B(9146);function ze(...Be){return function X(){return(0,te.J)(1)}()((0,u.of)(...Be))}},8896:(nn,dt,B)=>{"use strict";B.d(dt,{E:()=>te,c:()=>X});var u=B(2916);const te=new u.y(Be=>Be.complete());function X(Be){return Be?function ze(Be){return new u.y(ue=>Be.schedule(()=>ue.complete()))}(Be):te}},5254:(nn,dt,B)=>{"use strict";B.d(dt,{D:()=>Ue});var u=B(2916),te=B(9249),X=B(2654),ze=B(3821),xe=B(6454),De=B(5430),ve=B(8955),re=B(8515);function Ue(Ee,Fe){return Fe?function Ye(Ee,Fe){if(null!=Ee){if(function ce(Ee){return Ee&&"function"==typeof Ee[ze.L]}(Ee))return function Be(Ee,Fe){return new u.y(je=>{const gt=new X.w;return gt.add(Fe.schedule(()=>{const we=Ee[ze.L]();gt.add(we.subscribe({next(lt){gt.add(Fe.schedule(()=>je.next(lt)))},error(lt){gt.add(Fe.schedule(()=>je.error(lt)))},complete(){gt.add(Fe.schedule(()=>je.complete()))}}))})),gt})}(Ee,Fe);if((0,ve.t)(Ee))return function ue(Ee,Fe){return new u.y(je=>{const gt=new X.w;return gt.add(Fe.schedule(()=>Ee.then(we=>{gt.add(Fe.schedule(()=>{je.next(we),gt.add(Fe.schedule(()=>je.complete()))}))},we=>{gt.add(Fe.schedule(()=>je.error(we)))}))),gt})}(Ee,Fe);if((0,re.z)(Ee))return(0,xe.r)(Ee,Fe);if(function fe(Ee){return Ee&&"function"==typeof Ee[De.hZ]}(Ee)||"string"==typeof Ee)return function Ie(Ee,Fe){if(!Ee)throw new Error("Iterable cannot be null");return new u.y(je=>{const gt=new X.w;let we;return gt.add(()=>{we&&"function"==typeof we.return&&we.return()}),gt.add(Fe.schedule(()=>{we=Ee[De.hZ](),gt.add(Fe.schedule(function(){if(je.closed)return;let lt,It;try{const Mt=we.next();lt=Mt.value,It=Mt.done}catch(Mt){return void je.error(Mt)}It?je.complete():(je.next(lt),this.schedule())}))})),gt})}(Ee,Fe)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,Fe):Ee instanceof u.y?Ee:new u.y((0,te.s)(Ee))}},3009:(nn,dt,B)=>{"use strict";B.d(dt,{n:()=>ze});var u=B(2916),te=B(3650),X=B(6454);function ze(Be,ue){return ue?(0,X.r)(Be,ue):new u.y((0,te.V)(Be))}},6787:(nn,dt,B)=>{"use strict";B.d(dt,{T:()=>Be});var u=B(2916),te=B(2866),X=B(9146),ze=B(3009);function Be(...ue){let xe=Number.POSITIVE_INFINITY,De=null,Ie=ue[ue.length-1];return(0,te.K)(Ie)?(De=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(xe=ue.pop())):"number"==typeof Ie&&(xe=ue.pop()),null===De&&1===ue.length&&ue[0]instanceof u.y?ue[0]:(0,X.J)(xe)((0,ze.n)(ue,De))}},1086:(nn,dt,B)=>{"use strict";B.d(dt,{of:()=>ze});var u=B(2866),te=B(3009),X=B(6454);function ze(...Be){let ue=Be[Be.length-1];return(0,u.K)(ue)?(Be.pop(),(0,X.r)(Be,ue)):(0,te.n)(Be)}},1737:(nn,dt,B)=>{"use strict";B.d(dt,{_:()=>te});var u=B(2916);function te(ze,Be){return new u.y(Be?ue=>Be.schedule(X,0,{error:ze,subscriber:ue}):ue=>ue.error(ze))}function X({error:ze,subscriber:Be}){Be.error(ze)}},1406:(nn,dt,B)=>{"use strict";B.d(dt,{b:()=>te});var u=B(1709);function te(X,ze){return(0,u.zg)(X,ze,1)}},7314:(nn,dt,B)=>{"use strict";B.d(dt,{d:()=>te});var u=B(3489);function te(Be=null){return ue=>ue.lift(new X(Be))}class X{constructor(ue){this.defaultValue=ue}call(ue,xe){return xe.subscribe(new ze(ue,this.defaultValue))}}class ze extends u.L{constructor(ue,xe){super(ue),this.defaultValue=xe,this.isEmpty=!0}_next(ue){this.isEmpty=!1,this.destination.next(ue)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(nn,dt,B)=>{"use strict";B.d(dt,{x:()=>te});var u=B(3489);function te(Be,ue){return xe=>xe.lift(new X(Be,ue))}class X{constructor(ue,xe){this.compare=ue,this.keySelector=xe}call(ue,xe){return xe.subscribe(new ze(ue,this.compare,this.keySelector))}}class ze extends u.L{constructor(ue,xe,De){super(ue),this.keySelector=De,this.hasKey=!1,"function"==typeof xe&&(this.compare=xe)}compare(ue,xe){return ue===xe}_next(ue){let xe;try{const{keySelector:Ie}=this;xe=Ie?Ie(ue):ue}catch(Ie){return this.destination.error(Ie)}let De=!1;if(this.hasKey)try{const{compare:Ie}=this;De=Ie(this.key,xe)}catch(Ie){return this.destination.error(Ie)}else this.hasKey=!0;De||(this.key=xe,this.destination.next(ue))}}},2198:(nn,dt,B)=>{"use strict";B.d(dt,{h:()=>te});var u=B(3489);function te(Be,ue){return function(De){return De.lift(new X(Be,ue))}}class X{constructor(ue,xe){this.predicate=ue,this.thisArg=xe}call(ue,xe){return xe.subscribe(new ze(ue,this.predicate,this.thisArg))}}class ze extends u.L{constructor(ue,xe,De){super(ue),this.predicate=xe,this.thisArg=De,this.count=0}_next(ue){let xe;try{xe=this.predicate.call(this.thisArg,ue,this.count++)}catch(De){return void this.destination.error(De)}xe&&this.destination.next(ue)}}},7224:(nn,dt,B)=>{"use strict";B.d(dt,{P:()=>xe});var u=B(4450),te=B(2198),X=B(2986),ze=B(7314),Be=B(4907),ue=B(5379);function xe(De,Ie){const ce=arguments.length>=2;return ve=>ve.pipe(De?(0,te.h)((re,fe)=>De(re,fe,ve)):ue.y,(0,X.q)(1),ce?(0,ze.d)(Ie):(0,Be.T)(()=>new u.K))}},4850:(nn,dt,B)=>{"use strict";B.d(dt,{U:()=>te});var u=B(3489);function te(Be,ue){return function(De){if("function"!=typeof Be)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return De.lift(new X(Be,ue))}}class X{constructor(ue,xe){this.project=ue,this.thisArg=xe}call(ue,xe){return xe.subscribe(new ze(ue,this.project,this.thisArg))}}class ze extends u.L{constructor(ue,xe,De){super(ue),this.project=xe,this.count=0,this.thisArg=De||this}_next(ue){let xe;try{xe=this.project.call(this.thisArg,ue,this.count++)}catch(De){return void this.destination.error(De)}this.destination.next(xe)}}},9146:(nn,dt,B)=>{"use strict";B.d(dt,{J:()=>X});var u=B(1709),te=B(5379);function X(ze=Number.POSITIVE_INFINITY){return(0,u.zg)(te.y,ze)}},1709:(nn,dt,B)=>{"use strict";B.d(dt,{zg:()=>ze});var u=B(4850),te=B(5254),X=B(1177);function ze(De,Ie,ce=Number.POSITIVE_INFINITY){return"function"==typeof Ie?ve=>ve.pipe(ze((re,fe)=>(0,te.D)(De(re,fe)).pipe((0,u.U)((Ye,Ue)=>Ie(re,Ye,fe,Ue))),ce)):("number"==typeof Ie&&(ce=Ie),ve=>ve.lift(new Be(De,ce)))}class Be{constructor(Ie,ce=Number.POSITIVE_INFINITY){this.project=Ie,this.concurrent=ce}call(Ie,ce){return ce.subscribe(new ue(Ie,this.project,this.concurrent))}}class ue extends X.Ds{constructor(Ie,ce,ve=Number.POSITIVE_INFINITY){super(Ie),this.project=ce,this.concurrent=ve,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ie){this.active<this.concurrent?this._tryNext(Ie):this.buffer.push(Ie)}_tryNext(Ie){let ce;const ve=this.index++;try{ce=this.project(Ie,ve)}catch(re){return void this.destination.error(re)}this.active++,this._innerSub(ce)}_innerSub(Ie){const ce=new X.IY(this),ve=this.destination;ve.add(ce);const re=(0,X.ft)(Ie,ce);re!==ce&&ve.add(re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ie){this.destination.next(Ie)}notifyComplete(){const Ie=this.buffer;this.active--,Ie.length>0?this._next(Ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(nn,dt,B)=>{"use strict";B.d(dt,{ht:()=>Ie,QV:()=>xe});var u=B(3489),te=B(8896),X=B(1086),ze=B(1737);class ue{constructor(re,fe,Ye){this.kind=re,this.value=fe,this.error=Ye,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,fe,Ye){switch(this.kind){case"N":return re&&re(this.value);case"E":return fe&&fe(this.error);case"C":return Ye&&Ye()}}accept(re,fe,Ye){return re&&"function"==typeof re.next?this.observe(re):this.do(re,fe,Ye)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return(0,ze._)(this.error);case"C":return(0,te.c)()}throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new ue("N",re):ue.undefinedValueNotification}static createError(re){return new ue("E",void 0,re)}static createComplete(){return ue.completeNotification}}function xe(ve,re=0){return function(Ye){return Ye.lift(new De(ve,re))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class De{constructor(re,fe=0){this.scheduler=re,this.delay=fe}call(re,fe){return fe.subscribe(new Ie(re,this.scheduler,this.delay))}}class Ie extends u.L{constructor(re,fe,Ye=0){super(re),this.scheduler=fe,this.delay=Ye}static dispatch(re){const{notification:fe,destination:Ye}=re;fe.observe(Ye),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(Ie.dispatch,this.delay,new ce(re,this.destination)))}_next(re){this.scheduleMessage(ue.createNext(re))}_error(re){this.scheduleMessage(ue.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class ce{constructor(re,fe){this.notification=re,this.destination=fe}}},4327:(nn,dt,B)=>{"use strict";B.d(dt,{x:()=>te});var u=B(3489);function te(){return function(ue){return ue.lift(new X(ue))}}class X{constructor(ue){this.connectable=ue}call(ue,xe){const{connectable:De}=this;De._refCount++;const Ie=new ze(ue,De),ce=xe.subscribe(Ie);return Ie.closed||(Ie.connection=De.connect()),ce}}class ze extends u.L{constructor(ue,xe){super(ue),this.connectable=xe}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const xe=ue._refCount;if(xe<=0)return void(this.connection=null);if(ue._refCount=xe-1,xe>1)return void(this.connection=null);const{connection:De}=this,Ie=ue._connection;this.connection=null,Ie&&(!De||Ie===De)&&Ie.unsubscribe()}}},2014:(nn,dt,B)=>{"use strict";B.d(dt,{R:()=>te});var u=B(3489);function te(Be,ue){let xe=!1;return arguments.length>=2&&(xe=!0),function(Ie){return Ie.lift(new X(Be,ue,xe))}}class X{constructor(ue,xe,De=!1){this.accumulator=ue,this.seed=xe,this.hasSeed=De}call(ue,xe){return xe.subscribe(new ze(ue,this.accumulator,this.seed,this.hasSeed))}}class ze extends u.L{constructor(ue,xe,De,Ie){super(ue),this.accumulator=xe,this._seed=De,this.hasSeed=Ie,this.index=0}get seed(){return this._seed}set seed(ue){this.hasSeed=!0,this._seed=ue}_next(ue){if(this.hasSeed)return this._tryNext(ue);this.seed=ue,this.destination.next(ue)}_tryNext(ue){const xe=this.index++;let De;try{De=this.accumulator(this.seed,ue,xe)}catch(Ie){this.destination.error(Ie)}this.seed=De,this.destination.next(De)}}},2474:(nn,dt,B)=>{"use strict";B.d(dt,{B:()=>xe});var u=B(1762);class X{constructor(Ie,ce){this.subjectFactory=Ie,this.selector=ce}call(Ie,ce){const{selector:ve}=this,re=this.subjectFactory(),fe=ve(re).subscribe(Ie);return fe.add(ce.subscribe(re)),fe}}var ze=B(4327),Be=B(8929);function ue(){return new Be.xQ}function xe(){return De=>(0,ze.x)()(function te(De,Ie){return function(ve){let re;if(re="function"==typeof De?De:function(){return De},"function"==typeof Ie)return ve.lift(new X(re,Ie));const fe=Object.create(ve,u.N);return fe.source=ve,fe.subjectFactory=re,fe}}(ue)(De))}},1059:(nn,dt,B)=>{"use strict";B.d(dt,{O:()=>X});var u=B(1221),te=B(2866);function X(...ze){const Be=ze[ze.length-1];return(0,te.K)(Be)?(ze.pop(),ue=>(0,u.z)(ze,ue,Be)):ue=>(0,u.z)(ze,ue)}},8915:(nn,dt,B)=>{"use strict";B.d(dt,{R:()=>Fe});var u=B(2916);let te=1;const X=Promise.resolve(),ze={};function Be(gt){return gt in ze&&(delete ze[gt],!0)}const ue={setImmediate(gt){const we=te++;return ze[we]=!0,X.then(()=>Be(we)&&gt()),we},clearImmediate(gt){Be(gt)}};var De=B(6686),ce=B(2268);const fe=new class ve extends ce.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:lt}=this;let It,Mt=-1,Xe=lt.length;we=we||lt.shift();do{if(It=we.execute(we.state,we.delay))break}while(++Mt<Xe&&(we=lt.shift()));if(this.active=!1,It){for(;++Mt<Xe&&(we=lt.shift());)we.unsubscribe();throw It}}}(class Ie extends De.o{constructor(we,lt){super(we,lt),this.scheduler=we,this.work=lt}requestAsyncId(we,lt,It=0){return null!==It&&It>0?super.requestAsyncId(we,lt,It):(we.actions.push(this),we.scheduled||(we.scheduled=ue.setImmediate(we.flush.bind(we,null))))}recycleAsyncId(we,lt,It=0){if(null!==It&&It>0||null===It&&this.delay>0)return super.recycleAsyncId(we,lt,It);0===we.actions.length&&(ue.clearImmediate(lt),we.scheduled=void 0)}});var Ye=B(6688);class Ee extends u.y{constructor(we,lt=0,It=fe){super(),this.source=we,this.delayTime=lt,this.scheduler=It,(!function Ue(gt){return!(0,Ye.k)(gt)&&gt-parseFloat(gt)+1>=0}(lt)||lt<0)&&(this.delayTime=0),(!It||"function"!=typeof It.schedule)&&(this.scheduler=fe)}static create(we,lt=0,It=fe){return new Ee(we,lt,It)}static dispatch(we){const{source:lt,subscriber:It}=we;return this.add(lt.subscribe(It))}_subscribe(we){return this.scheduler.schedule(Ee.dispatch,this.delayTime,{source:this.source,subscriber:we})}}function Fe(gt,we=0){return function(It){return It.lift(new je(gt,we))}}class je{constructor(we,lt){this.scheduler=we,this.delay=lt}call(we,lt){return new Ee(lt,this.delay,this.scheduler).subscribe(we)}}},7545:(nn,dt,B)=>{"use strict";B.d(dt,{w:()=>ze});var u=B(4850),te=B(5254),X=B(1177);function ze(xe,De){return"function"==typeof De?Ie=>Ie.pipe(ze((ce,ve)=>(0,te.D)(xe(ce,ve)).pipe((0,u.U)((re,fe)=>De(ce,re,ve,fe))))):Ie=>Ie.lift(new Be(xe))}class Be{constructor(De){this.project=De}call(De,Ie){return Ie.subscribe(new ue(De,this.project))}}class ue extends X.Ds{constructor(De,Ie){super(De),this.project=Ie,this.index=0}_next(De){let Ie;const ce=this.index++;try{Ie=this.project(De,ce)}catch(ve){return void this.destination.error(ve)}this._innerSub(Ie)}_innerSub(De){const Ie=this.innerSubscription;Ie&&Ie.unsubscribe();const ce=new X.IY(this),ve=this.destination;ve.add(ce),this.innerSubscription=(0,X.ft)(De,ce),this.innerSubscription!==ce&&ve.add(this.innerSubscription)}_complete(){const{innerSubscription:De}=this;(!De||De.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(De){this.destination.next(De)}}},2986:(nn,dt,B)=>{"use strict";B.d(dt,{q:()=>ze});var u=B(3489),te=B(4231),X=B(8896);function ze(xe){return De=>0===xe?(0,X.c)():De.lift(new Be(xe))}class Be{constructor(De){if(this.total=De,this.total<0)throw new te.W}call(De,Ie){return Ie.subscribe(new ue(De,this.total))}}class ue extends u.L{constructor(De,Ie){super(De),this.total=Ie,this.count=0}_next(De){const Ie=this.total,ce=++this.count;ce<=Ie&&(this.destination.next(De),ce===Ie&&(this.destination.complete(),this.unsubscribe()))}}},2868:(nn,dt,B)=>{"use strict";B.d(dt,{b:()=>ze});var u=B(3489);function te(){}var X=B(7043);function ze(xe,De,Ie){return function(ve){return ve.lift(new Be(xe,De,Ie))}}class Be{constructor(De,Ie,ce){this.nextOrObserver=De,this.error=Ie,this.complete=ce}call(De,Ie){return Ie.subscribe(new ue(De,this.nextOrObserver,this.error,this.complete))}}class ue extends u.L{constructor(De,Ie,ce,ve){super(De),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=ce||te,this._tapComplete=ve||te,(0,X.m)(Ie)?(this._context=this,this._tapNext=Ie):Ie&&(this._context=Ie,this._tapNext=Ie.next||te,this._tapError=Ie.error||te,this._tapComplete=Ie.complete||te)}_next(De){try{this._tapNext.call(this._context,De)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(De)}_error(De){try{this._tapError.call(this._context,De)}catch(Ie){return void this.destination.error(Ie)}this.destination.error(De)}_complete(){try{this._tapComplete.call(this._context)}catch(De){return void this.destination.error(De)}return this.destination.complete()}}},4907:(nn,dt,B)=>{"use strict";B.d(dt,{T:()=>X});var u=B(4450),te=B(3489);function X(xe=ue){return De=>De.lift(new ze(xe))}class ze{constructor(De){this.errorFactory=De}call(De,Ie){return Ie.subscribe(new Be(De,this.errorFactory))}}class Be extends te.L{constructor(De,Ie){super(De),this.errorFactory=Ie,this.hasValue=!1}_next(De){this.hasValue=!0,this.destination.next(De)}_complete(){if(this.hasValue)return this.destination.complete();{let De;try{De=this.errorFactory()}catch(Ie){De=Ie}this.destination.error(De)}}}function ue(){return new u.K}},6454:(nn,dt,B)=>{"use strict";B.d(dt,{r:()=>X});var u=B(2916),te=B(2654);function X(ze,Be){return new u.y(ue=>{const xe=new te.w;let De=0;return xe.add(Be.schedule(function(){De!==ze.length?(ue.next(ze[De++]),ue.closed||xe.add(this.schedule())):ue.complete()})),xe})}},6686:(nn,dt,B)=>{"use strict";B.d(dt,{o:()=>X});var u=B(2654);class te extends u.w{constructor(Be,ue){super()}schedule(Be,ue=0){return this}}class X extends te{constructor(Be,ue){super(Be,ue),this.scheduler=Be,this.work=ue,this.pending=!1}schedule(Be,ue=0){if(this.closed)return this;this.state=Be;const xe=this.id,De=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(De,xe,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(De,this.id,ue),this}requestAsyncId(Be,ue,xe=0){return setInterval(Be.flush.bind(Be,this),xe)}recycleAsyncId(Be,ue,xe=0){if(null!==xe&&this.delay===xe&&!1===this.pending)return ue;clearInterval(ue)}execute(Be,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Be,ue);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,ue){let De,xe=!1;try{this.work(Be)}catch(Ie){xe=!0,De=!!Ie&&Ie||new Error(Ie)}if(xe)return this.unsubscribe(),De}_unsubscribe(){const Be=this.id,ue=this.scheduler,xe=ue.actions,De=xe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==De&&xe.splice(De,1),null!=Be&&(this.id=this.recycleAsyncId(ue,Be,null)),this.delay=null}}},2268:(nn,dt,B)=>{"use strict";B.d(dt,{v:()=>te});let u=(()=>{class X{constructor(Be,ue=X.now){this.SchedulerAction=Be,this.now=ue}schedule(Be,ue=0,xe){return new this.SchedulerAction(this,Be).schedule(xe,ue)}}return X.now=()=>Date.now(),X})();class te extends u{constructor(ze,Be=u.now){super(ze,()=>te.delegate&&te.delegate!==this?te.delegate.now():Be()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ze,Be=0,ue){return te.delegate&&te.delegate!==this?te.delegate.schedule(ze,Be,ue):super.schedule(ze,Be,ue)}flush(ze){const{actions:Be}=this;if(this.active)return void Be.push(ze);let ue;this.active=!0;do{if(ue=ze.execute(ze.state,ze.delay))break}while(ze=Be.shift());if(this.active=!1,ue){for(;ze=Be.shift();)ze.unsubscribe();throw ue}}}},353:(nn,dt,B)=>{"use strict";B.d(dt,{z:()=>X,P:()=>ze});var u=B(6686);const X=new(B(2268).v)(u.o),ze=X},341:(nn,dt,B)=>{"use strict";B.d(dt,{c:()=>ue,N:()=>Be});var u=B(6686),X=B(2268);const Be=new class ze extends X.v{}(class te extends u.o{constructor(De,Ie){super(De,Ie),this.scheduler=De,this.work=Ie}schedule(De,Ie=0){return Ie>0?super.schedule(De,Ie):(this.delay=Ie,this.state=De,this.scheduler.flush(this),this)}execute(De,Ie){return Ie>0||this.closed?super.execute(De,Ie):this._execute(De,Ie)}requestAsyncId(De,Ie,ce=0){return null!==ce&&ce>0||null===ce&&this.delay>0?super.requestAsyncId(De,Ie,ce):De.flush(this)}}),ue=Be},5430:(nn,dt,B)=>{"use strict";B.d(dt,{hZ:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(nn,dt,B)=>{"use strict";B.d(dt,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(nn,dt,B)=>{"use strict";B.d(dt,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(nn,dt,B)=>{"use strict";B.d(dt,{W:()=>te});const te=(()=>{function X(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return X.prototype=Object.create(Error.prototype),X})()},4450:(nn,dt,B)=>{"use strict";B.d(dt,{K:()=>te});const te=(()=>{function X(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return X.prototype=Object.create(Error.prototype),X})()},5279:(nn,dt,B)=>{"use strict";B.d(dt,{N:()=>te});const te=(()=>{function X(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return X.prototype=Object.create(Error.prototype),X})()},2782:(nn,dt,B)=>{"use strict";function u(te){setTimeout(()=>{throw te},0)}B.d(dt,{z:()=>u})},5379:(nn,dt,B)=>{"use strict";function u(te){return te}B.d(dt,{y:()=>u})},6688:(nn,dt,B)=>{"use strict";B.d(dt,{k:()=>u});const u=Array.isArray||(te=>te&&"number"==typeof te.length)},8515:(nn,dt,B)=>{"use strict";B.d(dt,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},7043:(nn,dt,B)=>{"use strict";function u(te){return"function"==typeof te}B.d(dt,{m:()=>u})},7830:(nn,dt,B)=>{"use strict";function u(te){return null!==te&&"object"==typeof te}B.d(dt,{K:()=>u})},8955:(nn,dt,B)=>{"use strict";function u(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}B.d(dt,{t:()=>u})},2866:(nn,dt,B)=>{"use strict";function u(te){return te&&"function"==typeof te.schedule}B.d(dt,{K:()=>u})},9249:(nn,dt,B)=>{"use strict";B.d(dt,{s:()=>ve});var u=B(3650),te=B(2782),ze=B(5430),ue=B(3821),De=B(8515),Ie=B(8955),ce=B(7830);const ve=re=>{if(re&&"function"==typeof re[ue.L])return(re=>fe=>{const Ye=re[ue.L]();if("function"!=typeof Ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ye.subscribe(fe)})(re);if((0,De.z)(re))return(0,u.V)(re);if((0,Ie.t)(re))return(re=>fe=>(re.then(Ye=>{fe.closed||(fe.next(Ye),fe.complete())},Ye=>fe.error(Ye)).then(null,te.z),fe))(re);if(re&&"function"==typeof re[ze.hZ])return(re=>fe=>{const Ye=re[ze.hZ]();for(;;){let Ue;try{Ue=Ye.next()}catch(Ee){return fe.error(Ee),fe}if(Ue.done){fe.complete();break}if(fe.next(Ue.value),fe.closed)break}return"function"==typeof Ye.return&&fe.add(()=>{Ye.return&&Ye.return()}),fe})(re);{const Ye=`You provided ${(0,ce.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ye)}}},3650:(nn,dt,B)=>{"use strict";B.d(dt,{V:()=>u});const u=te=>X=>{for(let ze=0,Be=te.length;ze<Be&&!X.closed;ze++)X.next(te[ze]);X.complete()}},448:(nn,dt,B)=>{"use strict";B.d(dt,{D:()=>Be});var u=B(3489);class te extends u.L{constructor(xe,De,Ie){super(),this.parent=xe,this.outerValue=De,this.outerIndex=Ie,this.index=0}_next(xe){this.parent.notifyNext(this.outerValue,xe,this.outerIndex,this.index++,this)}_error(xe){this.parent.notifyError(xe,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var X=B(9249),ze=B(2916);function Be(ue,xe,De,Ie,ce=new te(ue,De,Ie)){if(!ce.closed)return xe instanceof ze.y?xe.subscribe(ce):(0,X.s)(xe)(ce)}},863:(nn,dt,B)=>{var u={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function te(X){if(!B.o(u,X))return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+X+"'");throw ue.code="MODULE_NOT_FOUND",ue});var ze=u[X],Be=ze[0];return Promise.all(ze.slice(1).map(B.e)).then(()=>B(Be))}te.keys=()=>Object.keys(u),te.id=863,nn.exports=te},655:(nn,dt,B)=>{"use strict";function ze(Ae,he){var _e={};for(var He in Ae)Object.prototype.hasOwnProperty.call(Ae,He)&&he.indexOf(He)<0&&(_e[He]=Ae[He]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(He=Object.getOwnPropertySymbols(Ae);Je<He.length;Je++)he.indexOf(He[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ae,He[Je])&&(_e[He[Je]]=Ae[He[Je]])}return _e}function Be(Ae,he,_e,He){var Wt,Je=arguments.length,St=Je<3?he:null===He?He=Object.getOwnPropertyDescriptor(he,_e):He;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(Ae,he,_e,He);else for(var pt=Ae.length-1;pt>=0;pt--)(Wt=Ae[pt])&&(St=(Je<3?Wt(St):Je>3?Wt(he,_e,St):Wt(he,_e))||St);return Je>3&&St&&Object.defineProperty(he,_e,St),St}function De(Ae,he,_e,He){return new(_e||(_e=Promise))(function(St,Wt){function pt(at){try{qe(He.next(at))}catch(mt){Wt(mt)}}function _t(at){try{qe(He.throw(at))}catch(mt){Wt(mt)}}function qe(at){at.done?St(at.value):function Je(St){return St instanceof _e?St:new _e(function(Wt){Wt(St)})}(at.value).then(pt,_t)}qe((He=He.apply(Ae,he||[])).next())})}B.d(dt,{_T:()=>ze,gn:()=>Be,mG:()=>De})},9808:(nn,dt,B)=>{"use strict";B.d(dt,{mr:()=>gt,Ov:()=>vt,ez:()=>ho,K0:()=>xe,Do:()=>lt,V_:()=>ce,Ye:()=>It,S$:()=>Fe,sg:()=>ii,O5:()=>J,tP:()=>kn,b0:()=>we,lw:()=>De,EM:()=>bs,JF:()=>Tr,PM:()=>Es,w_:()=>ue,bD:()=>$s,q:()=>X,Mx:()=>Zi,HT:()=>Be});var u=B(5e3);let te=null;function X(){return te}function Be(j){te||(te=j)}class ue{}const xe=new u.OlP("DocumentToken");let De=(()=>{class j{historyGo($){throw new Error("Not implemented")}}return j.\u0275fac=function($){return new($||j)},j.\u0275prov=u.Yz7({token:j,factory:function(){return function Ie(){return(0,u.LFG)(ve)}()},providedIn:"platform"}),j})();const ce=new u.OlP("Location Initialized");let ve=(()=>{class j extends De{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState($){const de=X().getGlobalEventTarget(this._doc,"window");return de.addEventListener("popstate",$,!1),()=>de.removeEventListener("popstate",$)}onHashChange($){const de=X().getGlobalEventTarget(this._doc,"window");return de.addEventListener("hashchange",$,!1),()=>de.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,de,nt){re()?this._history.pushState($,de,nt):this.location.hash=nt}replaceState($,de,nt){re()?this._history.replaceState($,de,nt):this.location.hash=nt}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return j.\u0275fac=function($){return new($||j)(u.LFG(xe))},j.\u0275prov=u.Yz7({token:j,factory:function(){return function fe(){return new ve((0,u.LFG)(xe))}()},providedIn:"platform"}),j})();function re(){return!!window.history.pushState}function Ye(j,se){if(0==j.length)return se;if(0==se.length)return j;let $=0;return j.endsWith("/")&&$++,se.startsWith("/")&&$++,2==$?j+se.substring(1):1==$?j+se:j+"/"+se}function Ue(j){const se=j.match(/#|\?|$/),$=se&&se.index||j.length;return j.slice(0,$-("/"===j[$-1]?1:0))+j.slice($)}function Ee(j){return j&&"?"!==j[0]?"?"+j:j}let Fe=(()=>{class j{historyGo($){throw new Error("Not implemented")}}return j.\u0275fac=function($){return new($||j)},j.\u0275prov=u.Yz7({token:j,factory:function(){return function je(j){const se=(0,u.LFG)(xe).location;return new we((0,u.LFG)(De),se&&se.origin||"")}()},providedIn:"root"}),j})();const gt=new u.OlP("appBaseHref");let we=(()=>{class j extends Fe{constructor($,de){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==de&&(de=this._platformLocation.getBaseHrefFromDOM()),null==de)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=de}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Ye(this._baseHref,$)}path($=!1){const de=this._platformLocation.pathname+Ee(this._platformLocation.search),nt=this._platformLocation.hash;return nt&&$?`${de}${nt}`:de}pushState($,de,nt,Ct){const Vt=this.prepareExternalUrl(nt+Ee(Ct));this._platformLocation.pushState($,de,Vt)}replaceState($,de,nt,Ct){const Vt=this.prepareExternalUrl(nt+Ee(Ct));this._platformLocation.replaceState($,de,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var de,nt;null===(nt=(de=this._platformLocation).historyGo)||void 0===nt||nt.call(de,$)}}return j.\u0275fac=function($){return new($||j)(u.LFG(De),u.LFG(gt,8))},j.\u0275prov=u.Yz7({token:j,factory:j.\u0275fac}),j})(),lt=(()=>{class j extends Fe{constructor($,de){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=de&&(this._baseHref=de)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let de=this._platformLocation.hash;return null==de&&(de="#"),de.length>0?de.substring(1):de}prepareExternalUrl($){const de=Ye(this._baseHref,$);return de.length>0?"#"+de:de}pushState($,de,nt,Ct){let Vt=this.prepareExternalUrl(nt+Ee(Ct));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState($,de,Vt)}replaceState($,de,nt,Ct){let Vt=this.prepareExternalUrl(nt+Ee(Ct));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState($,de,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var de,nt;null===(nt=(de=this._platformLocation).historyGo)||void 0===nt||nt.call(de,$)}}return j.\u0275fac=function($){return new($||j)(u.LFG(De),u.LFG(gt,8))},j.\u0275prov=u.Yz7({token:j,factory:j.\u0275fac}),j})(),It=(()=>{class j{constructor($,de){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const nt=this._platformStrategy.getBaseHref();this._platformLocation=de,this._baseHref=Ue(bt(nt)),this._platformStrategy.onPopState(Ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ct.state,type:Ct.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,de=""){return this.path()==this.normalize($+Ee(de))}normalize($){return j.stripTrailingSlash(function Xe(j,se){return j&&se.startsWith(j)?se.substring(j.length):se}(this._baseHref,bt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,de="",nt=null){this._platformStrategy.pushState(nt,"",$,de),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(de)),nt)}replaceState($,de="",nt=null){this._platformStrategy.replaceState(nt,"",$,de),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(de)),nt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var de,nt;null===(nt=(de=this._platformStrategy).historyGo)||void 0===nt||nt.call(de,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(de=>{this._notifyUrlChangeListeners(de.url,de.state)}))}_notifyUrlChangeListeners($="",de){this._urlChangeListeners.forEach(nt=>nt($,de))}subscribe($,de,nt){return this._subject.subscribe({next:$,error:de,complete:nt})}}return j.normalizeQueryParams=Ee,j.joinWithSlash=Ye,j.stripTrailingSlash=Ue,j.\u0275fac=function($){return new($||j)(u.LFG(Fe),u.LFG(De))},j.\u0275prov=u.Yz7({token:j,factory:function(){return function Mt(){return new It((0,u.LFG)(Fe),(0,u.LFG)(De))}()},providedIn:"root"}),j})();function bt(j){return j.replace(/\/index.html$/,"")}function Zi(j,se){se=encodeURIComponent(se);for(const $ of j.split(";")){const de=$.indexOf("="),[nt,Ct]=-1==de?[$,""]:[$.slice(0,de),$.slice(de+1)];if(nt.trim()===se)return decodeURIComponent(Ct)}return null}class Jr{constructor(se,$,de,nt){this.$implicit=se,this.ngForOf=$,this.index=de,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ii=(()=>{class j{constructor($,de,nt){this._viewContainer=$,this._template=de,this._differs=nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const de=this._viewContainer;$.forEachOperation((nt,Ct,Vt)=>{if(null==nt.previousIndex)de.createEmbeddedView(this._template,new Jr(nt.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)de.remove(null===Ct?void 0:Ct);else if(null!==Ct){const In=de.get(Ct);de.move(In,Vt),$i(In,nt)}});for(let nt=0,Ct=de.length;nt<Ct;nt++){const In=de.get(nt).context;In.index=nt,In.count=Ct,In.ngForOf=this._ngForOf}$.forEachIdentityChange(nt=>{$i(de.get(nt.currentIndex),nt)})}static ngTemplateContextGuard($,de){return!0}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();function $i(j,se){j.context.$implicit=se.item}let J=(()=>{class j{constructor($,de){this._viewContainer=$,this._context=new me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=de}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){W("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){W("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,de){return!0}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b),u.Y36(u.Rgc))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class me{constructor(){this.$implicit=null,this.ngIf=null}}function W(j,se){if(se&&!se.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,u.AaK)(se)}'.`)}let kn=(()=>{class j{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const de=this._viewContainerRef;this._viewRef&&de.remove(de.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?de.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.s_b))},j.\u0275dir=u.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),j})();class ti{createSubscription(se,$){return se.subscribe({next:$,error:de=>{throw de}})}dispose(se){se.unsubscribe()}onDestroy(se){se.unsubscribe()}}class yi{createSubscription(se,$){return se.then($,de=>{throw de})}dispose(se){}onDestroy(se){}}const rt=new yi,Qe=new ti;let vt=(()=>{class j{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,de=>this._updateLatestValue($,de))}_selectStrategy($){if((0,u.QGY)($))return rt;if((0,u.F4k)($))return Qe;throw function sr(j,se){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,de){$===this._obj&&(this._latestValue=de,this._ref.markForCheck())}}return j.\u0275fac=function($){return new($||j)(u.Y36(u.sBO,16))},j.\u0275pipe=u.Yjl({name:"async",type:j,pure:!1}),j})(),ho=(()=>{class j{}return j.\u0275fac=function($){return new($||j)},j.\u0275mod=u.oAB({type:j}),j.\u0275inj=u.cJS({}),j})();const $s="browser";function Es(j){return"server"===j}let bs=(()=>{class j{}return j.\u0275prov=(0,u.Yz7)({token:j,providedIn:"root",factory:()=>new ms((0,u.LFG)(xe),window)}),j})();class ms{constructor(se,$){this.document=se,this.window=$,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const $=function Xi(j,se){const $=j.getElementById(se)||j.getElementsByName(se)[0];if($)return $;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const de=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let nt=de.currentNode;for(;nt;){const Ct=nt.shadowRoot;if(Ct){const Vt=Ct.getElementById(se)||Ct.querySelector(`[name="${se}"]`);if(Vt)return Vt}nt=de.nextNode()}}return null}(this.document,se);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=se)}}scrollToElement(se){const $=se.getBoundingClientRect(),de=$.left+this.window.pageXOffset,nt=$.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(de-Ct[0],nt-Ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=ns(this.window.history)||ns(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function ns(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class Tr{}},520:(nn,dt,B)=>{"use strict";B.d(dt,{eN:()=>Je,JF:()=>ar});var u=B(9808),te=B(5e3),X=B(1086),ze=B(2916),Be=B(1406),ue=B(2198),xe=B(4850);class De{}class Ie{}class ce{constructor(Ke){this.normalizedNames=new Map,this.lazyUpdate=null,Ke?this.lazyInit="string"==typeof Ke?()=>{this.headers=new Map,Ke.split("\n").forEach(Se=>{const Yt=Se.indexOf(":");if(Yt>0){const Rt=Se.slice(0,Yt),qt=Rt.toLowerCase(),hn=Se.slice(Yt+1).trim();this.maybeSetNormalizedName(Rt,qt),this.headers.has(qt)?this.headers.get(qt).push(hn):this.headers.set(qt,[hn])}})}:()=>{this.headers=new Map,Object.keys(Ke).forEach(Se=>{let Yt=Ke[Se];const Rt=Se.toLowerCase();"string"==typeof Yt&&(Yt=[Yt]),Yt.length>0&&(this.headers.set(Rt,Yt),this.maybeSetNormalizedName(Se,Rt))})}:this.headers=new Map}has(Ke){return this.init(),this.headers.has(Ke.toLowerCase())}get(Ke){this.init();const Se=this.headers.get(Ke.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ke){return this.init(),this.headers.get(Ke.toLowerCase())||null}append(Ke,Se){return this.clone({name:Ke,value:Se,op:"a"})}set(Ke,Se){return this.clone({name:Ke,value:Se,op:"s"})}delete(Ke,Se){return this.clone({name:Ke,value:Se,op:"d"})}maybeSetNormalizedName(Ke,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,Ke)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ke=>this.applyUpdate(Ke)),this.lazyUpdate=null))}copyFrom(Ke){Ke.init(),Array.from(Ke.headers.keys()).forEach(Se=>{this.headers.set(Se,Ke.headers.get(Se)),this.normalizedNames.set(Se,Ke.normalizedNames.get(Se))})}clone(Ke){const Se=new ce;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([Ke]),Se}applyUpdate(Ke){const Se=Ke.name.toLowerCase();switch(Ke.op){case"a":case"s":let Yt=Ke.value;if("string"==typeof Yt&&(Yt=[Yt]),0===Yt.length)return;this.maybeSetNormalizedName(Ke.name,Se);const Rt=("a"===Ke.op?this.headers.get(Se):void 0)||[];Rt.push(...Yt),this.headers.set(Se,Rt);break;case"d":const qt=Ke.value;if(qt){let hn=this.headers.get(Se);if(!hn)return;hn=hn.filter(Xn=>-1===qt.indexOf(Xn)),0===hn.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,hn)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}forEach(Ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>Ke(this.normalizedNames.get(Se),this.headers.get(Se)))}}class ve{encodeKey(Ke){return Ue(Ke)}encodeValue(Ke){return Ue(Ke)}decodeKey(Ke){return decodeURIComponent(Ke)}decodeValue(Ke){return decodeURIComponent(Ke)}}const fe=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ue(yt){return encodeURIComponent(yt).replace(fe,(Ke,Se)=>{var Yt;return null!==(Yt=Ye[Se])&&void 0!==Yt?Yt:Ke})}function Ee(yt){return`${yt}`}class Fe{constructor(Ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ke.encoder||new ve,Ke.fromString){if(Ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function re(yt,Ke){const Se=new Map;return yt.length>0&&yt.replace(/^\?/,"").split("&").forEach(Rt=>{const qt=Rt.indexOf("="),[hn,Xn]=-1==qt?[Ke.decodeKey(Rt),""]:[Ke.decodeKey(Rt.slice(0,qt)),Ke.decodeValue(Rt.slice(qt+1))],Un=Se.get(hn)||[];Un.push(Xn),Se.set(hn,Un)}),Se}(Ke.fromString,this.encoder)}else Ke.fromObject?(this.map=new Map,Object.keys(Ke.fromObject).forEach(Se=>{const Yt=Ke.fromObject[Se];this.map.set(Se,Array.isArray(Yt)?Yt:[Yt])})):this.map=null}has(Ke){return this.init(),this.map.has(Ke)}get(Ke){this.init();const Se=this.map.get(Ke);return Se?Se[0]:null}getAll(Ke){return this.init(),this.map.get(Ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ke,Se){return this.clone({param:Ke,value:Se,op:"a"})}appendAll(Ke){const Se=[];return Object.keys(Ke).forEach(Yt=>{const Rt=Ke[Yt];Array.isArray(Rt)?Rt.forEach(qt=>{Se.push({param:Yt,value:qt,op:"a"})}):Se.push({param:Yt,value:Rt,op:"a"})}),this.clone(Se)}set(Ke,Se){return this.clone({param:Ke,value:Se,op:"s"})}delete(Ke,Se){return this.clone({param:Ke,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(Ke=>{const Se=this.encoder.encodeKey(Ke);return this.map.get(Ke).map(Yt=>Se+"="+this.encoder.encodeValue(Yt)).join("&")}).filter(Ke=>""!==Ke).join("&")}clone(Ke){const Se=new Fe({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(Ke),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ke=>this.map.set(Ke,this.cloneFrom.map.get(Ke))),this.updates.forEach(Ke=>{switch(Ke.op){case"a":case"s":const Se=("a"===Ke.op?this.map.get(Ke.param):void 0)||[];Se.push(Ee(Ke.value)),this.map.set(Ke.param,Se);break;case"d":if(void 0===Ke.value){this.map.delete(Ke.param);break}{let Yt=this.map.get(Ke.param)||[];const Rt=Yt.indexOf(Ee(Ke.value));-1!==Rt&&Yt.splice(Rt,1),Yt.length>0?this.map.set(Ke.param,Yt):this.map.delete(Ke.param)}}}),this.cloneFrom=this.updates=null)}}class gt{constructor(){this.map=new Map}set(Ke,Se){return this.map.set(Ke,Se),this}get(Ke){return this.map.has(Ke)||this.map.set(Ke,Ke.defaultValue()),this.map.get(Ke)}delete(Ke){return this.map.delete(Ke),this}has(Ke){return this.map.has(Ke)}keys(){return this.map.keys()}}function lt(yt){return"undefined"!=typeof ArrayBuffer&&yt instanceof ArrayBuffer}function It(yt){return"undefined"!=typeof Blob&&yt instanceof Blob}function Mt(yt){return"undefined"!=typeof FormData&&yt instanceof FormData}class bt{constructor(Ke,Se,Yt,Rt){let qt;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ke.toUpperCase(),function we(yt){switch(yt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Rt?(this.body=void 0!==Yt?Yt:null,qt=Rt):qt=Yt,qt&&(this.reportProgress=!!qt.reportProgress,this.withCredentials=!!qt.withCredentials,qt.responseType&&(this.responseType=qt.responseType),qt.headers&&(this.headers=qt.headers),qt.context&&(this.context=qt.context),qt.params&&(this.params=qt.params)),this.headers||(this.headers=new ce),this.context||(this.context=new gt),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=Se;else{const Xn=Se.indexOf("?");this.urlWithParams=Se+(-1===Xn?"?":Xn<Se.length-1?"&":"")+hn}}else this.params=new Fe,this.urlWithParams=Se}serializeBody(){return null===this.body?null:lt(this.body)||It(this.body)||Mt(this.body)||function Xe(yt){return"undefined"!=typeof URLSearchParams&&yt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mt(this.body)?null:It(this.body)?this.body.type||null:lt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ke={}){var Se;const Yt=Ke.method||this.method,Rt=Ke.url||this.url,qt=Ke.responseType||this.responseType,hn=void 0!==Ke.body?Ke.body:this.body,Xn=void 0!==Ke.withCredentials?Ke.withCredentials:this.withCredentials,Un=void 0!==Ke.reportProgress?Ke.reportProgress:this.reportProgress;let xn=Ke.headers||this.headers,On=Ke.params||this.params;const pr=null!==(Se=Ke.context)&&void 0!==Se?Se:this.context;return void 0!==Ke.setHeaders&&(xn=Object.keys(Ke.setHeaders).reduce((yr,Me)=>yr.set(Me,Ke.setHeaders[Me]),xn)),Ke.setParams&&(On=Object.keys(Ke.setParams).reduce((yr,Me)=>yr.set(Me,Ke.setParams[Me]),On)),new bt(Yt,Rt,hn,{params:On,headers:xn,context:pr,reportProgress:Un,responseType:qt,withCredentials:Xn})}}var ye=(()=>((ye=ye||{})[ye.Sent=0]="Sent",ye[ye.UploadProgress=1]="UploadProgress",ye[ye.ResponseHeader=2]="ResponseHeader",ye[ye.DownloadProgress=3]="DownloadProgress",ye[ye.Response=4]="Response",ye[ye.User=5]="User",ye))();class Oe{constructor(Ke,Se=200,Yt="OK"){this.headers=Ke.headers||new ce,this.status=void 0!==Ke.status?Ke.status:Se,this.statusText=Ke.statusText||Yt,this.url=Ke.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends Oe{constructor(Ke={}){super(Ke),this.type=ye.ResponseHeader}clone(Ke={}){return new Ae({headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class he extends Oe{constructor(Ke={}){super(Ke),this.type=ye.Response,this.body=void 0!==Ke.body?Ke.body:null}clone(Ke={}){return new he({body:void 0!==Ke.body?Ke.body:this.body,headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class _e extends Oe{constructor(Ke){super(Ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ke.url||"(unknown url)"}`:`Http failure response for ${Ke.url||"(unknown url)"}: ${Ke.status} ${Ke.statusText}`,this.error=Ke.error||null}}function He(yt,Ke){return{body:Ke,headers:yt.headers,context:yt.context,observe:yt.observe,params:yt.params,reportProgress:yt.reportProgress,responseType:yt.responseType,withCredentials:yt.withCredentials}}let Je=(()=>{class yt{constructor(Se){this.handler=Se}request(Se,Yt,Rt={}){let qt;if(Se instanceof bt)qt=Se;else{let Un,xn;Un=Rt.headers instanceof ce?Rt.headers:new ce(Rt.headers),Rt.params&&(xn=Rt.params instanceof Fe?Rt.params:new Fe({fromObject:Rt.params})),qt=new bt(Se,Yt,void 0!==Rt.body?Rt.body:null,{headers:Un,context:Rt.context,params:xn,reportProgress:Rt.reportProgress,responseType:Rt.responseType||"json",withCredentials:Rt.withCredentials})}const hn=(0,X.of)(qt).pipe((0,Be.b)(Un=>this.handler.handle(Un)));if(Se instanceof bt||"events"===Rt.observe)return hn;const Xn=hn.pipe((0,ue.h)(Un=>Un instanceof he));switch(Rt.observe||"body"){case"body":switch(qt.responseType){case"arraybuffer":return Xn.pipe((0,xe.U)(Un=>{if(null!==Un.body&&!(Un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Un.body}));case"blob":return Xn.pipe((0,xe.U)(Un=>{if(null!==Un.body&&!(Un.body instanceof Blob))throw new Error("Response is not a Blob.");return Un.body}));case"text":return Xn.pipe((0,xe.U)(Un=>{if(null!==Un.body&&"string"!=typeof Un.body)throw new Error("Response is not a string.");return Un.body}));default:return Xn.pipe((0,xe.U)(Un=>Un.body))}case"response":return Xn;default:throw new Error(`Unreachable: unhandled observe type ${Rt.observe}}`)}}delete(Se,Yt={}){return this.request("DELETE",Se,Yt)}get(Se,Yt={}){return this.request("GET",Se,Yt)}head(Se,Yt={}){return this.request("HEAD",Se,Yt)}jsonp(Se,Yt){return this.request("JSONP",Se,{params:(new Fe).append(Yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,Yt={}){return this.request("OPTIONS",Se,Yt)}patch(Se,Yt,Rt={}){return this.request("PATCH",Se,He(Rt,Yt))}post(Se,Yt,Rt={}){return this.request("POST",Se,He(Rt,Yt))}put(Se,Yt,Rt={}){return this.request("PUT",Se,He(Rt,Yt))}}return yt.\u0275fac=function(Se){return new(Se||yt)(te.LFG(De))},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})();class St{constructor(Ke,Se){this.next=Ke,this.interceptor=Se}handle(Ke){return this.interceptor.intercept(Ke,this.next)}}const Wt=new te.OlP("HTTP_INTERCEPTORS");let pt=(()=>{class yt{intercept(Se,Yt){return Yt.handle(Se)}}return yt.\u0275fac=function(Se){return new(Se||yt)},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const en=/^\)\]\}',?\n/;let Rn=(()=>{class yt{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ze.y(Yt=>{const Rt=this.xhrFactory.build();if(Rt.open(Se.method,Se.urlWithParams),Se.withCredentials&&(Rt.withCredentials=!0),Se.headers.forEach((Me,We)=>Rt.setRequestHeader(Me,We.join(","))),Se.headers.has("Accept")||Rt.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const Me=Se.detectContentTypeHeader();null!==Me&&Rt.setRequestHeader("Content-Type",Me)}if(Se.responseType){const Me=Se.responseType.toLowerCase();Rt.responseType="json"!==Me?Me:"text"}const qt=Se.serializeBody();let hn=null;const Xn=()=>{if(null!==hn)return hn;const Me=Rt.statusText||"OK",We=new ce(Rt.getAllResponseHeaders()),tt=function pn(yt){return"responseURL"in yt&&yt.responseURL?yt.responseURL:/^X-Request-URL:/m.test(yt.getAllResponseHeaders())?yt.getResponseHeader("X-Request-URL"):null}(Rt)||Se.url;return hn=new Ae({headers:We,status:Rt.status,statusText:Me,url:tt}),hn},Un=()=>{let{headers:Me,status:We,statusText:tt,url:Nt}=Xn(),Ge=null;204!==We&&(Ge=void 0===Rt.response?Rt.responseText:Rt.response),0===We&&(We=Ge?200:0);let ut=We>=200&&We<300;if("json"===Se.responseType&&"string"==typeof Ge){const Zt=Ge;Ge=Ge.replace(en,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(on){Ge=Zt,ut&&(ut=!1,Ge={error:on,text:Ge})}}ut?(Yt.next(new he({body:Ge,headers:Me,status:We,statusText:tt,url:Nt||void 0})),Yt.complete()):Yt.error(new _e({error:Ge,headers:Me,status:We,statusText:tt,url:Nt||void 0}))},xn=Me=>{const{url:We}=Xn(),tt=new _e({error:Me,status:Rt.status||0,statusText:Rt.statusText||"Unknown Error",url:We||void 0});Yt.error(tt)};let On=!1;const pr=Me=>{On||(Yt.next(Xn()),On=!0);let We={type:ye.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(We.total=Me.total),"text"===Se.responseType&&!!Rt.responseText&&(We.partialText=Rt.responseText),Yt.next(We)},yr=Me=>{let We={type:ye.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(We.total=Me.total),Yt.next(We)};return Rt.addEventListener("load",Un),Rt.addEventListener("error",xn),Rt.addEventListener("timeout",xn),Rt.addEventListener("abort",xn),Se.reportProgress&&(Rt.addEventListener("progress",pr),null!==qt&&Rt.upload&&Rt.upload.addEventListener("progress",yr)),Rt.send(qt),Yt.next({type:ye.Sent}),()=>{Rt.removeEventListener("error",xn),Rt.removeEventListener("abort",xn),Rt.removeEventListener("load",Un),Rt.removeEventListener("timeout",xn),Se.reportProgress&&(Rt.removeEventListener("progress",pr),null!==qt&&Rt.upload&&Rt.upload.removeEventListener("progress",yr)),Rt.readyState!==Rt.DONE&&Rt.abort()}})}}return yt.\u0275fac=function(Se){return new(Se||yt)(te.LFG(u.JF))},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const gn=new te.OlP("XSRF_COOKIE_NAME"),dn=new te.OlP("XSRF_HEADER_NAME");class Wn{}let jr=(()=>{class yt{constructor(Se,Yt,Rt){this.doc=Se,this.platform=Yt,this.cookieName=Rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}}return yt.\u0275fac=function(Se){return new(Se||yt)(te.LFG(u.K0),te.LFG(te.Lbi),te.LFG(gn))},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})(),Gn=(()=>{class yt{constructor(Se,Yt){this.tokenService=Se,this.headerName=Yt}intercept(Se,Yt){const Rt=Se.url.toLowerCase();if("GET"===Se.method||"HEAD"===Se.method||Rt.startsWith("http://")||Rt.startsWith("https://"))return Yt.handle(Se);const qt=this.tokenService.getToken();return null!==qt&&!Se.headers.has(this.headerName)&&(Se=Se.clone({headers:Se.headers.set(this.headerName,qt)})),Yt.handle(Se)}}return yt.\u0275fac=function(Se){return new(Se||yt)(te.LFG(Wn),te.LFG(dn))},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})(),zn=(()=>{class yt{constructor(Se,Yt){this.backend=Se,this.injector=Yt,this.chain=null}handle(Se){if(null===this.chain){const Yt=this.injector.get(Wt,[]);this.chain=Yt.reduceRight((Rt,qt)=>new St(Rt,qt),this.backend)}return this.chain.handle(Se)}}return yt.\u0275fac=function(Se){return new(Se||yt)(te.LFG(Ie),te.LFG(te.zs3))},yt.\u0275prov=te.Yz7({token:yt,factory:yt.\u0275fac}),yt})(),ur=(()=>{class yt{static disable(){return{ngModule:yt,providers:[{provide:Gn,useClass:pt}]}}static withOptions(Se={}){return{ngModule:yt,providers:[Se.cookieName?{provide:gn,useValue:Se.cookieName}:[],Se.headerName?{provide:dn,useValue:Se.headerName}:[]]}}}return yt.\u0275fac=function(Se){return new(Se||yt)},yt.\u0275mod=te.oAB({type:yt}),yt.\u0275inj=te.cJS({providers:[Gn,{provide:Wt,useExisting:Gn,multi:!0},{provide:Wn,useClass:jr},{provide:gn,useValue:"XSRF-TOKEN"},{provide:dn,useValue:"X-XSRF-TOKEN"}]}),yt})(),ar=(()=>{class yt{}return yt.\u0275fac=function(Se){return new(Se||yt)},yt.\u0275mod=te.oAB({type:yt}),yt.\u0275inj=te.cJS({providers:[Je,{provide:De,useClass:zn},Rn,{provide:Ie,useExisting:Rn}],imports:[[ur.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),yt})()},5e3:(nn,dt,B)=>{"use strict";B.d(dt,{deG:()=>rl,tb:()=>pE,AFp:()=>cE,ip1:()=>uE,CZH:()=>bv,hGG:()=>aI,z2F:()=>Av,sBO:()=>zw,Sil:()=>Dw,_Vd:()=>t_,EJc:()=>Iw,SBq:()=>Mm,qLn:()=>ku,vpe:()=>cd,tBr:()=>Mi,XFs:()=>tn,OlP:()=>os,zs3:()=>yl,ZZ4:()=>kv,aQg:()=>Nv,soG:()=>Iv,YKP:()=>I0,h0i:()=>pg,PXZ:()=>Lw,R0b:()=>bc,FiY:()=>$a,Lbi:()=>fE,g9A:()=>hE,Qsj:()=>vb,FYo:()=>_0,JOm:()=>K,tp0:()=>Cl,Rgc:()=>km,dDg:()=>_E,q4F:()=>E0,GfV:()=>v0,s_b:()=>i_,ifc:()=>Rt,eFA:()=>bE,G48:()=>Gw,Gpc:()=>ve,X6Q:()=>Hw,_c5:()=>oI,VLi:()=>kw,c2e:()=>gE,zSh:()=>xg,wAp:()=>xr,vHH:()=>Ue,cg1:()=>ag,kL8:()=>Xh,dqk:()=>xn,sIi:()=>Hf,CqO:()=>lm,QGY:()=>am,F4k:()=>yy,RDi:()=>ns,AaK:()=>De,qOj:()=>jf,TTD:()=>qr,_Bn:()=>g0,xp6:()=>Eh,uIk:()=>jp,ekj:()=>Xd,Suo:()=>j0,Xpm:()=>vn,lG2:()=>ls,Yz7:()=>et,cJS:()=>Et,oAB:()=>Zr,Yjl:()=>gi,Y36:()=>Zf,_UZ:()=>sm,GkF:()=>om,BQk:()=>Qp,ynx:()=>Xp,qZA:()=>Zp,TgZ:()=>Xf,n5z:()=>Gt,LFG:()=>ci,$8M:()=>Yr,$Z:()=>Ys,NdJ:()=>gu,CRH:()=>H0,oxw:()=>_y,ALo:()=>P0,lcZ:()=>k0,Hsn:()=>Jf,F$t:()=>cm,Q6J:()=>gy,s9C:()=>dm,VKq:()=>S0,iGM:()=>U0,LSH:()=>Wa,YNc:()=>Gp,_uU:()=>_m,Oqu:()=>qu,hij:()=>ig,Gf:()=>$0});var u=B(8929),te=B(2654),X=B(2916),ze=B(6787),Be=B(2474);function ue(n){for(let r in n)if(n[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function xe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ie(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=ue({__forward_ref__:ue});function ve(n){return n.__forward_ref__=ve,n.toString=function(){return De(this())},n}function re(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===ve}class Ue extends Error{constructor(r,s){super(function Ee(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function It(n,r){const s=r?` in ${r}`:"";throw new Ue(-201,`No provider for ${je(n)} found${s}`)}function _t(n,r){null==n&&function qe(n,r,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Et(n){return{providers:n.providers||[],imports:n.imports||[]}}function en(n){return pn(n,Wn)||pn(n,Gn)}function pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function dn(n){return n&&(n.hasOwnProperty(jr)||n.hasOwnProperty(zn))?n[jr]:null}const Wn=ue({\u0275prov:ue}),jr=ue({\u0275inj:ue}),Gn=ue({ngInjectableDef:ue}),zn=ue({ngInjectorDef:ue});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let Mr;function ar(n){const r=Mr;return Mr=n,r}function Qn(n,r,s){const c=en(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&tn.Optional?null:void 0!==r?r:void It(De(n),"Injector")}function yt(n){return{toString:n}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),Rt=(()=>{return(n=Rt||(Rt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Rt;var n})();const qt="undefined"!=typeof globalThis&&globalThis,hn="undefined"!=typeof window&&window,Xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xn=qt||"undefined"!=typeof global&&global||hn||Xn,yr={},Me=[],We=ue({\u0275cmp:ue}),tt=ue({\u0275dir:ue}),Nt=ue({\u0275pipe:ue}),Ge=ue({\u0275mod:ue}),ut=ue({\u0275fac:ue}),Zt=ue({__NG_ELEMENT_ID__:ue});let on=0;function vn(n){return yt(()=>{const s={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Me,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Rt.Emulated,id:"c",styles:n.styles||Me,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.directives,y=n.features,T=n.pipes;return c.id+=on++,c.inputs=Ri(n.inputs,s),c.outputs=Ri(n.outputs),y&&y.forEach(R=>R(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map($n):null,c.pipeDefs=T?()=>("function"==typeof T?T():T).map(Dn):null,c})}function $n(n){return ai(n)||function Si(n){return n[tt]||null}(n)}function Dn(n){return function Oi(n){return n[Nt]||null}(n)}const wr={};function Zr(n){return yt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Me,declarations:n.declarations||Me,imports:n.imports||Me,exports:n.exports||Me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(wr[n.id]=n.type),r})}function Ri(n,r){if(null==n)return yr;const s={};for(const c in n)if(n.hasOwnProperty(c)){let f=n[c],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),s[f]=c,r&&(r[f]=y)}return s}const ls=vn;function gi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ai(n){return n[We]||null}function Xr(n,r){const s=n[Ge]||null;if(!s&&!0===r)throw new Error(`Type ${De(n)} does not have '\u0275mod' property.`);return s}const J=19;function be(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pe(n){return Array.isArray(n)&&!0===n[1]}function ct(n){return 0!=(8&n.flags)}function Bt(n){return 2==(2&n.flags)}function Pt(n){return 1==(1&n.flags)}function xt(n){return null!==n.template}function yn(n){return 0!=(512&n[2])}function ki(n,r){return n.hasOwnProperty(ut)?n[ut]:null}class es{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function qr(){return gs}function gs(n){return n.type.prototype.ngOnChanges&&(n.setInput=go),io}function io(){const n=$s(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===yr)n.previous=r;else for(let c in r)s[c]=r[c];n.current=null,this.ngOnChanges(r)}}function go(n,r,s,c){const f=$s(n)||function Ns(n,r){return n[ho]=r}(n,{previous:yr,current:null}),y=f.current||(f.current={}),T=f.previous,R=this.declaredInputs[s],F=T[R];y[R]=new es(F&&F.currentValue,r,T===yr),n[c]=r}qr.ngInherit=!0;const ho="__ngSimpleChanges__";function $s(n){return n[ho]||null}let ms;function ns(n){ms=n}function Tr(n){return!!n.listen}const j={createRenderer:(n,r)=>function Xi(){return void 0!==ms?ms:"undefined"!=typeof document?document:void 0}()};function $(n){for(;Array.isArray(n);)n=n[0];return n}function Ct(n,r){return $(r[n])}function Vt(n,r){return $(r[n.index])}function or(n,r){return n.data[r]}function lr(n,r){const s=r[n];return be(s)?s:s[0]}function Sr(n){return 4==(4&n[2])}function Di(n){return 128==(128&n[2])}function _i(n,r){return null==r?null:n[r]}function Ms(n){n[18]=0}function ys(n,r){n[5]+=r;let s=n,c=n[3];for(;null!==c&&(1===r&&1===s[5]||-1===r&&0===s[5]);)c[5]+=r,s=c,c=c[3]}const Fn={lFrame:el(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ie(){return Fn.bindingsEnabled}function k(){return Fn.lFrame.lView}function b(){return Fn.lFrame.tView}function D(){let n=Y();for(;null!==n&&64===n.type;)n=n.parent;return n}function Y(){return Fn.lFrame.currentTNode}function ke(n,r){const s=Fn.lFrame;s.currentTNode=n,s.isParent=r}function ht(){return Fn.lFrame.isParent}function Ut(){Fn.lFrame.isParent=!1}function Hn(){return Fn.isInCheckNoChangesMode}function tr(n){Fn.isInCheckNoChangesMode=n}function cr(){const n=Fn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function bi(){return Fn.lFrame.bindingIndex++}function vi(n,r){const s=Fn.lFrame;s.bindingIndex=s.bindingRootIndex=n,is(r)}function is(n){Fn.lFrame.currentDirectiveIndex=n}function _o(){return Fn.lFrame.currentQueryIndex}function Yo(n){Fn.lFrame.currentQueryIndex=n}function ta(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function na(n,r,s){if(s&tn.SkipSelf){let f=r,y=n;for(;!(f=f.parent,null!==f||s&tn.Host||(f=ta(y),null===f||(y=y[15],10&f.type))););if(null===f)return!1;r=f,n=y}const c=Fn.lFrame=ra();return c.currentTNode=r,c.lView=n,!0}function ga(n){const r=ra(),s=n[1];Fn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ra(){const n=Fn.lFrame,r=null===n?null:n.child;return null===r?el(n):r}function el(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function js(){const n=Fn.lFrame;return Fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ka=js;function Ca(){const n=js();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nr(){return Fn.lFrame.selectedIndex}function Hs(n){Fn.lFrame.selectedIndex=n}function Er(){const n=Fn.lFrame;return or(n.tView,n.selectedIndex)}function Fs(n,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const y=n.data[s].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:R,ngAfterViewInit:F,ngAfterViewChecked:Z,ngOnDestroy:ne}=y;T&&(n.contentHooks||(n.contentHooks=[])).push(-s,T),R&&((n.contentHooks||(n.contentHooks=[])).push(s,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,R)),F&&(n.viewHooks||(n.viewHooks=[])).push(-s,F),Z&&((n.viewHooks||(n.viewHooks=[])).push(s,Z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,Z)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ne)}}function ia(n,r,s){Os(n,r,3,s)}function oo(n,r,s,c){(3&n[2])===s&&Os(n,r,s,c)}function Rs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Os(n,r,s,c){const y=null!=c?c:-1,T=r.length-1;let R=0;for(let F=void 0!==c?65535&n[18]:0;F<T;F++)if("number"==typeof r[F+1]){if(R=r[F],null!=c&&R>=c)break}else r[F]<0&&(n[18]+=65536),(R<y||-1==y)&&(nl(n,s,r,F),n[18]=(4294901760&n[18])+F+2),F++}function nl(n,r,s,c){const f=s[c]<0,y=s[c+1],R=n[f?-s[c]:s[c]];if(f){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(R)}finally{}}}else try{y.call(R)}finally{}}class ma{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Qs(n,r,s){const c=Tr(n);let f=0;for(;f<s.length;){const y=s[f];if("number"==typeof y){if(0!==y)break;f++;const T=s[f++],R=s[f++],F=s[f++];c?n.setAttribute(r,R,F,T):r.setAttributeNS(T,R,F)}else{const T=y,R=s[++f];aa(T)?c&&n.setProperty(r,T,R):c?n.setAttribute(r,T,R):r.setAttribute(T,R),f++}}return f}function Fo(n){return 3===n||4===n||6===n}function aa(n){return 64===n.charCodeAt(0)}function br(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?s=f:0===s||la(n,s,f,null,-1===s||2===s?r[++c]:null)}}return n}function la(n,r,s,c,f){let y=0,T=n.length;if(-1===r)T=-1;else for(;y<n.length;){const R=n[y++];if("number"==typeof R){if(R===r){T=-1;break}if(R>r){T=y-1;break}}}for(;y<n.length;){const R=n[y];if("number"==typeof R)break;if(R===s){if(null===c)return void(null!==f&&(n[y+1]=f));if(c===n[y+1])return void(n[y+2]=f)}y++,null!==c&&y++,null!==f&&y++}-1!==T&&(n.splice(T,0,r),y=T+1),n.splice(y++,0,s),null!==c&&n.splice(y++,0,c),null!==f&&n.splice(y++,0,f)}function La(n){return-1!==n}function vo(n){return 32767&n}function fi(n,r){let s=function Co(n){return n>>16}(n),c=r;for(;s>0;)c=c[15],s--;return c}let Ps=!0;function Da(n){const r=Ps;return Ps=n,r}let Ko=0;function ca(n,r){const s=Hi(n,r);if(-1!==s)return s;const c=r[1];c.firstCreatePass&&(n.injectorIndex=r.length,un(c.data,n),un(r,null),un(c.blueprint,null));const f=Gs(n,r),y=n.injectorIndex;if(La(f)){const T=vo(f),R=fi(f,r),F=R[1].data;for(let Z=0;Z<8;Z++)r[y+Z]=R[T+Z]|F[T+Z]}return r[y+8]=f,y}function un(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Hi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Gs(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,f=r;for(;null!==f;){const y=f[1],T=y.type;if(c=2===T?y.declTNode:1===T?f[6]:null,null===c)return-1;if(s++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return-1}function Is(n,r,s){!function El(n,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Zt)&&(c=s[Zt]),null==c&&(c=s[Zt]=Ko++);const f=255&c;r.data[n+(f>>5)]|=1<<f}(n,r,s)}function gr(n,r,s){if(s&tn.Optional)return n;It(r,"NodeInjector")}function Ta(n,r,s,c){if(s&tn.Optional&&void 0===c&&(c=null),0==(s&(tn.Self|tn.Host))){const f=n[9],y=ar(void 0);try{return f?f.get(r,c,s&tn.Optional):Qn(r,c,s&tn.Optional)}finally{ar(y)}}return gr(c,r,s)}function Sn(n,r,s,c=tn.Default,f){if(null!==n){const y=function q(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Zt)?n[Zt]:void 0;return"number"==typeof r?r>=0?255&r:M:r}(s);if("function"==typeof y){if(!na(r,n,c))return c&tn.Host?gr(f,s,c):Ta(r,s,c,f);try{const T=y(c);if(null!=T||c&tn.Optional)return T;It(s)}finally{ka()}}else if("number"==typeof y){let T=null,R=Hi(n,r),F=-1,Z=c&tn.Host?r[16][6]:null;for((-1===R||c&tn.SkipSelf)&&(F=-1===R?Gs(n,r):r[R+8],-1!==F&&Ne(c,!1)?(T=r[1],R=vo(F),r=fi(F,r)):R=-1);-1!==R;){const ne=r[1];if(ae(y,R,ne.data)){const Re=x(R,r,s,T,c,Z);if(Re!==Dt)return Re}F=r[R+8],-1!==F&&Ne(c,r[1].data[R+8]===Z)&&ae(y,R,r)?(T=ne,R=vo(F),r=fi(F,r)):R=-1}}}return Ta(r,s,c,f)}const Dt={};function M(){return new Le(D(),k())}function x(n,r,s,c,f,y){const T=r[1],R=T.data[n+8],ne=S(R,T,s,null==c?Bt(R)&&Ps:c!=T&&0!=(3&R.type),f&tn.Host&&y===R);return null!==ne?U(r,T,ne,R):Dt}function S(n,r,s,c,f){const y=n.providerIndexes,T=r.data,R=1048575&y,F=n.directiveStart,ne=y>>20,st=f?R+ne:n.directiveEnd;for(let Tt=c?R:R+ne;Tt<st;Tt++){const Xt=T[Tt];if(Tt<F&&s===Xt||Tt>=F&&Xt.type===s)return Tt}if(f){const Tt=T[F];if(Tt&&xt(Tt)&&Tt.type===s)return F}return null}function U(n,r,s,c){let f=n[s];const y=r.data;if(function ao(n){return n instanceof ma}(f)){const T=f;T.resolving&&function gt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${n}${s}`)}(je(y[s]));const R=Da(T.canSeeViewProviders);T.resolving=!0;const F=T.injectImpl?ar(T.injectImpl):null;na(n,c,tn.Default);try{f=n[s]=T.factory(void 0,y,n,c),r.firstCreatePass&&s>=c.directiveStart&&function Vr(n,r,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:y}=r.type.prototype;if(c){const T=gs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,T),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,T)}f&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,f),y&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y))}(s,y[s],r)}finally{null!==F&&ar(F),Da(R),T.resolving=!1,ka()}}return f}function ae(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ne(n,r){return!(n&tn.Self||n&tn.Host&&r)}class Le{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return Sn(this._tNode,this._lView,r,c,s)}}function Gt(n){return yt(()=>{const r=n.prototype.constructor,s=r[ut]||Mn(r),c=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==c;){const y=f[ut]||Mn(f);if(y&&y!==s)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function Mn(n){return fe(n)?()=>{const r=Mn(re(n));return r&&r()}:ki(n)}function Yr(n){return function Ln(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const y=s[f];if(Fo(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(y===r)return s[f+1];f+=2}}}return null}(D(),n)}const Kr="__parameters__";function Lo(n,r,s){return yt(()=>{const c=function _s(n){return function(...s){if(n){const c=n(...s);for(const f in c)this[f]=c[f]}}}(r);function f(...y){if(this instanceof f)return c.apply(this,y),this;const T=new f(...y);return R.annotation=T,R;function R(F,Z,ne){const Re=F.hasOwnProperty(Kr)?F[Kr]:Object.defineProperty(F,Kr,{value:[]})[Kr];for(;Re.length<=ne;)Re.push(null);return(Re[ne]=Re[ne]||[]).push(T),F}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class os{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=et({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rl=new os("AnalyzeForEntryComponents");function uo(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let c=n[s];Array.isArray(c)?(r===n&&(r=n.slice(0,s)),uo(c,r)):r!==n&&r.push(c)}return r}function eo(n,r){n.forEach(s=>Array.isArray(s)?eo(s,r):r(s))}function Sa(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function fo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function To(n,r){const s=[];for(let c=0;c<n;c++)s.push(r);return s}function Bi(n,r,s){let c=So(n,r);return c>=0?n[1|c]=s:(c=~c,function bn(n,r,s,c){let f=n.length;if(f==r)n.push(s,c);else if(1===f)n.push(c,n[0]),n[0]=s;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=s,n[r+1]=c}}(n,c,r,s)),c}function Zo(n,r){const s=So(n,r);if(s>=0)return n[1|s]}function So(n,r){return function Ao(n,r,s){let c=0,f=n.length>>s;for(;f!==c;){const y=c+(f-c>>1),T=n[y<<s];if(r===T)return y<<s;T>r?f=y:c=y+1}return~(f<<s)}(n,r,1)}const z={},le="__NG_DI_FLAG__",$e="ngTempTokenPath",At=/\n/gm,_n="__source",Cr=ue({provide:String,useValue:ue});let hr;function $r(n){const r=hr;return hr=n,r}function Ar(n,r=tn.Default){if(void 0===hr)throw new Ue(203,"");return null===hr?Qn(n,void 0,r):hr.get(n,r&tn.Optional?null:void 0,r)}function ci(n,r=tn.Default){return(function ur(){return Mr}()||Ar)(re(n),r)}const Ua=ci;function bo(n){const r=[];for(let s=0;s<n.length;s++){const c=re(n[s]);if(Array.isArray(c)){if(0===c.length)throw new Ue(900,"");let f,y=tn.Default;for(let T=0;T<c.length;T++){const R=c[T],F=ri(R);"number"==typeof F?-1===F?f=R.token:y|=F:f=R}r.push(ci(f,y))}else r.push(ci(c))}return r}function pi(n,r){return n[le]=r,n.prototype[le]=r,n}function ri(n){return n[le]}const Mi=pi(Lo("Inject",n=>({token:n})),-1),$a=pi(Lo("Optional"),8),Cl=pi(Lo("SkipSelf"),4);class Sc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ga(n){return n instanceof Sc?n.changingThisBreaksApplicationSecurity:n}const Cu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,af=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function Wa(n){const r=function Au(){const n=k();return n&&n[12]}();return r?r.sanitize(fr.URL,n)||"":function dl(n,r){const s=function pd(n){return n instanceof Sc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Ga(n):function Mo(n){return(n=String(n)).match(Cu)||n.match(af)?n:"unsafe:"+n}(Fe(n))}const nu="__ngContext__";function no(n,r){n[nu]=r}function Ml(n){const r=function fl(n){return n[nu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Go(n){return n.ngOriginalError}function Dd(n,...r){n.error(...r)}class ku{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),c=function Ra(n){return n&&n.ngErrorLogger||Dd}(r);c(this._console,"ERROR",r),s&&c(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Go(r);for(;s&&Go(s);)s=Go(s);return s||null}}const uh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xn))();function Ya(n){return n instanceof Function?n():n}var K=(()=>((K=K||{})[K.Important=1]="Important",K[K.DashCase=2]="DashCase",K))();function it(n,r){return undefined(n,r)}function An(n){const r=n[3];return Pe(r)?r[3]:r}function Vs(n){return Fu(n[13])}function Ts(n){return Fu(n[4])}function Fu(n){for(;null!==n&&!Pe(n);)n=n[4];return n}function Oa(n,r,s,c,f){if(null!=c){let y,T=!1;Pe(c)?y=c:be(c)&&(T=!0,c=c[0]);const R=$(c);0===n&&null!==s?null==f?Ka(r,s,R):Ol(r,s,R,f||null,!0):1===n&&null!==s?Ol(r,s,R,f||null,!0):2===n?function Vu(n,r,s){const c=Pl(n,r);c&&function Rd(n,r,s,c){Tr(n)?n.removeChild(r,s,c):r.removeChild(s)}(n,c,r,s)}(r,R,T):3===n&&r.destroyNode(R),null!=y&&function Fl(n,r,s,c,f){const y=s[7];y!==$(s)&&Oa(r,n,c,y,f);for(let R=10;R<s.length;R++){const F=s[R];lc(F[1],F,n,r,c,y)}}(r,n,y,s,f)}}function Bc(n,r,s){if(Tr(n))return n.createElement(r,s);{const c=null!==s?function bs(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===c?n.createElement(r):n.createElementNS(c,r)}}function ff(n,r){const s=n[9],c=s.indexOf(r),f=r[3];1024&r[2]&&(r[2]&=-1025,ys(f,-1)),s.splice(c,1)}function xd(n,r){if(n.length<=10)return;const s=10+r,c=n[s];if(c){const f=c[17];null!==f&&f!==n&&ff(f,c),r>0&&(n[s-1][4]=c[4]);const y=fo(n,10+r);!function Sd(n,r){lc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const T=y[J];null!==T&&T.detachView(y[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function dp(n,r){if(!(256&r[2])){const s=r[11];Tr(s)&&s.destroyNode&&lc(n,r,s,3,null,null),function hf(n){let r=n[13];if(!r)return Uc(n[1],n);for(;r;){let s=null;if(be(r))s=r[13];else{const c=r[10];c&&(s=c)}if(!s){for(;r&&!r[4]&&r!==n;)be(r)&&Uc(r[1],r),r=r[3];null===r&&(r=n),be(r)&&Uc(r[1],r),s=r&&r[4]}r=s}}(r)}}function Uc(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function hp(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const f=r[s[c]];if(!(f instanceof ma)){const y=s[c+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const R=f[y[T]],F=y[T+1];try{F.call(R)}finally{}}else try{y.call(f)}finally{}}}}(n,r),function hh(n,r){const s=n.cleanup,c=r[7];let f=-1;if(null!==s)for(let y=0;y<s.length-1;y+=2)if("string"==typeof s[y]){const T=s[y+1],R="function"==typeof T?T(r):$(r[T]),F=c[f=s[y+2]],Z=s[y+3];"boolean"==typeof Z?R.removeEventListener(s[y],F,Z):Z>=0?c[f=Z]():c[f=-Z].unsubscribe(),y+=2}else{const T=c[f=s[y+1]];s[y].call(T)}if(null!==c){for(let y=f+1;y<c.length;y++)c[y]();r[7]=null}}(n,r),1===r[1].type&&Tr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Pe(r[3])){s!==r[3]&&ff(s,r);const c=r[J];null!==c&&c.detachView(n)}}}function Md(n,r,s){return function $t(n,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[0];if(2&c.flags){const f=n.data[c.directiveStart].encapsulation;if(f===Rt.None||f===Rt.Emulated)return null}return Vt(c,s)}(n,r.parent,s)}function Ol(n,r,s,c,f){Tr(n)?n.insertBefore(r,s,c,f):r.insertBefore(s,c,f)}function Ka(n,r,s){Tr(n)?n.appendChild(r,s):r.appendChild(s)}function pf(n,r,s,c,f){null!==c?Ol(n,r,s,c,f):Ka(n,r,s)}function Pl(n,r){return Tr(n)?n.parentNode(r):r.parentNode}function kl(n,r,s){return ph(n,r,s)}let ph=function fh(n,r,s){return 40&n.type?Vt(n,s):null};function $c(n,r,s,c){const f=Md(n,c,r),y=r[11],R=kl(c.parent||r[6],c,r);if(null!=f)if(Array.isArray(s))for(let F=0;F<s.length;F++)pf(y,f,s[F],R,!1);else pf(y,f,s,R,!1)}function Bu(n,r){if(null!==r){const s=r.type;if(3&s)return Vt(r,n);if(4&s)return Nl(-1,n[r.index]);if(8&s){const c=r.child;if(null!==c)return Bu(n,c);{const f=n[r.index];return Pe(f)?Nl(-1,f):$(f)}}if(32&s)return it(r,n)()||$(n[r.index]);{const c=ac(n,r);return null!==c?Array.isArray(c)?c[0]:Bu(An(n[16]),c):Bu(n,r.next)}}return null}function ac(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Nl(n,r){const s=10+n+1;if(s<r.length){const c=r[s],f=c[1].firstChild;if(null!==f)return Bu(c,f)}return r[7]}function gf(n,r,s,c,f,y,T){for(;null!=s;){const R=c[s.index],F=s.type;if(T&&0===r&&(R&&no($(R),c),s.flags|=4),64!=(64&s.flags))if(8&F)gf(n,r,s.child,c,f,y,!1),Oa(r,n,f,R,y);else if(32&F){const Z=it(s,c);let ne;for(;ne=Z();)Oa(r,n,f,ne,y);Oa(r,n,f,R,y)}else 16&F?au(n,r,c,s,f,y):Oa(r,n,f,R,y);s=T?s.projectionNext:s.next}}function lc(n,r,s,c,f,y){gf(s,c,n.firstChild,r,f,y,!1)}function au(n,r,s,c,f,y){const T=s[16],F=T[6].projection[c.projection];if(Array.isArray(F))for(let Z=0;Z<F.length;Z++)Oa(r,n,f,F[Z],y);else gf(n,r,F,T[3],f,y,!0)}function $u(n,r,s){Tr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function gh(n,r,s){Tr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function mh(n,r,s){let c=n.length;for(;;){const f=n.indexOf(r,s);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const y=r.length;if(f+y===c||n.charCodeAt(f+y)<=32)return f}s=f+1}}const mf="ng-template";function fp(n,r,s){let c=0;for(;c<n.length;){let f=n[c++];if(s&&"class"===f){if(f=n[c],-1!==mh(f.toLowerCase(),r,0))return!0}else if(1===f){for(;c<n.length&&"string"==typeof(f=n[c++]);)if(f.toLowerCase()===r)return!0;return!1}}return!1}function _h(n){return 4===n.type&&n.value!==mf}function yf(n,r,s){return r===(4!==n.type||s?n.value:mf)}function vh(n,r,s){let c=4;const f=n.attrs||[],y=function Za(n){for(let r=0;r<n.length;r++)if(Fo(n[r]))return r;return n.length}(f);let T=!1;for(let R=0;R<r.length;R++){const F=r[R];if("number"!=typeof F){if(!T)if(4&c){if(c=2|1&c,""!==F&&!yf(n,F,s)||""===F&&1===r.length){if(hs(c))return!1;T=!0}}else{const Z=8&c?F:r[++R];if(8&c&&null!==n.attrs){if(!fp(n.attrs,Z,s)){if(hs(c))return!1;T=!0}continue}const Re=Ll(8&c?"class":F,f,_h(n),s);if(-1===Re){if(hs(c))return!1;T=!0;continue}if(""!==Z){let st;st=Re>y?"":f[Re+1].toLowerCase();const Tt=8&c?st:null;if(Tt&&-1!==mh(Tt,Z,0)||2&c&&Z!==st){if(hs(c))return!1;T=!0}}}}else{if(!T&&!hs(c)&&!hs(F))return!1;if(T&&hs(F))continue;T=!1,c=F|1&c}}return hs(c)||T}function hs(n){return 0==(1&n)}function Ll(n,r,s,c){if(null===r)return-1;let f=0;if(c||!s){let y=!1;for(;f<r.length;){const T=r[f];if(T===n)return f;if(3===T||6===T)y=!0;else{if(1===T||2===T){let R=r[++f];for(;"string"==typeof R;)R=r[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=y?1:2}return-1}return function uc(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,n)}function lu(n,r,s=!1){for(let c=0;c<r.length;c++)if(vh(n,r[c],s))return!0;return!1}function pp(n,r){e:for(let s=0;s<r.length;s++){const c=r[s];if(n.length===c.length){for(let f=0;f<n.length;f++)if(n[f]!==c[f])continue e;return!0}}return!1}function cc(n,r){return n?":not("+r.trim()+")":r}function Pa(n){let r=n[0],s=1,c=2,f="",y=!1;for(;s<n.length;){let T=n[s];if("string"==typeof T)if(2&c){const R=n[++s];f+="["+T+(R.length>0?'="'+R+'"':"")+"]"}else 8&c?f+="."+T:4&c&&(f+=" "+T);else""!==f&&!hs(T)&&(r+=cc(y,f),f=""),c=T,y=y||!hs(c);s++}return""!==f&&(r+=cc(y,f)),r}const ei={};function Eh(n){bh(b(),k(),nr()+n,Hn())}function bh(n,r,s,c){if(!c)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&ia(r,y,s)}else{const y=n.preOrderHooks;null!==y&&oo(r,y,0,s)}Hs(s)}function wh(n,r){return n<<17|r<<2}function Xa(n){return n>>17&32767}function Bl(n){return 2|n}function Qa(n){return(131068&n)>>2}function zo(n,r){return-131069&n|r<<2}function hc(n){return 1|n}function Ip(n,r){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const f=s[c],y=s[c+1];if(-1!==y){const T=n.data[y];Yo(f),T.contentQueries(2,r[y],y)}}}function pc(n,r,s,c,f,y,T,R,F,Z){const ne=r.blueprint.slice();return ne[0]=f,ne[2]=140|c,Ms(ne),ne[3]=ne[15]=n,ne[8]=s,ne[10]=T||n&&n[10],ne[11]=R||n&&n[11],ne[12]=F||n&&n[12]||null,ne[9]=Z||n&&n[9]||null,ne[6]=y,ne[16]=2==r.type?n[16]:ne,ne}function hu(n,r,s,c,f){let y=n.data[r];if(null===y)y=function Tf(n,r,s,c,f){const y=Y(),T=ht(),F=n.data[r]=function Dg(n,r,s,c,f,y){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,s,r,c,f);return null===n.firstChild&&(n.firstChild=F),null!==y&&(T?null==y.child&&null!==F.parent&&(y.child=F):null===y.next&&(y.next=F)),F}(n,r,s,c,f),function Ti(){return Fn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=s,y.value=c,y.attrs=f;const T=function ge(){const n=Fn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();y.injectorIndex=null===T?-1:T.injectorIndex}return ke(y,!0),y}function Wc(n,r,s,c){if(0===s)return-1;const f=r.length;for(let y=0;y<s;y++)r.push(c),n.blueprint.push(c),n.data.push(null);return f}function qc(n,r,s){ga(r);try{const c=n.viewQuery;null!==c&&Bn(1,c,s);const f=n.template;null!==f&&Af(n,r,f,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ip(n,r),n.staticViewQueries&&Bn(2,n.viewQuery,s);const y=n.components;null!==y&&function zc(n,r){for(let s=0;s<r.length;s++)p(n,r[s])}(r,y)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[2]&=-5,Ca()}}function Yc(n,r,s,c){const f=r[2];if(256==(256&f))return;ga(r);const y=Hn();try{Ms(r),function xi(n){return Fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Af(n,r,s,2,c);const T=3==(3&f);if(!y)if(T){const Z=n.preOrderCheckHooks;null!==Z&&ia(r,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&oo(r,Z,0,null),Rs(r,0)}if(function h(n){for(let r=Vs(n);null!==r;r=Ts(r)){if(!r[2])continue;const s=r[9];for(let c=0;c<s.length;c++){const f=s[c],y=f[3];0==(1024&f[2])&&ys(y,1),f[2]|=1024}}}(r),function Bh(n){for(let r=Vs(n);null!==r;r=Ts(r))for(let s=10;s<r.length;s++){const c=r[s],f=c[1];Di(c)&&Yc(f,c,f.template,c[8])}}(r),null!==n.contentQueries&&Ip(n,r),!y)if(T){const Z=n.contentCheckHooks;null!==Z&&ia(r,Z)}else{const Z=n.contentHooks;null!==Z&&oo(r,Z,1),Rs(r,1)}!function wp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const f=s[c];if(f<0)Hs(~f);else{const y=f,T=s[++c],R=s[++c];vi(T,y),R(2,r[y])}}}finally{Hs(-1)}}(n,r);const R=n.components;null!==R&&function Gc(n,r){for(let s=0;s<r.length;s++)l(n,r[s])}(r,R);const F=n.viewQuery;if(null!==F&&Bn(2,F,c),!y)if(T){const Z=n.viewCheckHooks;null!==Z&&ia(r,Z)}else{const Z=n.viewHooks;null!==Z&&oo(r,Z,2),Rs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),y||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,ys(r[3],-1))}finally{Ca()}}function Sf(n,r,s,c){const f=r[10],y=!Hn(),T=Sr(r);try{y&&!T&&f.begin&&f.begin(),T&&qc(n,r,c),Yc(n,r,s,c)}finally{y&&!T&&f.end&&f.end()}}function Af(n,r,s,c,f){const y=nr(),T=2&c;try{Hs(-1),T&&r.length>20&&bh(n,r,20,Hn()),s(c,f)}finally{Hs(y)}}function Ah(n,r,s){if(ct(r)){const f=r.directiveEnd;for(let y=r.directiveStart;y<f;y++){const T=n.data[y];T.contentQueries&&T.contentQueries(1,s[y],y)}}}function xf(n,r,s){!ie()||(function xp(n,r,s,c){const f=s.directiveStart,y=s.directiveEnd;n.firstCreatePass||ca(s,r),no(c,r);const T=s.initialInputs;for(let R=f;R<y;R++){const F=n.data[R],Z=xt(F);Z&&Pp(r,s,F);const ne=U(r,n,R,s);no(ne,r),null!==T&&$d(0,R-f,ne,F,0,T),Z&&(lr(s.index,r)[8]=ne)}}(n,r,s,Vt(s,r)),128==(128&s.flags)&&function Mp(n,r,s){const c=s.directiveStart,f=s.directiveEnd,T=s.index,R=function rs(){return Fn.lFrame.currentDirectiveIndex}();try{Hs(T);for(let F=c;F<f;F++){const Z=n.data[F],ne=r[F];is(F),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&Nh(Z,ne)}}finally{Hs(-1),is(R)}}(n,r,s))}function Mf(n,r,s=Vt){const c=r.localNames;if(null!==c){let f=r.index+1;for(let y=0;y<c.length;y+=2){const T=c[y+1],R=-1===T?s(r,n):n[T];n[f++]=R}}}function xh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=fs(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function fs(n,r,s,c,f,y,T,R,F,Z){const ne=20+c,Re=ne+f,st=function qo(n,r){const s=[];for(let c=0;c<r;c++)s.push(c<n?null:ei);return s}(ne,Re),Tt="function"==typeof Z?Z():Z;return st[1]={type:n,blueprint:st,template:s,queries:null,viewQuery:R,declTNode:r,data:st.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:F,consts:Tt,incompleteFirstPass:!1}}function Dp(n,r,s,c){const f=Us(r);null===s?f.push(c):(f.push(s),n.firstCreatePass&&jl(n).push(c,f.length-1))}function Rh(n,r,s){for(let c in n)if(n.hasOwnProperty(c)){const f=n[c];(s=null===s?{}:s).hasOwnProperty(c)?s[c].push(r,f):s[c]=[r,f]}return s}function fa(n,r,s,c,f,y,T,R){const F=Vt(r,s);let ne,Z=r.inputs;!R&&null!=Z&&(ne=Z[c])?(Lf(n,s,ne,c,f),Bt(r)&&function Oh(n,r){const s=lr(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(c=function Sp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),f=null!=T?T(f,r.value||"",c):f,Tr(y)?y.setProperty(F,c,f):aa(c)||(F.setProperty?F.setProperty(c,f):F[c]=f))}function kh(n,r,s,c){let f=!1;if(ie()){const y=function Fh(n,r,s){const c=n.directiveRegistry;let f=null;if(c)for(let y=0;y<c.length;y++){const T=c[y];lu(s,T.selectors,!1)&&(f||(f=[]),Is(ca(s,r),n,T.type),xt(T)?(Xc(n,s),f.unshift(T)):f.push(T))}return f}(n,r,s),T=null===c?null:{"":-1};if(null!==y){f=!0,Rp(s,n.data.length,y.length);for(let ne=0;ne<y.length;ne++){const Re=y[ne];Re.providersResolver&&Re.providersResolver(Re)}let R=!1,F=!1,Z=Wc(n,r,y.length,null);for(let ne=0;ne<y.length;ne++){const Re=y[ne];s.mergedAttrs=br(s.mergedAttrs,Re.hostAttrs),Op(n,s,r,Z,Re),kf(Z,Re,T),null!==Re.contentQueries&&(s.flags|=8),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(s.flags|=128);const st=Re.type.prototype;!R&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),R=!0),!F&&(st.ngOnChanges||st.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),F=!0),Z++}!function Tp(n,r){const c=r.directiveEnd,f=n.data,y=r.attrs,T=[];let R=null,F=null;for(let Z=r.directiveStart;Z<c;Z++){const ne=f[Z],Re=ne.inputs,st=null===y||_h(r)?null:Ff(Re,y);T.push(st),R=Rh(Re,Z,R),F=Rh(ne.outputs,Z,F)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=T,r.inputs=R,r.outputs=F}(n,s)}T&&function Pf(n,r,s){if(r){const c=n.localNames=[];for(let f=0;f<r.length;f+=2){const y=s[r[f+1]];if(null==y)throw new Ue(-301,!1);c.push(r[f],y)}}}(s,c,T)}return s.mergedAttrs=br(s.mergedAttrs,s.attrs),f}function Of(n,r,s,c,f,y){const T=y.hostBindings;if(T){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const F=~r.index;(function Tg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(R)!=F&&R.push(F),R.push(c,f,T)}}function Nh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Xc(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function kf(n,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=n;xt(r)&&(s[""]=n)}}function Rp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Op(n,r,s,c,f){n.data[c]=f;const y=f.factory||(f.factory=ki(f.type)),T=new ma(y,xt(f),null);n.blueprint[c]=T,s[c]=T,Of(n,r,0,c,Wc(n,s,f.hostVars,ei),f)}function Pp(n,r,s){const c=Vt(r,n),f=xh(s),y=n[10],T=O(n,pc(n,f,null,s.onPush?64:16,c,r,y,y.createRenderer(c,s),null,null));n[r.index]=T}function $l(n,r,s,c,f,y){const T=Vt(n,r);!function Nf(n,r,s,c,f,y,T){if(null==y)Tr(n)?n.removeAttribute(r,f,s):r.removeAttribute(f);else{const R=null==T?Fe(y):T(y,c||"",f);Tr(n)?n.setAttribute(r,f,R,s):s?r.setAttributeNS(s,f,R):r.setAttribute(f,R)}}(r[11],T,y,n.value,s,c,f)}function $d(n,r,s,c,f,y){const T=y[r];if(null!==T){const R=c.setInput;for(let F=0;F<T.length;){const Z=T[F++],ne=T[F++],Re=T[F++];null!==R?c.setInput(s,Re,Z,ne):s[ne]=Re}}}function Ff(n,r){let s=null,c=0;for(;c<r.length;){const f=r[c];if(0!==f)if(5!==f){if("number"==typeof f)break;n.hasOwnProperty(f)&&(null===s&&(s=[]),s.push(f,n[f],r[c+1])),c+=2}else c+=2;else c+=4}return s}function Lh(n,r,s,c){return new Array(n,!0,!1,r,null,0,c,s,null,null)}function l(n,r){const s=lr(r,n);if(Di(s)){const c=s[1];80&s[2]?Yc(c,s,c.template,s[8]):s[5]>0&&a(s)}}function a(n){for(let c=Vs(n);null!==c;c=Ts(c))for(let f=10;f<c.length;f++){const y=c[f];if(1024&y[2]){const T=y[1];Yc(T,y,T.template,y[8])}else y[5]>0&&a(y)}const s=n[1].components;if(null!==s)for(let c=0;c<s.length;c++){const f=lr(s[c],n);Di(f)&&f[5]>0&&a(f)}}function p(n,r){const s=lr(r,n),c=s[1];(function w(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(c,s),qc(c,s,s[8])}function O(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function H(n){for(;n;){n[2]|=64;const r=An(n);if(yn(n)&&!r)return n;n=r}return null}function Ze(n,r,s){const c=r[10];c.begin&&c.begin();try{Yc(n,r,n.template,s)}catch(f){throw gc(r,f),f}finally{c.end&&c.end()}}function kt(n){!function Ce(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],c=Ml(s),f=c[1];Sf(f,c,f.template,s)}}(n[8])}function Bn(n,r,s){Yo(0),r(n,s)}const Ki=(()=>Promise.resolve(null))();function Us(n){return n[7]||(n[7]=[])}function jl(n){return n.cleanup||(n.cleanup=[])}function gc(n,r){const s=n[9],c=s?s.get(ku,null):null;c&&c.handleError(r)}function Lf(n,r,s,c,f){for(let y=0;y<s.length;){const T=s[y++],R=s[y++],F=r[T],Z=n.data[T];null!==Z.setInput?Z.setInput(F,f,c,R):F[R]=f}}function Hu(n,r,s){const c=Ct(r,n);!function ea(n,r,s){Tr(n)?n.setValue(r,s):r.textContent=s}(n[11],c,s)}function kp(n,r,s){let c=s?n.styles:null,f=s?n.classes:null,y=0;if(null!==r)for(let T=0;T<r.length;T++){const R=r[T];"number"==typeof R?y=R:1==y?f=Ie(f,R):2==y&&(c=Ie(c,R+": "+r[++T]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=f:n.classesWithoutHost=f}const Ag=new os("INJECTOR",-1);class Np{get(r,s=z){if(s===z){const c=new Error(`NullInjectorError: No provider for ${De(r)}!`);throw c.name="NullInjectorError",c}return s}}const xg=new os("Set Injector scope."),Hd={},Um={};let Bf;function Fp(){return void 0===Bf&&(Bf=new Np),Bf}function Lp(n,r=null,s=null,c){const f=Gd(n,r,s,c);return f._resolveInjectorDefTypes(),f}function Gd(n,r=null,s=null,c){return new Qc(n,s,r||Fp(),c)}class Qc{constructor(r,s,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];s&&eo(s,R=>this.processProvider(R,r,s)),eo([r],R=>this.processInjectorType(R,[],y)),this.records.set(Ag,fu(void 0,this));const T=this.records.get(xg);this.scope=null!=T?T.value:null,this.source=f||("object"==typeof r?null:De(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=z,c=tn.Default){this.assertNotDestroyed();const f=$r(this),y=ar(void 0);try{if(!(c&tn.SkipSelf)){let R=this.records.get(r);if(void 0===R){const F=function f_(n){return"function"==typeof n||"object"==typeof n&&n instanceof os}(r)&&en(r);R=F&&this.injectableDefInScope(F)?fu(Vf(r),Hd):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(c&tn.Self?Fp():this.parent).get(r,s=c&tn.Optional&&s===z?null:s)}catch(T){if("NullInjectorError"===T.name){if((T[$e]=T[$e]||[]).unshift(De(r)),f)throw T;return function Uo(n,r,s,c){const f=n[$e];throw r[_n]&&f.unshift(r[_n]),n.message=function Ds(n,r,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let f=De(r);if(Array.isArray(r))f=r.map(De).join(" -> ");else if("object"==typeof r){let y=[];for(let T in r)if(r.hasOwnProperty(T)){let R=r[T];y.push(T+":"+("string"==typeof R?JSON.stringify(R):De(R)))}f=`{${y.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${n.replace(At,"\n  ")}`}("\n"+n.message,f,s,c),n.ngTokenPath=f,n[$e]=null,n}(T,r,"R3InjectorError",this.source)}throw T}finally{ar(y),$r(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((c,f)=>r.push(De(f))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processInjectorType(r,s,c){if(!(r=re(r)))return!1;let f=dn(r);const y=null==f&&r.ngModule||void 0,T=void 0===y?r:y,R=-1!==c.indexOf(T);if(void 0!==y&&(f=dn(y)),null==f)return!1;if(null!=f.imports&&!R){let ne;c.push(T);try{eo(f.imports,Re=>{this.processInjectorType(Re,s,c)&&(void 0===ne&&(ne=[]),ne.push(Re))})}finally{}if(void 0!==ne)for(let Re=0;Re<ne.length;Re++){const{ngModule:st,providers:Tt}=ne[Re];eo(Tt,Xt=>this.processProvider(Xt,st,Tt||Me))}}this.injectorDefTypes.add(T);const F=ki(T)||(()=>new T);this.records.set(T,fu(F,Hd));const Z=f.providers;if(null!=Z&&!R){const ne=r;eo(Z,Re=>this.processProvider(Re,ne,Z))}return void 0!==y&&void 0!==r.providers}processProvider(r,s,c){let f=Jc(r=re(r))?r:re(r&&r.provide);const y=function Uh(n,r,s){return $m(n)?fu(void 0,n.useValue):fu(Mg(n),Hd)}(r);if(Jc(r)||!0!==r.multi)this.records.get(f);else{let T=this.records.get(f);T||(T=fu(void 0,Hd,!0),T.factory=()=>bo(T.multi),this.records.set(f,T)),f=r,T.multi.push(r)}this.records.set(f,y)}hydrate(r,s){return s.value===Hd&&(s.value=Um,s.value=s.factory()),"object"==typeof s.value&&s.value&&function h_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=re(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Vf(n){const r=en(n),s=null!==r?r.factory:ki(n);if(null!==s)return s;if(n instanceof os)throw new Ue(204,!1);if(n instanceof Function)return function Vh(n){const r=n.length;if(r>0)throw To(r,"?"),new Ue(204,!1);const s=function Rn(n){const r=n&&(n[Wn]||n[Gn]);if(r){const s=function gn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ue(204,!1)}function Mg(n,r,s){let c;if(Jc(n)){const f=re(n);return ki(f)||Vf(f)}if($m(n))c=()=>re(n.useValue);else if(function Rg(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...bo(n.deps||[]));else if(function d_(n){return!(!n||!n.useExisting)}(n))c=()=>ci(re(n.useExisting));else{const f=re(n&&(n.useClass||n.provide));if(!function Pg(n){return!!n.deps}(n))return ki(f)||Vf(f);c=()=>new f(...bo(n.deps))}return c}function fu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function $m(n){return null!==n&&"object"==typeof n&&Cr in n}function Jc(n){return"function"==typeof n}let yl=(()=>{class n{static create(s,c){var f;if(Array.isArray(s))return Lp({name:""},c,s,"");{const y=null!==(f=s.name)&&void 0!==f?f:"";return Lp({name:y},s.parent,s.providers,y)}}}return n.THROW_IF_NOT_FOUND=z,n.NULL=new Np,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>ci(Ag)}),n.__NG_ELEMENT_ID__=-1,n})();function Vg(n,r){Fs(Ml(n)[1],D())}function jf(n){let r=function Up(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;r;){let f;if(xt(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ue(903,"");f=r.\u0275dir}if(f){if(s){c.push(f);const T=n;T.inputs=ed(n.inputs),T.declaredInputs=ed(n.declaredInputs),T.outputs=ed(n.outputs);const R=f.hostBindings;R&&m_(n,R);const F=f.viewQuery,Z=f.contentQueries;if(F&&ey(n,F),Z&&$g(n,Z),xe(n.inputs,f.inputs),xe(n.declaredInputs,f.declaredInputs),xe(n.outputs,f.outputs),xt(f)&&f.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let T=0;T<y.length;T++){const R=y[T];R&&R.ngInherit&&R(n),R===jf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ug(n){let r=0,s=null;for(let c=n.length-1;c>=0;c--){const f=n[c];f.hostVars=r+=f.hostVars,f.hostAttrs=br(f.hostAttrs,s=br(s,f.hostAttrs))}}(c)}function ed(n){return n===yr?{}:n===Me?[]:n}function ey(n,r){const s=n.viewQuery;n.viewQuery=s?(c,f)=>{r(c,f),s(c,f)}:r}function $g(n,r){const s=n.contentQueries;n.contentQueries=s?(c,f,y)=>{r(c,f,y),s(c,f,y)}:r}function m_(n,r){const s=n.hostBindings;n.hostBindings=s?(c,f)=>{r(c,f),s(c,f)}:r}let $p=null;function td(){if(!$p){const n=xn.Symbol;if(n&&n.iterator)$p=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const c=r[s];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&($p=c)}}}return $p}function Hf(n){return!!Gf(n)&&(Array.isArray(n)||!(n instanceof Map)&&td()in n)}function Gf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ea(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function jp(n,r,s,c){const f=k();return Ea(f,bi(),r)&&(b(),$l(Er(),f,n,r,s,c)),jp}function jh(n,r,s,c){return Ea(n,bi(),s)?r+Fe(s)+c:ei}function Gp(n,r,s,c,f,y,T,R){const F=k(),Z=b(),ne=n+20,Re=Z.firstCreatePass?function oy(n,r,s,c,f,y,T,R,F){const Z=r.consts,ne=hu(r,n,4,T||null,_i(Z,R));kh(r,s,ne,_i(Z,F)),Fs(r,ne);const Re=ne.tViews=fs(2,ne,c,f,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Z);return null!==r.queries&&(r.queries.template(r,ne),Re.queries=r.queries.embeddedTView(ne)),ne}(ne,Z,F,r,s,c,f,y,T):Z.data[ne];ke(Re,!1);const st=F[11].createComment("");$c(Z,F,st,Re),no(st,F),O(F,F[ne]=Lh(st,F,st,Re)),Pt(Re)&&xf(Z,F,Re),null!=T&&Mf(F,Re,R)}function Zf(n,r=tn.Default){const s=k();return null===s?ci(n,r):Sn(D(),s,re(n),r)}function Ys(){throw new Error("invalid")}function gy(n,r,s){const c=k();return Ea(c,bi(),r)&&fa(b(),Er(),c,n,r,c[11],s,!1),gy}function my(n,r,s,c,f){const T=f?"class":"style";Lf(n,s,r.inputs[T],T,c)}function Xf(n,r,s,c){const f=k(),y=b(),T=20+n,R=f[11],F=f[T]=Bc(R,r,function Fi(){return Fn.lFrame.currentNamespace}()),Z=y.firstCreatePass?function Oo(n,r,s,c,f,y,T){const R=r.consts,Z=hu(r,n,2,f,_i(R,y));return kh(r,s,Z,_i(R,T)),null!==Z.attrs&&kp(Z,Z.attrs,!1),null!==Z.mergedAttrs&&kp(Z,Z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Z),Z}(T,y,f,0,r,s,c):y.data[T];ke(Z,!0);const ne=Z.mergedAttrs;null!==ne&&Qs(R,F,ne);const Re=Z.classes;null!==Re&&gh(R,F,Re);const st=Z.styles;return null!==st&&$u(R,F,st),64!=(64&Z.flags)&&$c(y,f,F,Z),0===function G(){return Fn.lFrame.elementDepthCount}()&&no(F,f),function V(){Fn.lFrame.elementDepthCount++}(),Pt(Z)&&(xf(y,f,Z),Ah(y,Z,f)),null!==c&&Mf(f,Z),Xf}function Zp(){let n=D();ht()?Ut():(n=n.parent,ke(n,!1));const r=n;!function N(){Fn.lFrame.elementDepthCount--}();const s=b();return s.firstCreatePass&&(Fs(s,n),ct(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function vl(n){return 0!=(16&n.flags)}(r)&&my(s,r,k(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _a(n){return 0!=(32&n.flags)}(r)&&my(s,r,k(),r.stylesWithoutHost,!1),Zp}function sm(n,r,s,c){return Xf(n,r,s,c),Zp(),sm}function Xp(n,r,s){const c=k(),f=b(),y=n+20,T=f.firstCreatePass?function S_(n,r,s,c,f){const y=r.consts,T=_i(y,c),R=hu(r,n,8,"ng-container",T);return null!==T&&kp(R,T,!0),kh(r,s,R,_i(y,f)),null!==r.queries&&r.queries.elementStart(r,R),R}(y,f,c,r,s):f.data[y];ke(T,!0);const R=c[y]=c[11].createComment("");return $c(f,c,R,T),no(R,c),Pt(T)&&(xf(f,c,T),Ah(f,T,c)),null!=s&&Mf(c,T),Xp}function Qp(){let n=D();const r=b();return ht()?Ut():(n=n.parent,ke(n,!1)),r.firstCreatePass&&(Fs(r,n),ct(n)&&r.queries.elementEnd(n)),Qp}function om(n,r,s){return Xp(n,r,s),Qp(),om}function am(n){return!!n&&"function"==typeof n.then}function yy(n){return!!n&&"function"==typeof n.subscribe}const lm=yy;function gu(n,r,s,c){const f=k(),y=b(),T=D();return function od(n,r,s,c,f,y,T,R){const F=Pt(c),ne=n.firstCreatePass&&jl(n),Re=r[8],st=Us(r);let Tt=!0;if(3&c.type||R){const Nn=Vt(c,r),ir=R?R(Nn):Nn,sn=st.length,Pr=R?Ui=>R($(Ui[c.index])):c.index;if(Tr(s)){let Ui=null;if(!R&&F&&(Ui=function zu(n,r,s,c){const f=n.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const T=f[y];if(T===s&&f[y+1]===c){const R=r[7],F=f[y+2];return R.length>F?R[F]:null}"string"==typeof T&&(y+=2)}return null}(n,r,f,c.index)),null!==Ui)(Ui.__ngLastListenerFn__||Ui).__ngNextListenerFn__=y,Ui.__ngLastListenerFn__=y,Tt=!1;else{y=um(c,r,Re,y,!1);const As=s.listen(ir,f,y);st.push(y,As),ne&&ne.push(f,Pr,sn,sn+1)}}else y=um(c,r,Re,y,!0),ir.addEventListener(f,y,T),st.push(y),ne&&ne.push(f,Pr,sn,T)}else y=um(c,r,Re,y,!1);const Xt=c.outputs;let Tn;if(Tt&&null!==Xt&&(Tn=Xt[f])){const Nn=Tn.length;if(Nn)for(let ir=0;ir<Nn;ir+=2){const yu=r[Tn[ir]][Tn[ir+1]].subscribe(y),up=st.length;st.push(y,yu),ne&&ne.push(f,c.index,up,-(up+1))}}}(y,f,f[11],T,n,r,!!s,c),gu}function Qf(n,r,s,c){try{return!1!==s(c)}catch(f){return gc(n,f),!1}}function um(n,r,s,c,f){return function y(T){if(T===Function)return c;const R=2&n.flags?lr(n.index,r):r;0==(32&r[2])&&H(R);let F=Qf(r,0,c,T),Z=y.__ngNextListenerFn__;for(;Z;)F=Qf(r,0,Z,T)&&F,Z=Z.__ngNextListenerFn__;return f&&!1===F&&(T.preventDefault(),T.returnValue=!1),F}}function _y(n=1){return function ui(n){return(Fn.lFrame.contextLView=function ni(n,r){for(;n>0;)r=r[15],n--;return r}(n,Fn.lFrame.contextLView))[8]}(n)}function vy(n,r){let s=null;const c=function Pd(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let f=0;f<r.length;f++){const y=r[f];if("*"!==y){if(null===c?lu(n,y,!0):pp(c,y))return f}else s=f}return s}function cm(n){const r=k()[16][6];if(!r.projection){const c=r.projection=To(n?n.length:1,null),f=c.slice();let y=r.child;for(;null!==y;){const T=n?vy(y,n):0;null!==T&&(f[T]?f[T].projectionNext=y:c[T]=y,f[T]=y),y=y.next}}}function Jf(n,r=0,s){const c=k(),f=b(),y=hu(f,20+n,16,null,s||null);null===y.projection&&(y.projection=r),Ut(),64!=(64&y.flags)&&function Od(n,r,s){au(r[11],0,r,s,Md(n,s,r),kl(s.parent||r[6],s,r))}(f,c,y)}function dm(n,r,s){return _c(n,"",r,"",s),dm}function _c(n,r,s,c,f){const y=k(),T=jh(y,r,s,c);return T!==ei&&fa(b(),Er(),y,n,T,y[11],f,!1),_c}function fm(n,r,s,c,f){const y=n[s+1],T=null===r;let R=c?Xa(y):Qa(y),F=!1;for(;0!==R&&(!1===F||T);){const ne=n[R+1];Dy(n[R],r)&&(F=!0,n[R+1]=c?hc(ne):Bl(ne)),R=c?Xa(ne):Qa(ne)}F&&(n[s+1]=c?Bl(y):hc(y))}function Dy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&So(n,r)>=0}function Xd(n,r){return function mu(n,r,s,c){const f=k(),y=b(),T=function Ni(n){const r=Fn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);y.firstUpdatePass&&function My(n,r,s,c){const f=n.data;if(null===f[s+1]){const y=f[nr()],T=function xy(n,r){return r>=n.expandoStartIndex}(n,s);(function Fy(n,r){return 0!=(n.flags&(r?16:32))})(y,c)&&null===r&&!T&&(r=!1),r=function Ry(n,r,s,c){const f=function yo(n){const r=Fn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(s=np(s=gm(null,n,r,s,c),r.attrs,c),y=null);else{const T=r.directiveStylingLast;if(-1===T||n[T]!==f)if(s=gm(f,n,r,s,c),null===y){let F=function P_(n,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==Qa(c))return n[Xa(c)]}(n,r,c);void 0!==F&&Array.isArray(F)&&(F=gm(null,n,r,F[1],c),F=np(F,r.attrs,c),function k_(n,r,s,c){n[Xa(s?r.classBindings:r.styleBindings)]=c}(n,r,c,F))}else y=function Oy(n,r,s){let c;const f=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<f;y++)c=np(c,n[y].hostAttrs,s);return np(c,r.attrs,s)}(n,r,c)}return void 0!==y&&(c?r.residualClasses=y:r.residualStyles=y),s}(f,y,r,c),function Cy(n,r,s,c,f,y){let T=y?r.classBindings:r.styleBindings,R=Xa(T),F=Qa(T);n[c]=s;let ne,Z=!1;if(Array.isArray(s)){const Re=s;ne=Re[1],(null===ne||So(Re,ne)>0)&&(Z=!0)}else ne=s;if(f)if(0!==F){const st=Xa(n[R+1]);n[c+1]=wh(st,R),0!==st&&(n[st+1]=zo(n[st+1],c)),n[R+1]=function dc(n,r){return 131071&n|r<<17}(n[R+1],c)}else n[c+1]=wh(R,0),0!==R&&(n[R+1]=zo(n[R+1],c)),R=c;else n[c+1]=wh(F,0),0===R?R=c:n[F+1]=zo(n[F+1],c),F=c;Z&&(n[c+1]=Bl(n[c+1])),fm(n,ne,c,!0),fm(n,ne,c,!1),function Kd(n,r,s,c,f){const y=f?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&So(y,r)>=0&&(s[c+1]=hc(s[c+1]))}(r,ne,n,c,y),T=wh(R,F),y?r.classBindings=T:r.styleBindings=T}(f,y,r,s,T,c)}}(y,n,T,c),r!==ei&&Ea(f,T,r)&&function ym(n,r,s,c,f,y,T,R){if(!(3&r.type))return;const F=n.data,Z=F[R+1];Yh(function Ih(n){return 1==(1&n)}(Z)?Ny(F,r,s,f,Qa(Z),T):void 0)||(Yh(y)||function uu(n){return 2==(2&n)}(Z)&&(y=Ny(F,null,s,f,R,T)),function Uu(n,r,s,c,f){const y=Tr(n);if(r)f?y?n.addClass(s,c):s.classList.add(c):y?n.removeClass(s,c):s.classList.remove(c);else{let T=-1===c.indexOf("-")?void 0:K.DashCase;if(null==f)y?n.removeStyle(s,c,T):s.style.removeProperty(c);else{const R="string"==typeof f&&f.endsWith("!important");R&&(f=f.slice(0,-10),T|=K.Important),y?n.setStyle(s,c,f,T):s.style.setProperty(c,f,R?"important":"")}}}(c,T,Ct(nr(),s),f,y))}(y,y.data[nr()],f,f[11],n,f[T+1]=function rg(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=De(Ga(n)))),n}(r,s),c,T)}(n,r,null,!0),Xd}function gm(n,r,s,c,f){let y=null;const T=s.directiveEnd;let R=s.directiveStylingLast;for(-1===R?R=s.directiveStart:R++;R<T&&(y=r[R],c=np(c,y.hostAttrs,f),y!==n);)R++;return null!==n&&(s.directiveStylingLast=R),c}function np(n,r,s){const c=s?1:2;let f=-1;if(null!==r)for(let y=0;y<r.length;y++){const T=r[y];"number"==typeof T?f=T:f===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Bi(n,T,!!s||r[++y]))}return void 0===n?null:n}function Ny(n,r,s,c,f,y){const T=null===r;let R;for(;f>0;){const F=n[f],Z=Array.isArray(F),ne=Z?F[1]:F,Re=null===ne;let st=s[f+1];st===ei&&(st=Re?Me:void 0);let Tt=Re?Zo(st,c):ne===c?st:void 0;if(Z&&!Yh(Tt)&&(Tt=Zo(F,c)),Yh(Tt)&&(R=Tt,T))return R;const Xt=n[f+1];f=T?Xa(Xt):Qa(Xt)}if(null!==r){let F=y?r.residualClasses:r.residualStyles;null!=F&&(R=Zo(F,c))}return R}function Yh(n){return void 0!==n}function _m(n,r=""){const s=k(),c=b(),f=n+20,y=c.firstCreatePass?hu(c,f,1,r,null):c.data[f],T=s[f]=function Lu(n,r){return Tr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);$c(c,s,T,y),ke(y,!1)}function qu(n){return ig("",n,""),qu}function ig(n,r,s){const c=k(),f=jh(c,n,r,s);return f!==ei&&Hu(c,nr(),f),ig}const ud=void 0;var Wl=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qd(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Po={};function ag(n){const r=function Qh(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=wa(r);if(s)return s;const c=r.split("-")[0];if(s=wa(c),s)return s;if("en"===c)return Wl;throw new Error(`Missing locale data for the locale "${n}".`)}function Xh(n){return ag(n)[xr.PluralCase]}function wa(n){return n in Po||(Po[n]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[n]),Po[n]}var xr=(()=>((xr=xr||{})[xr.LocaleId=0]="LocaleId",xr[xr.DayPeriodsFormat=1]="DayPeriodsFormat",xr[xr.DayPeriodsStandalone=2]="DayPeriodsStandalone",xr[xr.DaysFormat=3]="DaysFormat",xr[xr.DaysStandalone=4]="DaysStandalone",xr[xr.MonthsFormat=5]="MonthsFormat",xr[xr.MonthsStandalone=6]="MonthsStandalone",xr[xr.Eras=7]="Eras",xr[xr.FirstDayOfWeek=8]="FirstDayOfWeek",xr[xr.WeekendRange=9]="WeekendRange",xr[xr.DateFormat=10]="DateFormat",xr[xr.TimeFormat=11]="TimeFormat",xr[xr.DateTimeFormat=12]="DateTimeFormat",xr[xr.NumberSymbols=13]="NumberSymbols",xr[xr.NumberFormats=14]="NumberFormats",xr[xr.CurrencyCode=15]="CurrencyCode",xr[xr.CurrencySymbol=16]="CurrencySymbol",xr[xr.CurrencyName=17]="CurrencyName",xr[xr.Currencies=18]="Currencies",xr[xr.Directionality=19]="Directionality",xr[xr.PluralCase=20]="PluralCase",xr[xr.ExtraData=21]="ExtraData",xr))();const Yu="en-US";let qy=Yu;function tv(n,r,s,c,f){if(n=re(n),Array.isArray(n))for(let y=0;y<n.length;y++)tv(n[y],r,s,c,f);else{const y=b(),T=k();let R=Jc(n)?n:re(n.provide),F=Mg(n);const Z=D(),ne=1048575&Z.providerIndexes,Re=Z.directiveStart,st=Z.providerIndexes>>20;if(Jc(n)||!n.multi){const Tt=new ma(F,f,Zf),Xt=rv(R,r,f?ne:ne+st,Re);-1===Xt?(Is(ca(Z,T),y,R),nv(y,n,r.length),r.push(R),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),s.push(Tt),T.push(Tt)):(s[Xt]=Tt,T[Xt]=Tt)}else{const Tt=rv(R,r,ne+st,Re),Xt=rv(R,r,ne,ne+st),Tn=Tt>=0&&s[Tt],Nn=Xt>=0&&s[Xt];if(f&&!Nn||!f&&!Tn){Is(ca(Z,T),y,R);const ir=function fb(n,r,s,c,f){const y=new ma(n,s,Zf);return y.multi=[],y.index=r,y.componentProviders=0,p0(y,f,c&&!s),y}(f?hb:db,s.length,f,c,F);!f&&Nn&&(s[Xt].providerFactory=ir),nv(y,n,r.length,0),r.push(R),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),s.push(ir),T.push(ir)}else nv(y,n,Tt>-1?Tt:Xt,p0(s[f?Xt:Tt],F,!f&&c));!f&&c&&Nn&&s[Xt].componentProviders++}}}function nv(n,r,s,c){const f=Jc(r),y=function Og(n){return!!n.useClass}(r);if(f||y){const F=(y?re(r.useClass):r).prototype.ngOnDestroy;if(F){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const ne=Z.indexOf(s);-1===ne?Z.push(s,[c,F]):Z[ne+1].push(c,F)}else Z.push(s,F)}}}function p0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function rv(n,r,s,c){for(let f=s;f<c;f++)if(r[f]===n)return f;return-1}function db(n,r,s,c){return iv(this.multi,[])}function hb(n,r,s,c){const f=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,R=U(s,s[1],this.providerFactory.index,c);y=R.slice(0,T),iv(f,y);for(let F=T;F<R.length;F++)y.push(R[F])}else y=[],iv(f,y);return y}function iv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function g0(n,r=[]){return s=>{s.providersResolver=(c,f)=>function cb(n,r,s){const c=b();if(c.firstCreatePass){const f=xt(n);tv(s,c.data,c.blueprint,f,!0),tv(r,c.data,c.blueprint,f,!1)}}(c,f?f(n):n,r)}}class m0{}class mb{resolveComponentFactory(r){throw function gb(n){const r=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let t_=(()=>{class n{}return n.NULL=new mb,n})();function yb(){return fg(D(),k())}function fg(n,r){return new Mm(Vt(n,r))}let Mm=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=yb,n})();function _b(n){return n instanceof Mm?n.nativeElement:n}class _0{}let vb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bb(){const n=k(),s=lr(D().index,n);return function Eb(n){return n[11]}(be(s)?s:n)}(),n})(),wb=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const E0=new v0("13.2.7"),sv={};function n_(n,r,s,c,f=!1){for(;null!==s;){const y=r[s.index];if(null!==y&&c.push($(y)),Pe(y))for(let R=10;R<y.length;R++){const F=y[R],Z=F[1].firstChild;null!==Z&&n_(F[1],F,Z,c)}const T=s.type;if(8&T)n_(n,r,s.child,c);else if(32&T){const R=it(s,r);let F;for(;F=R();)c.push(F)}else if(16&T){const R=ac(r,s);if(Array.isArray(R))c.push(...R);else{const F=An(r[16]);n_(F[1],F,R,c,!0)}}s=f?s.projectionNext:s.next}return c}class Rm{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return n_(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Pe(r)){const s=r[8],c=s?s.indexOf(this):-1;c>-1&&(xd(r,c),fo(s,c))}this._attachedToViewContainer=!1}dp(this._lView[1],this._lView)}onDestroy(r){Dp(this._lView[1],this._lView,null,r)}markForCheck(){H(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ze(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ot(n,r,s){tr(!0);try{Ze(n,r,s)}finally{tr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dh(n,r){lc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=r}}class Ib extends Rm{constructor(r){super(r),this._view=r}detectChanges(){kt(this._view)}checkNoChanges(){!function Jt(n){tr(!0);try{kt(n)}finally{tr(!1)}}(this._view)}get context(){return null}}class b0 extends t_{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ai(r);return new ov(s,this.ngModule)}}function w0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class ov extends m0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function jc(n){return n.map(Pa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(r,s,c,f){const y=(f=f||this.ngModule)?function Db(n,r){return{get:(s,c,f)=>{const y=n.get(s,sv,f);return y!==sv||c===sv?y:r.get(s,c,f)}}}(r,f.injector):r,T=y.get(_0,j),R=y.get(wb,null),F=T.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ne=c?function Cp(n,r,s){if(Tr(n))return n.selectRootElement(r,s===Rt.ShadowDom);let c="string"==typeof r?n.querySelector(r):r;return c.textContent="",c}(F,c,this.componentDef.encapsulation):Bc(T.createRenderer(null,this.componentDef),Z,function Cb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Z)),Re=this.componentDef.onPush?576:528,st=function Jm(n,r){return{components:[],scheduler:n||uh,clean:Ki,playerHandler:r||null,flags:0}}(),Tt=fs(0,null,null,1,0,null,null,null,null,null),Xt=pc(null,Tt,st,Re,null,null,T,F,R,y);let Tn,Nn;ga(Xt);try{const ir=function Qm(n,r,s,c,f,y){const T=s[1];s[20]=n;const F=hu(T,20,2,"#host",null),Z=F.mergedAttrs=r.hostAttrs;null!==Z&&(kp(F,Z,!0),null!==n&&(Qs(f,n,Z),null!==F.classes&&gh(f,n,F.classes),null!==F.styles&&$u(f,n,F.styles)));const ne=c.createRenderer(n,r),Re=pc(s,xh(r),null,r.onPush?64:16,s[20],F,c,ne,y||null,null);return T.firstCreatePass&&(Is(ca(F,s),T,r.type),Xc(T,F),Rp(F,s.length,1)),O(s,Re),s[20]=Re}(ne,this.componentDef,Xt,T,F);if(ne)if(c)Qs(F,ne,["ng-version",E0.full]);else{const{attrs:sn,classes:Pr}=function gp(n){const r=[],s=[];let c=1,f=2;for(;c<n.length;){let y=n[c];if("string"==typeof y)2===f?""!==y&&r.push(y,n[++c]):8===f&&s.push(y);else{if(!hs(f))break;f=y}c++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);sn&&Qs(F,ne,sn),Pr&&Pr.length>0&&gh(F,ne,Pr.join(" "))}if(Nn=or(Tt,20),void 0!==s){const sn=Nn.projection=[];for(let Pr=0;Pr<this.ngContentSelectors.length;Pr++){const Ui=s[Pr];sn.push(null!=Ui?Array.from(Ui):null)}}Tn=function Vp(n,r,s,c,f){const y=s[1],T=function Ap(n,r,s){const c=D();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Op(n,c,r,Wc(n,r,1,null),s));const f=U(r,n,c.directiveStart,c);no(f,r);const y=Vt(c,r);return y&&no(y,r),f}(y,s,r);if(c.components.push(T),n[8]=T,f&&f.forEach(F=>F(T,r)),r.contentQueries){const F=D();r.contentQueries(1,T,F.directiveStart)}const R=D();return!y.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Hs(R.index),Of(s[1],R,0,R.directiveStart,R.directiveEnd,r),Nh(r,T)),T}(ir,this.componentDef,Xt,st,[Vg]),qc(Tt,Xt,null)}finally{Ca()}return new Sb(this.componentType,Tn,fg(Nn,Xt),Xt,Nn)}}class Sb extends class pb{}{constructor(r,s,c,f,y){super(),this.location=c,this._rootLView=f,this._tNode=y,this.instance=s,this.hostView=this.changeDetectorRef=new Ib(f),this.componentType=r}get injector(){return new Le(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class pg{}class I0{}const gg=new Map;class T0 extends pg{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const c=Xr(r);this._bootstrapComponents=Ya(c.bootstrap),this._r3Injector=Gd(r,s,[{provide:pg,useValue:this},{provide:t_,useValue:this.componentFactoryResolver}],De(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=yl.THROW_IF_NOT_FOUND,c=tn.Default){return r===yl||r===pg||r===Ag?this:this._r3Injector.get(r,s,c)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class av extends I0{constructor(r){super(),this.moduleType=r,null!==Xr(r)&&function xb(n){const r=new Set;!function s(c){const f=Xr(c,!0),y=f.id;null!==y&&(function C0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${De(r)} vs ${De(r.name)}`)}(y,gg.get(y),c),gg.set(y,c));const T=Ya(f.imports);for(const R of T)r.has(R)||(r.add(R),s(R))}(n)}(r)}create(r){return new T0(this.moduleType,r)}}function S0(n,r,s,c){return A0(k(),cr(),n,r,s,c)}function A0(n,r,s,c,f,y){const T=r+s;return Ea(n,T,f)?function Gu(n,r,s){return n[r]=s}(n,T+1,y?c.call(y,f):c(f)):function Om(n,r){const s=n[r];return s===ei?void 0:s}(n,T+1)}function P0(n,r){const s=b();let c;const f=n+20;s.firstCreatePass?(c=function Vb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(n===c.name)return c}}(r,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(f,c.onDestroy)):c=s.data[f];const y=c.factory||(c.factory=ki(c.type)),T=ar(Zf);try{const R=Da(!1),F=y();return Da(R),function ay(n,r,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=c}(s,k(),f,F),F}finally{ar(T)}}function k0(n,r,s){const c=n+20,f=k(),y=function Nr(n,r){return n[r]}(f,c);return function Pm(n,r){return n[1].data[r].pure}(f,c)?A0(f,cr(),r,y.transform,s,y):y.transform(s)}function lv(n){return r=>{setTimeout(n,void 0,r)}}const cd=class Gb extends u.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){var f,y,T;let R=r,F=s||(()=>null),Z=c;if(r&&"object"==typeof r){const Re=r;R=null===(f=Re.next)||void 0===f?void 0:f.bind(Re),F=null===(y=Re.error)||void 0===y?void 0:y.bind(Re),Z=null===(T=Re.complete)||void 0===T?void 0:T.bind(Re)}this.__isAsync&&(F=lv(F),R&&(R=lv(R)),Z&&(Z=lv(Z)));const ne=super.subscribe({next:R,error:F,complete:Z});return r instanceof te.w&&r.add(ne),ne}};function zb(){return this._results[td()]()}class uv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=td(),c=uv.prototype;c[s]||(c[s]=zb)}get changes(){return this._changes||(this._changes=new cd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const f=uo(r);(this._changesDetected=!function sl(n,r,s){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let f=n[c],y=r[c];if(s&&(f=s(f),y=s(y)),y!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let km=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yb,n})();const Wb=km,qb=class extends Wb{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(r){const s=this._declarationTContainer.tViews,c=pc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[J];return null!==y&&(c[J]=y.createEmbeddedView(s)),qc(s,c,r),new Rm(c)}};function Yb(){return r_(D(),k())}function r_(n,r){return 4&n.type?new qb(r,n,fg(n,r)):null}let i_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kb,n})();function Kb(){return L0(D(),k())}const Zb=i_,N0=class extends Zb{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return fg(this._hostTNode,this._hostLView)}get injector(){return new Le(this._hostTNode,this._hostLView)}get parentInjector(){const r=Gs(this._hostTNode,this._hostLView);if(La(r)){const s=fi(r,this._hostLView),c=vo(r);return new Le(s[1].data[c+8],s)}return new Le(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=F0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,c){const f=r.createEmbeddedView(s||{});return this.insert(f,c),f}createComponent(r,s,c,f,y){const T=r&&!function Gi(n){return"function"==typeof n}(r);let R;if(T)R=s;else{const Re=s||{};R=Re.index,c=Re.injector,f=Re.projectableNodes,y=Re.ngModuleRef}const F=T?r:new ov(ai(r)),Z=c||this.parentInjector;if(!y&&null==F.ngModule){const st=(T?Z:this.parentInjector).get(pg,null);st&&(y=st)}const ne=F.create(Z,f,void 0,y);return this.insert(ne.hostView,R),ne}insert(r,s){const c=r._lView,f=c[1];if(function li(n){return Pe(n[3])}(c)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const Re=c[3],st=new N0(Re,Re[6],Re[3]);st.detach(st.indexOf(r))}}const y=this._adjustIndex(s),T=this._lContainer;!function Vc(n,r,s,c){const f=10+c,y=s.length;c>0&&(s[f-1][4]=r),c<y-10?(r[4]=s[f],Sa(s,10+c,r)):(s.push(r),r[4]=null),r[3]=s;const T=r[17];null!==T&&s!==T&&function oc(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(T,r);const R=r[J];null!==R&&R.insertView(n),r[2]|=128}(f,c,T,y);const R=Nl(y,T),F=c[11],Z=Pl(F,T[7]);return null!==Z&&function Ad(n,r,s,c,f,y){c[0]=f,c[6]=r,lc(n,c,s,1,f,y)}(f,T[6],F,c,Z,R),r.attachToViewContainerRef(),Sa(cv(T),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=F0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=xd(this._lContainer,s);c&&(fo(cv(this._lContainer),s),dp(c[1],c))}detach(r){const s=this._adjustIndex(r,-1),c=xd(this._lContainer,s);return c&&null!=fo(cv(this._lContainer),s)?new Rm(c):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function F0(n){return n[8]}function cv(n){return n[8]||(n[8]=[])}function L0(n,r){let s;const c=r[n.index];if(Pe(c))s=c;else{let f;if(8&n.type)f=$(c);else{const y=r[11];f=y.createComment("");const T=Vt(n,r);Ol(y,Pl(y,T),f,function yg(n,r){return Tr(n)?n.nextSibling(r):r.nextSibling}(y,T),!1)}r[n.index]=s=Lh(c,r,f,n),O(r,s)}return new N0(s,n,r)}class dv{constructor(r){this.queryList=r,this.matches=null}clone(){return new dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class hv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,f=[];for(let y=0;y<c;y++){const T=s.getByIndex(y);f.push(this.queries[T.indexInDeclarationView].clone())}return new hv(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==W0(r,s).matches&&this.queries[s].setDirty()}}class B0{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class fv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,y=this.getByIndex(c).embeddedTView(r,f);y&&(y.indexInDeclarationView=c,null!==s?s.push(y):s=[y])}return null!==s?new fv(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class pv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new pv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const y=c[f];this.matchTNodeWithReadOption(r,s,Jb(s,y)),this.matchTNodeWithReadOption(r,s,S(s,r,y,!1,!1))}else c===km?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,S(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Mm||f===i_||f===km&&4&s.type)this.addMatch(s.index,-2);else{const y=S(s,r,f,!1,!1);null!==y&&this.addMatch(s.index,y)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Jb(n,r){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function tw(n,r,s,c){return-1===s?function ew(n,r){return 11&n.type?fg(n,r):4&n.type?r_(n,r):null}(r,n):-2===s?function nw(n,r,s){return s===Mm?fg(r,n):s===km?r_(r,n):s===i_?L0(r,n):void 0}(n,r,c):U(n,n[1],s,r)}function V0(n,r,s,c){const f=r[J].queries[c];if(null===f.matches){const y=n.data,T=s.matches,R=[];for(let F=0;F<T.length;F+=2){const Z=T[F];R.push(Z<0?null:tw(r,y[Z],T[F+1],s.metadata.read))}f.matches=R}return f.matches}function gv(n,r,s,c){const f=n.queries.getByIndex(s),y=f.matches;if(null!==y){const T=V0(n,r,f,s);for(let R=0;R<y.length;R+=2){const F=y[R];if(F>0)c.push(T[R/2]);else{const Z=y[R+1],ne=r[-F];for(let Re=10;Re<ne.length;Re++){const st=ne[Re];st[17]===st[3]&&gv(st[1],st,Z,c)}if(null!==ne[9]){const Re=ne[9];for(let st=0;st<Re.length;st++){const Tt=Re[st];gv(Tt[1],Tt,Z,c)}}}}}return c}function U0(n){const r=k(),s=b(),c=_o();Yo(c+1);const f=W0(s,c);if(n.dirty&&Sr(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const y=f.crossesNgTemplate?gv(s,r,c,[]):V0(s,r,f,c);n.reset(y,_b),n.notifyOnChanges()}return!0}return!1}function $0(n,r,s){const c=b();c.firstCreatePass&&(z0(c,new B0(n,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),G0(c,k(),r)}function j0(n,r,s,c){const f=b();if(f.firstCreatePass){const y=D();z0(f,new B0(r,s,c),y.index),function iw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(f,n),2==(2&s)&&(f.staticContentQueries=!0)}G0(f,k(),s)}function H0(){return function rw(n,r){return n[J].queries[r].queryList}(k(),_o())}function G0(n,r,s){const c=new uv(4==(4&s));Dp(n,r,c,c.destroy),null===r[J]&&(r[J]=new hv),r[J].queries.push(new dv(c))}function z0(n,r,s){null===n.queries&&(n.queries=new fv),n.queries.track(new pv(r,s))}function W0(n,r){return n.queries.getByIndex(r)}function a_(...n){}const uE=new os("Application Initializer");let bv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=a_,this.reject=a_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(am(y))s.push(y);else if(lm(y)){const T=new Promise((R,F)=>{y.subscribe({complete:R,error:F})});s.push(T)}}Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ci(uE,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cE=new os("AppId",{providedIn:"root",factory:function dE(){return`${wv()}${wv()}${wv()}`}});function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hE=new os("Platform Initializer"),fE=new os("Platform ID"),pE=new os("appBootstrapListener");let gE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const Iv=new os("LocaleId",{providedIn:"root",factory:()=>Ua(Iv,tn.Optional|tn.SkipSelf)||function ww(){return"undefined"!=typeof $localize&&$localize.locale||Yu}()}),Iw=new os("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Dw=(()=>{class n{compileModuleSync(s){return new av(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),y=Ya(Xr(s).declarations).reduce((T,R)=>{const F=ai(R);return F&&T.push(new ov(F)),T},[]);return new Cw(c,y)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sw=(()=>Promise.resolve(0))();function Cv(n){"undefined"==typeof Zone?Sw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cd(!1),this.onMicrotaskEmpty=new cd(!1),this.onStable=new cd(!1),this.onError=new cd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Aw(){let n=xn.requestAnimationFrame,r=xn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Rw(n){const r=()=>{!function Mw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Tv(n),n.isCheckStableRunning=!0,Dv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Tv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,y,T,R)=>{try{return mE(n),s.invokeTask(f,y,T,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),yE(n)}},onInvoke:(s,c,f,y,T,R,F)=>{try{return mE(n),s.invoke(f,y,T,R,F)}finally{n.shouldCoalesceRunChangeDetection&&r(),yE(n)}},onHasTask:(s,c,f,y)=>{s.hasTask(f,y),c===f&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Tv(n),Dv(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,c,f,y)=>(s.handleError(f,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,f){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+f,r,xw,a_,a_);try{return y.runTask(T,s,c)}finally{y.cancelTask(T)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const xw={};function Dv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yE(n){n._nesting--,Dv(n)}class Ow{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cd,this.onMicrotaskEmpty=new cd,this.onStable=new cd,this.onError=new cd}run(r,s,c){return r.apply(s,c)}runGuarded(r,s,c){return r.apply(s,c)}runOutsideAngular(r){return r()}runTask(r,s,c,f){return r.apply(s,c)}}let _E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bc.assertNotInAngularZone(),Cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:y,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,c,f){return[]}}return n.\u0275fac=function(s){return new(s||n)(ci(bc))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),vE=(()=>{class n{constructor(){this._applications=new Map,Sv.addToWindow(this)}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return Sv.findTestabilityInTree(this,s,c)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class Pw{addToWindow(r){}findTestabilityInTree(r,s,c){return null}}function kw(n){Sv=n}let wc,Sv=new Pw;const EE=new os("AllowMultipleToken");class Lw{constructor(r,s){this.name=r,this.token=s}}function bE(n,r,s=[]){const c=`Platform: ${r}`,f=new os(c);return(y=[])=>{let T=wE();if(!T||T.injector.get(EE,!1))if(n)n(s.concat(y).concat({provide:f,useValue:!0}));else{const R=s.concat(y).concat({provide:f,useValue:!0},{provide:xg,useValue:"platform"});!function Bw(n){if(wc&&!wc.destroyed&&!wc.injector.get(EE,!1))throw new Ue(400,"");wc=n.get(IE);const r=n.get(hE,null);r&&r.forEach(s=>s())}(yl.create({providers:R,name:c}))}return function Vw(n){const r=wE();if(!r)throw new Ue(401,"");return r}()}}function wE(){return wc&&!wc.destroyed?wc:null}let IE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const R=function Uw(n,r){let s;return s="noop"===n?new Ow:("zone.js"===n?void 0:n)||new bc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),F=[{provide:bc,useValue:R}];return R.run(()=>{const Z=yl.create({providers:F,parent:this.injector,name:s.moduleType.name}),ne=s.create(Z),Re=ne.injector.get(ku,null);if(!Re)throw new Ue(402,"");return R.runOutsideAngular(()=>{const st=R.onError.subscribe({next:Tt=>{Re.handleError(Tt)}});ne.onDestroy(()=>{xv(this._modules,ne),st.unsubscribe()})}),function $w(n,r,s){try{const c=s();return am(c)?c.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(Re,R,()=>{const st=ne.injector.get(bv);return st.runInitializers(),st.donePromise.then(()=>(function K_(n){_t(n,"Expected localeId to be defined"),"string"==typeof n&&(qy=n.toLowerCase().replace(/_/g,"-"))}(ne.injector.get(Iv,Yu)||Yu),this._moduleDoBootstrap(ne),ne))})})}bootstrapModule(s,c=[]){const f=CE({},c);return function Nw(n,r,s){const c=new av(s);return Promise.resolve(c)}(0,0,s).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(s){const c=s.injector.get(Av);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Ue(403,"");s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ci(yl))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function CE(n,r){return Array.isArray(r)?r.reduce(CE,n):Object.assign(Object.assign({},n),r)}let Av=(()=>{class n{constructor(s,c,f,y,T){this._zone=s,this._injector=c,this._exceptionHandler=f,this._componentFactoryResolver=y,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new X.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),F=new X.y(Z=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{bc.assertNotInAngularZone(),Cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{bc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{ne.unsubscribe(),Re.unsubscribe()}});this.isStable=(0,ze.T)(R,F.pipe((0,Be.B)()))}bootstrap(s,c){if(!this._initStatus.done)throw new Ue(405,"");let f;f=s instanceof m0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(f.componentType);const y=function Fw(n){return n.isBoundToModule}(f)?void 0:this._injector.get(pg),R=f.create(yl.NULL,[],c||f.selector,y),F=R.location.nativeElement,Z=R.injector.get(_E,null),ne=Z&&R.injector.get(vE);return Z&&ne&&ne.registerApplication(F,Z),R.onDestroy(()=>{this.detachView(R.hostView),xv(this.components,R),ne&&ne.unregisterApplication(F)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;xv(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(pE,[]).concat(this._bootstrapListeners).forEach(f=>f(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(ci(bc),ci(yl),ci(ku),ci(t_),ci(bv))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xv(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let TE=!0,SE=!1;function Hw(){return SE=!0,TE}function Gw(){if(SE)throw new Error("Cannot enable prod mode after platform setup.");TE=!1}let zw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();function Ww(n){return function qw(n,r,s){if(Bt(n)&&!s){const c=lr(n.index,r);return new Rm(c,c)}return 47&n.type?new Rm(r[16],r):null}(D(),k(),16==(16&n))}class RE{constructor(){}supports(r){return Hf(r)}create(r){return new Jw(r)}}const Qw=(n,r)=>r;class Jw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Qw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,f=0,y=null;for(;s||c;){const T=!c||s&&s.currentIndex<PE(c,f,y)?s:c,R=PE(T,f,y),F=T.currentIndex;if(T===c)f--,c=c._nextRemoved;else if(s=s._next,null==T.previousIndex)f++;else{y||(y=[]);const Z=R-f,ne=F-f;if(Z!=ne){for(let st=0;st<Z;st++){const Tt=st<y.length?y[st]:y[st]=0,Xt=Tt+st;ne<=Xt&&Xt<Z&&(y[st]=Tt+1)}y[T.previousIndex]=ne-Z}}R!==F&&r(T,R,F)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Hf(r))throw new Ue(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,y,T,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)y=r[R],T=this._trackByFn(R,y),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,y,T,R)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,T,R),c=!0),s=s._next}else f=0,function __(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[td()]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,R=>{T=this._trackByFn(f,R),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,R,T,f)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,T,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,f){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,y,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,y,f)):r=this._addAfter(new eI(s,c),y,f),r}_verifyReinsertion(r,s,c,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?r=this._reinsertAfter(y,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,y=r._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const f=null===s?this._itHead:s._next;return r._next=f,r._prev=s,null===f?this._itTail=r:f._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new OE),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class eI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class OE{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new tI,this.map.set(s,c)),c.add(r)}get(r,s){const f=this.map.get(r);return f?f.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PE(n,r,s){const c=n.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+r+f}class kE{constructor(){}supports(r){return r instanceof Map||Gf(r)}create(){return new nI}}class nI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gf(r)))throw new Ue(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const y=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,y)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,s);const y=f._prev,T=f._next;return y&&(y._next=T),T&&(T._prev=y),f._next=null,f._prev=null,f}const c=new rI(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class rI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NE(){return new kv([new RE])}let kv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||NE()),deps:[[n,new Cl,new $a]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new Ue(901,"")}}return n.\u0275prov=et({token:n,providedIn:"root",factory:NE}),n})();function FE(){return new Nv([new kE])}let Nv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||FE()),deps:[[n,new Cl,new $a]]}}find(s){const c=this.factories.find(y=>y.supports(s));if(c)return c;throw new Ue(901,"")}}return n.\u0275prov=et({token:n,providedIn:"root",factory:FE}),n})();const oI=bE(null,"core",[{provide:fE,useValue:"unknown"},{provide:IE,deps:[yl]},{provide:vE,deps:[]},{provide:gE,deps:[]}]);let aI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ci(Av))},n.\u0275mod=Zr({type:n}),n.\u0275inj=Et({}),n})()},4182:(nn,dt,B)=>{"use strict";B.d(dt,{qu:()=>Fn,NI:()=>Jr,u5:()=>_i,JU:()=>re,a5:()=>zn,JJ:()=>Qn,JL:()=>mr,On:()=>kn,UX:()=>Ms,kI:()=>Xe,_Y:()=>jn});var u=B(5e3),te=B(9808),X=B(2916),ze=B(6688),Be=B(4850),ue=B(7830),xe=B(5254);function Ie(G,V){return new X.y(N=>{const ie=G.length;if(0===ie)return void N.complete();const Lt=new Array(ie);let E=0,k=0;for(let b=0;b<ie;b++){const v=(0,xe.D)(G[b]);let D=!1;N.add(v.subscribe({next:Y=>{D||(D=!0,k++),Lt[b]=Y},error:Y=>N.error(Y),complete:()=>{E++,(E===ie||!D)&&(k===ie&&N.next(V?V.reduce((Y,ge,ke)=>(Y[ge]=Lt[ke],Y),{}):Lt),N.complete())}}))}})}let ce=(()=>{class G{constructor(N,ie){this._renderer=N,this._elementRef=ie,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(N,ie){this._renderer.setProperty(this._elementRef.nativeElement,N,ie)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return G.\u0275fac=function(N){return new(N||G)(u.Y36(u.Qsj),u.Y36(u.SBq))},G.\u0275dir=u.lG2({type:G}),G})(),ve=(()=>{class G extends ce{}return G.\u0275fac=function(){let V;return function(ie){return(V||(V=u.n5z(G)))(ie||G)}}(),G.\u0275dir=u.lG2({type:G,features:[u.qOj]}),G})();const re=new u.OlP("NgValueAccessor"),Ue={provide:re,useExisting:(0,u.Gpc)(()=>je),multi:!0},Fe=new u.OlP("CompositionEventMode");let je=(()=>{class G extends ce{constructor(N,ie,Lt){super(N,ie),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const G=(0,te.q)()?(0,te.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return G.\u0275fac=function(N){return new(N||G)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Fe,8))},G.\u0275dir=u.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,ie){1&N&&u.NdJ("input",function(E){return ie._handleInput(E.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(E){return ie._compositionEnd(E.target.value)})},features:[u._Bn([Ue]),u.qOj]}),G})();function gt(G){return null==G||0===G.length}function we(G){return null!=G&&"number"==typeof G.length}const lt=new u.OlP("NgValidators"),It=new u.OlP("NgAsyncValidators"),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(V){return function bt(G){return V=>{if(gt(V.value)||gt(G))return null;const N=parseFloat(V.value);return!isNaN(N)&&N<G?{min:{min:G,actual:V.value}}:null}}(V)}static max(V){return function ye(G){return V=>{if(gt(V.value)||gt(G))return null;const N=parseFloat(V.value);return!isNaN(N)&&N>G?{max:{max:G,actual:V.value}}:null}}(V)}static required(V){return function Oe(G){return gt(G.value)?{required:!0}:null}(V)}static requiredTrue(V){return function Ae(G){return!0===G.value?null:{required:!0}}(V)}static email(V){return function he(G){return gt(G.value)||Mt.test(G.value)?null:{email:!0}}(V)}static minLength(V){return function _e(G){return V=>gt(V.value)||!we(V.value)?null:V.value.length<G?{minlength:{requiredLength:G,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function He(G){return V=>we(V.value)&&V.value.length>G?{maxlength:{requiredLength:G,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Je(G){if(!G)return St;let V,N;return"string"==typeof G?(N="","^"!==G.charAt(0)&&(N+="^"),N+=G,"$"!==G.charAt(G.length-1)&&(N+="$"),V=new RegExp(N)):(N=G.toString(),V=G),ie=>{if(gt(ie.value))return null;const Lt=ie.value;return V.test(Lt)?null:{pattern:{requiredPattern:N,actualValue:Lt}}}}(V)}static nullValidator(V){return null}static compose(V){return Te(V)}static composeAsync(V){return jt(V)}}function St(G){return null}function Wt(G){return null!=G}function pt(G){const V=(0,u.QGY)(G)?(0,xe.D)(G):G;return(0,u.CqO)(V),V}function _t(G){let V={};return G.forEach(N=>{V=null!=N?Object.assign(Object.assign({},V),N):V}),0===Object.keys(V).length?null:V}function qe(G,V){return V.map(N=>N(G))}function mt(G){return G.map(V=>function at(G){return!G.validate}(V)?V:N=>V.validate(N))}function Te(G){if(!G)return null;const V=G.filter(Wt);return 0==V.length?null:function(N){return _t(qe(N,V))}}function et(G){return null!=G?Te(mt(G)):null}function jt(G){if(!G)return null;const V=G.filter(Wt);return 0==V.length?null:function(N){return function De(...G){if(1===G.length){const V=G[0];if((0,ze.k)(V))return Ie(V,null);if((0,ue.K)(V)&&Object.getPrototypeOf(V)===Object.prototype){const N=Object.keys(V);return Ie(N.map(ie=>V[ie]),N)}}if("function"==typeof G[G.length-1]){const V=G.pop();return Ie(G=1===G.length&&(0,ze.k)(G[0])?G[0]:G,null).pipe((0,Be.U)(N=>V(...N)))}return Ie(G,null)}(qe(N,V).map(pt)).pipe((0,Be.U)(_t))}}function Et(G){return null!=G?jt(mt(G)):null}function en(G,V){return null===G?[V]:Array.isArray(G)?[...G,V]:[G,V]}function gn(G){return G?Array.isArray(G)?G:[G]:[]}function dn(G,V){return Array.isArray(G)?G.includes(V):G===V}function Wn(G,V){const N=gn(V);return gn(G).forEach(Lt=>{dn(N,Lt)||N.push(Lt)}),N}function jr(G,V){return gn(V).filter(N=>!dn(G,N))}class Gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,N){return!!this.control&&this.control.hasError(V,N)}getError(V,N){return this.control?this.control.getError(V,N):null}}class zn extends Gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tn extends Gn{get formDirective(){return null}get path(){return null}}class Mr{constructor(V){this._cd=V}is(V){var N,ie,Lt;return"submitted"===V?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(Lt=null===(ie=this._cd)||void 0===ie?void 0:ie.control)||void 0===Lt?void 0:Lt[V])}}let Qn=(()=>{class G extends Mr{constructor(N){super(N)}}return G.\u0275fac=function(N){return new(N||G)(u.Y36(zn,2))},G.\u0275dir=u.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,ie){2&N&&u.ekj("ng-untouched",ie.is("untouched"))("ng-touched",ie.is("touched"))("ng-pristine",ie.is("pristine"))("ng-dirty",ie.is("dirty"))("ng-valid",ie.is("valid"))("ng-invalid",ie.is("invalid"))("ng-pending",ie.is("pending"))},features:[u.qOj]}),G})(),mr=(()=>{class G extends Mr{constructor(N){super(N)}}return G.\u0275fac=function(N){return new(N||G)(u.Y36(tn,10))},G.\u0275dir=u.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,ie){2&N&&u.ekj("ng-untouched",ie.is("untouched"))("ng-touched",ie.is("touched"))("ng-pristine",ie.is("pristine"))("ng-dirty",ie.is("dirty"))("ng-valid",ie.is("valid"))("ng-invalid",ie.is("invalid"))("ng-pending",ie.is("pending"))("ng-submitted",ie.is("submitted"))},features:[u.qOj]}),G})();function Ge(G,V){(function vn(G,V){const N=function pn(G){return G._rawValidators}(G);null!==V.validator?G.setValidators(en(N,V.validator)):"function"==typeof N&&G.setValidators([N]);const ie=function Rn(G){return G._rawAsyncValidators}(G);null!==V.asyncValidator?G.setAsyncValidators(en(ie,V.asyncValidator)):"function"==typeof ie&&G.setAsyncValidators([ie]);const Lt=()=>G.updateValueAndValidity();Zt(V._rawValidators,Lt),Zt(V._rawAsyncValidators,Lt)})(G,V),V.valueAccessor.writeValue(G.value),function $n(G,V){V.valueAccessor.registerOnChange(N=>{G._pendingValue=N,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&wr(G,V)})}(G,V),function Zr(G,V){const N=(ie,Lt)=>{V.valueAccessor.writeValue(ie),Lt&&V.viewToModelUpdate(ie)};G.registerOnChange(N),V._registerOnDestroy(()=>{G._unregisterOnChange(N)})}(G,V),function Dn(G,V){V.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&wr(G,V),"submit"!==G.updateOn&&G.markAsTouched()})}(G,V),function on(G,V){if(V.valueAccessor.setDisabledState){const N=ie=>{V.valueAccessor.setDisabledState(ie)};G.registerOnDisabledChange(N),V._registerOnDestroy(()=>{G._unregisterOnDisabledChange(N)})}}(G,V)}function Zt(G,V){G.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(V)})}function wr(G,V){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function wi(G,V){const N=G.indexOf(V);N>-1&&G.splice(N,1)}const Dr="VALID",kr="INVALID",Lr="PENDING",Kt="DISABLED";function qn(G){return(mi(G)?G.validators:G)||null}function Wr(G){return Array.isArray(G)?et(G):G||null}function Qr(G,V){return(mi(V)?V.asyncValidators:G)||null}function Ir(G){return Array.isArray(G)?Et(G):G||null}function mi(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}const Rr=G=>G instanceof Jr,Ci=G=>G instanceof ii,Gr=G=>G instanceof $i;function Kn(G){return Rr(G)?G.value:G.getRawValue()}function Zi(G,V){const N=Ci(G),ie=G.controls;if(!(N?Object.keys(ie):ie).length)throw new u.vHH(1e3,"");if(!ie[V])throw new u.vHH(1001,"")}function Pi(G,V){Ci(G),G._forEachChild((ie,Lt)=>{if(void 0===V[Lt])throw new u.vHH(1002,"")})}class Ai{constructor(V,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=N,this._composedValidatorFn=Wr(this._rawValidators),this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Dr}get invalid(){return this.status===kr}get pending(){return this.status==Lr}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=Wr(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=Ir(V)}addValidators(V){this.setValidators(Wn(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Wn(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(jr(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(jr(V,this._rawAsyncValidators))}hasValidator(V){return dn(this._rawValidators,V)}hasAsyncValidator(V){return dn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=Lr,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(ie=>{ie.disable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:N})),this._onDisabledChange.forEach(ie=>ie(!0))}enable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=Dr,this._forEachChild(ie=>{ie.enable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:N})),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dr||this.status===Lr)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:Dr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator=!0;const N=pt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,N={}){this.errors=V,this._updateControlsErrors(!1!==N.emitEvent)}get(V){return function mn(G,V,N){if(null==V||(Array.isArray(V)||(V=V.split(N)),Array.isArray(V)&&0===V.length))return null;let ie=G;return V.forEach(Lt=>{ie=Ci(ie)?ie.controls.hasOwnProperty(Lt)?ie.controls[Lt]:null:Gr(ie)&&ie.at(Lt)||null}),ie}(this,V,".")}getError(V,N){const ie=N?this.get(N):this;return ie&&ie.errors?ie.errors[V]:null}hasError(V,N){return!!this.getError(V,N)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(kr)?kr:Dr}_anyControlsHaveStatus(V){return this._anyControls(N=>N.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_isBoxedValue(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){mi(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jr extends Ai{constructor(V=null,N,ie){super(qn(N),Qr(ie,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mi(N)&&N.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(V)?V.value:V)}setValue(V,N={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(V,N={}){this.setValue(V,N)}reset(V=this.defaultValue,N={}){this._applyFormState(V),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){wi(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){wi(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){this._isBoxedValue(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}}class ii extends Ai{constructor(V,N,ie){super(qn(N),Qr(ie,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,N){return this.controls[V]?this.controls[V]:(this.controls[V]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(V,N,ie={}){this.registerControl(V,N),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(V,N={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(V,N,ie={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],N&&this.registerControl(V,N),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,N={}){Pi(this,V),Object.keys(V).forEach(ie=>{Zi(this,ie),this.controls[ie].setValue(V[ie],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(Object.keys(V).forEach(ie=>{this.controls[ie]&&this.controls[ie].patchValue(V[ie],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V={},N={}){this._forEachChild((ie,Lt)=>{ie.reset(V[Lt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(V,N,ie)=>(V[ie]=Kn(N),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(N,ie)=>!!ie._syncPendingControls()||N);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(N=>{const ie=this.controls[N];ie&&V(ie,N)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const N of Object.keys(this.controls)){const ie=this.controls[N];if(this.contains(N)&&V(ie))return!0}return!1}_reduceValue(){return this._reduceChildren({},(V,N,ie)=>((N.enabled||this.disabled)&&(V[ie]=N.value),V))}_reduceChildren(V,N){let ie=V;return this._forEachChild((Lt,E)=>{ie=N(ie,Lt,E)}),ie}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class $i extends Ai{constructor(V,N,ie){super(qn(N),Qr(ie,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[V]}push(V,N={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(V,N,ie={}){this.controls.splice(V,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(V,N={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(V,N,ie={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),N&&(this.controls.splice(V,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,N={}){Pi(this,V),V.forEach((ie,Lt)=>{Zi(this,Lt),this.at(Lt).setValue(ie,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(V.forEach((ie,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(ie,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V=[],N={}){this._forEachChild((ie,Lt)=>{ie.reset(V[Lt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(V=>Kn(V))}clear(V={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_syncPendingControls(){let V=this.controls.reduce((N,ie)=>!!ie._syncPendingControls()||N,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((N,ie)=>{V(N,ie)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(N=>N.enabled&&V(N))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}}const xt={provide:zn,useExisting:(0,u.Gpc)(()=>kn)},yn=(()=>Promise.resolve(null))();let kn=(()=>{class G extends zn{constructor(N,ie,Lt,E,k){super(),this._changeDetectorRef=k,this.control=new Jr,this._registered=!1,this.update=new u.vpe,this._parent=N,this._setValidators(ie),this._setAsyncValidators(Lt),this.valueAccessor=function Jn(G,V){if(!V)return null;let N,ie,Lt;return Array.isArray(V),V.forEach(E=>{E.constructor===je?N=E:function Xr(G){return Object.getPrototypeOf(G.constructor)===ve}(E)?ie=E:Lt=E}),Lt||ie||N||null}(0,E)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const ie=N.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),function Oi(G,V){if(!G.hasOwnProperty("model"))return!1;const N=G.model;return!!N.isFirstChange()||!Object.is(V,N.currentValue)}(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ge(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){yn.then(()=>{var ie;this.control.setValue(N,{emitViewToModelChange:!1}),null===(ie=this._changeDetectorRef)||void 0===ie||ie.markForCheck()})}_updateDisabled(N){const ie=N.isDisabled.currentValue,Lt=""===ie||ie&&"false"!==ie;yn.then(()=>{var E;Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),null===(E=this._changeDetectorRef)||void 0===E||E.markForCheck()})}_getPath(N){return this._parent?function Nt(G,V){return[...V.path,G]}(N,this._parent):[N]}}return G.\u0275fac=function(N){return new(N||G)(u.Y36(tn,9),u.Y36(lt,10),u.Y36(It,10),u.Y36(re,10),u.Y36(u.sBO,8))},G.\u0275dir=u.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([xt]),u.qOj,u.TTD]}),G})(),jn=(()=>{class G{}return G.\u0275fac=function(N){return new(N||G)},G.\u0275dir=u.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})(),Qe=(()=>{class G{}return G.\u0275fac=function(N){return new(N||G)},G.\u0275mod=u.oAB({type:G}),G.\u0275inj=u.cJS({}),G})();const Ur=new u.OlP("NgModelWithFormControlWarning");let li=(()=>{class G{}return G.\u0275fac=function(N){return new(N||G)},G.\u0275mod=u.oAB({type:G}),G.\u0275inj=u.cJS({imports:[[Qe]]}),G})(),_i=(()=>{class G{}return G.\u0275fac=function(N){return new(N||G)},G.\u0275mod=u.oAB({type:G}),G.\u0275inj=u.cJS({imports:[li]}),G})(),Ms=(()=>{class G{static withConfig(N){return{ngModule:G,providers:[{provide:Ur,useValue:N.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(N){return new(N||G)},G.\u0275mod=u.oAB({type:G}),G.\u0275inj=u.cJS({imports:[li]}),G})(),Fn=(()=>{class G{group(N,ie=null){const Lt=this._reduceControls(N);let b,E=null,k=null;return null!=ie&&(function ys(G){return void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn}(ie)?(E=null!=ie.validators?ie.validators:null,k=null!=ie.asyncValidators?ie.asyncValidators:null,b=null!=ie.updateOn?ie.updateOn:void 0):(E=null!=ie.validator?ie.validator:null,k=null!=ie.asyncValidator?ie.asyncValidator:null)),new ii(Lt,{asyncValidators:k,updateOn:b,validators:E})}control(N,ie,Lt){return new Jr(N,ie,Lt)}array(N,ie,Lt){const E=N.map(k=>this._createControl(k));return new $i(E,ie,Lt)}_reduceControls(N){const ie={};return Object.keys(N).forEach(Lt=>{ie[Lt]=this._createControl(N[Lt])}),ie}_createControl(N){return Rr(N)||Ci(N)||Gr(N)?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return G.\u0275fac=function(N){return new(N||G)},G.\u0275prov=u.Yz7({token:G,factory:G.\u0275fac,providedIn:Ms}),G})()},3442:(nn,dt,B)=>{"use strict";B.d(dt,{gz:()=>xt,y6:()=>Tr,OD:()=>tn,eC:()=>On,wm:()=>br,wN:()=>Fi,F0:()=>ss,rH:()=>_a,yS:()=>lo,Bz:()=>ws,Hx:()=>kr});var u=B(5e3),te=B(2866),X=B(6688),ze=B(826),Be=B(448),ue=B(3009);const xe={};class Ie{constructor(x){this.resultSelector=x}call(x,S){return S.subscribe(new ce(x,this.resultSelector))}}class ce extends ze.L{constructor(x,S){super(x),this.resultSelector=S,this.active=0,this.values=[],this.observables=[]}_next(x){this.values.push(xe),this.observables.push(x)}_complete(){const x=this.observables,S=x.length;if(0===S)this.destination.complete();else{this.active=S,this.toRespond=S;for(let U=0;U<S;U++)this.add((0,Be.D)(this,x[U],void 0,U))}}notifyComplete(x){0==(this.active-=1)&&this.destination.complete()}notifyNext(x,S,U){const q=this.values,Ne=this.toRespond?q[U]===xe?--this.toRespond:this.toRespond:0;q[U]=S,0===Ne&&(this.resultSelector?this._tryResultSelector(q):this.destination.next(q.slice()))}_tryResultSelector(x){let S;try{S=this.resultSelector.apply(this,x)}catch(U){return void this.destination.error(U)}this.destination.next(S)}}var ve=B(2916),re=B(5254),fe=B(8896);function Ye(M){return new ve.y(x=>{let S;try{S=M()}catch(q){return void x.error(q)}return(S?(0,re.D)(S):(0,fe.c)()).subscribe(x)})}var Ue=B(1086),Ee=B(591),Fe=B(1737),je=B(4450),gt=B(1221),we=B(1762),lt=B(8929),It=B(1177);function Mt(M){return function(S){const U=new Xe(M),q=S.lift(U);return U.caught=q}}class Xe{constructor(x){this.selector=x}call(x,S){return S.subscribe(new bt(x,this.selector,this.caught))}}class bt extends It.Ds{constructor(x,S,U){super(x),this.selector=S,this.caught=U}error(x){if(!this.isStopped){let S;try{S=this.selector(x,this.caught)}catch(ae){return void super.error(ae)}this._unsubscribeAndRecycle();const U=new It.IY(this);this.add(U);const q=(0,It.ft)(S,U);q!==U&&this.add(q)}}}var ye=B(2198),Oe=B(3489),Ae=B(4231);function he(M){return function(S){return 0===M?(0,fe.c)():S.lift(new _e(M))}}class _e{constructor(x){if(this.total=x,this.total<0)throw new Ae.W}call(x,S){return S.subscribe(new He(x,this.total))}}class He extends Oe.L{constructor(x,S){super(x),this.total=S,this.ring=new Array,this.count=0}_next(x){const S=this.ring,U=this.total,q=this.count++;S.length<U?S.push(x):S[q%U]=x}_complete(){const x=this.destination;let S=this.count;if(S>0){const U=this.count>=this.total?this.total:this.count,q=this.ring;for(let ae=0;ae<U;ae++){const Ne=S++%U;x.next(q[Ne])}}x.complete()}}var Je=B(4907),St=B(7314),Wt=B(5379),_t=B(2654);class at{constructor(x){this.callback=x}call(x,S){return S.subscribe(new mt(x,this.callback))}}class mt extends Oe.L{constructor(x,S){super(x),this.add(new _t.w(S))}}var Te=B(4850),et=B(7545),jt=B(2986),Et=B(1059),en=B(2014),pn=B(1406),Rn=B(7224),gn=B(1709),dn=B(2868),Wn=B(4327),jr=B(9146),Gn=B(9808);class zn{constructor(x,S){this.id=x,this.url=S}}class tn extends zn{constructor(x,S,U="imperative",q=null){super(x,S),this.navigationTrigger=U,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends zn{constructor(x,S,U){super(x,S),this.urlAfterRedirects=U}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ur extends zn{constructor(x,S,U){super(x,S),this.reason=U}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends zn{constructor(x,S,U){super(x,S),this.error=U}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qn extends zn{constructor(x,S,U,q){super(x,S),this.urlAfterRedirects=U,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends zn{constructor(x,S,U,q){super(x,S),this.urlAfterRedirects=U,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt extends zn{constructor(x,S,U,q,ae){super(x,S),this.urlAfterRedirects=U,this.state=q,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ke extends zn{constructor(x,S,U,q){super(x,S),this.urlAfterRedirects=U,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends zn{constructor(x,S,U,q){super(x,S),this.urlAfterRedirects=U,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rt{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qt{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hn{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(x,S,U){this.routerEvent=x,this.position=S,this.anchor=U}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const On="primary";class pr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const S=this.params[x];return Array.isArray(S)?S[0]:S}return null}getAll(x){if(this.has(x)){const S=this.params[x];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function yr(M){return new pr(M)}const Me="ngNavigationCancelingError";function We(M){const x=Error("NavigationCancelingError: "+M);return x[Me]=!0,x}function Nt(M,x,S){const U=S.path.split("/");if(U.length>M.length||"full"===S.pathMatch&&(x.hasChildren()||U.length<M.length))return null;const q={};for(let ae=0;ae<U.length;ae++){const Ne=U[ae],Le=M[ae];if(Ne.startsWith(":"))q[Ne.substring(1)]=Le;else if(Ne!==Le.path)return null}return{consumed:M.slice(0,U.length),posParams:q}}function ut(M,x){const S=M?Object.keys(M):void 0,U=x?Object.keys(x):void 0;if(!S||!U||S.length!=U.length)return!1;let q;for(let ae=0;ae<S.length;ae++)if(q=S[ae],!Zt(M[q],x[q]))return!1;return!0}function Zt(M,x){if(Array.isArray(M)&&Array.isArray(x)){if(M.length!==x.length)return!1;const S=[...M].sort(),U=[...x].sort();return S.every((q,ae)=>U[ae]===q)}return M===x}function on(M){return Array.prototype.concat.apply([],M)}function vn(M){return M.length>0?M[M.length-1]:null}function $n(M,x){for(const S in M)M.hasOwnProperty(S)&&x(M[S],S)}function Dn(M){return(0,u.CqO)(M)?M:(0,u.QGY)(M)?(0,re.D)(Promise.resolve(M)):(0,Ue.of)(M)}const Zr={exact:function gi(M,x,S){if(!Ei(M.segments,x.segments)||!Xr(M.segments,x.segments,S)||M.numberOfChildren!==x.numberOfChildren)return!1;for(const U in x.children)if(!M.children[U]||!gi(M.children[U],x.children[U],S))return!1;return!0},subset:Si},Hr={exact:function ls(M,x){return ut(M,x)},subset:function ai(M,x){return Object.keys(x).length<=Object.keys(M).length&&Object.keys(x).every(S=>Zt(M[S],x[S]))},ignored:()=>!0};function Ri(M,x,S){return Zr[S.paths](M.root,x.root,S.matrixParams)&&Hr[S.queryParams](M.queryParams,x.queryParams)&&!("exact"===S.fragment&&M.fragment!==x.fragment)}function Si(M,x,S){return Oi(M,x,x.segments,S)}function Oi(M,x,S,U){if(M.segments.length>S.length){const q=M.segments.slice(0,S.length);return!(!Ei(q,S)||x.hasChildren()||!Xr(q,S,U))}if(M.segments.length===S.length){if(!Ei(M.segments,S)||!Xr(M.segments,S,U))return!1;for(const q in x.children)if(!M.children[q]||!Si(M.children[q],x.children[q],U))return!1;return!0}{const q=S.slice(0,M.segments.length),ae=S.slice(M.segments.length);return!!(Ei(M.segments,q)&&Xr(M.segments,q,U)&&M.children[On])&&Oi(M.children[On],x,ae,U)}}function Xr(M,x,S){return x.every((U,q)=>Hr[S](M[q].parameters,U.parameters))}class Fr{constructor(x,S,U){this.root=x,this.queryParams=S,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Jn{constructor(x,S){this.segments=x,this.children=S,this.parent=null,$n(S,(U,q)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class wi{constructor(x,S){this.path=x,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return Gr(this)}}function Ei(M,x){return M.length===x.length&&M.every((S,U)=>S.path===x[U].path)}class kr{}class Lr{parse(x){const S=new J(x);return new Fr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(x){const S=`/${qn(x.root,!0)}`,U=function Zi(M){const x=Object.keys(M).map(S=>{const U=M[S];return Array.isArray(U)?U.map(q=>`${Qr(S)}=${Qr(q)}`).join("&"):`${Qr(S)}=${Qr(U)}`}).filter(S=>!!S);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${S}${U}${"string"==typeof x.fragment?`#${function Ir(M){return encodeURI(M)}(x.fragment)}`:""}`}}const Kt=new Lr;function mn(M){return M.segments.map(x=>Gr(x)).join("/")}function qn(M,x){if(!M.hasChildren())return mn(M);if(x){const S=M.children[On]?qn(M.children[On],!1):"",U=[];return $n(M.children,(q,ae)=>{ae!==On&&U.push(`${ae}:${qn(q,!1)}`)}),U.length>0?`${S}(${U.join("//")})`:S}{const S=function Dr(M,x){let S=[];return $n(M.children,(U,q)=>{q===On&&(S=S.concat(x(U,q)))}),$n(M.children,(U,q)=>{q!==On&&(S=S.concat(x(U,q)))}),S}(M,(U,q)=>q===On?[qn(M.children[On],!1)]:[`${q}:${qn(U,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[On]?`${mn(M)}/${S[0]}`:`${mn(M)}/(${S.join("//")})`}}function Wr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(M){return Wr(M).replace(/%3B/gi,";")}function mi(M){return Wr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rr(M){return decodeURIComponent(M)}function Ci(M){return Rr(M.replace(/\+/g,"%20"))}function Gr(M){return`${mi(M.path)}${function Kn(M){return Object.keys(M).map(x=>`;${mi(x)}=${mi(M[x])}`).join("")}(M.parameters)}`}const Pi=/^[^\/()?;=#]+/;function Ai(M){const x=M.match(Pi);return x?x[0]:""}const Jr=/^[^=?&#]+/,$i=/^[^&#]+/;class J{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(x.length>0||Object.keys(S).length>0)&&(U[On]=new Jn(x,S)),U}parseSegment(){const x=Ai(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new wi(Rr(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const S=Ai(this.remaining);if(!S)return;this.capture(S);let U="";if(this.consumeOptional("=")){const q=Ai(this.remaining);q&&(U=q,this.capture(U))}x[Rr(S)]=Rr(U)}parseQueryParam(x){const S=function ii(M){const x=M.match(Jr);return x?x[0]:""}(this.remaining);if(!S)return;this.capture(S);let U="";if(this.consumeOptional("=")){const Ne=function di(M){const x=M.match($i);return x?x[0]:""}(this.remaining);Ne&&(U=Ne,this.capture(U))}const q=Ci(S),ae=Ci(U);if(x.hasOwnProperty(q)){let Ne=x[q];Array.isArray(Ne)||(Ne=[Ne],x[q]=Ne),Ne.push(ae)}else x[q]=ae}parseParens(x){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=Ai(this.remaining),q=this.remaining[U.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let ae;U.indexOf(":")>-1?(ae=U.substr(0,U.indexOf(":")),this.capture(ae),this.capture(":")):x&&(ae=On);const Ne=this.parseChildren();S[ae]=1===Object.keys(Ne).length?Ne[On]:new Jn([],Ne),this.consumeOptional("//")}return S}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class me{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const S=this.pathFromRoot(x);return S.length>1?S[S.length-2]:null}children(x){const S=W(x,this._root);return S?S.children.map(U=>U.value):[]}firstChild(x){const S=W(x,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(x){const S=ft(x,this._root);return S.length<2?[]:S[S.length-2].children.map(q=>q.value).filter(q=>q!==x)}pathFromRoot(x){return ft(x,this._root).map(S=>S.value)}}function W(M,x){if(M===x.value)return x;for(const S of x.children){const U=W(M,S);if(U)return U}return null}function ft(M,x){if(M===x.value)return[x];for(const S of x.children){const U=ft(M,S);if(U.length)return U.unshift(x),U}return[]}class be{constructor(x,S){this.value=x,this.children=S}toString(){return`TreeNode(${this.value})`}}function Pe(M){const x={};return M&&M.children.forEach(S=>x[S.value.outlet]=S),x}class ct extends me{constructor(x,S){super(x),this.snapshot=S,ti(this,x)}toString(){return this.snapshot.toString()}}function Bt(M,x){const S=function Pt(M,x){const Ne=new jn([],{},{},"",{},On,x,null,M.root,-1,{});return new sr("",new be(Ne,[]))}(M,x),U=new Ee.X([new wi("",{})]),q=new Ee.X({}),ae=new Ee.X({}),Ne=new Ee.X({}),Le=new Ee.X(""),Gt=new xt(U,q,Ne,Le,ae,On,x,S.root);return Gt.snapshot=S.root,new ct(new be(Gt,[]),S)}class xt{constructor(x,S,U,q,ae,Ne,Le,Gt){this.url=x,this.params=S,this.queryParams=U,this.fragment=q,this.data=ae,this.outlet=Ne,this.component=Le,this._futureSnapshot=Gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(x=>yr(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(x=>yr(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yn(M,x="emptyOnly"){const S=M.pathFromRoot;let U=0;if("always"!==x)for(U=S.length-1;U>=1;){const q=S[U],ae=S[U-1];if(q.routeConfig&&""===q.routeConfig.path)U--;else{if(ae.component)break;U--}}return function kn(M){return M.reduce((x,S)=>({params:Object.assign(Object.assign({},x.params),S.params),data:Object.assign(Object.assign({},x.data),S.data),resolve:Object.assign(Object.assign({},x.resolve),S._resolvedData)}),{params:{},data:{},resolve:{}})}(S.slice(U))}class jn{constructor(x,S,U,q,ae,Ne,Le,Gt,Mn,Yr,cn){this.url=x,this.params=S,this.queryParams=U,this.fragment=q,this.data=ae,this.outlet=Ne,this.component=Le,this.routeConfig=Gt,this._urlSegment=Mn,this._lastPathIndex=Yr,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sr extends me{constructor(x,S){super(S),this.url=x,ti(this,S)}toString(){return yi(this._root)}}function ti(M,x){x.value._routerState=M,x.children.forEach(S=>ti(M,S))}function yi(M){const x=M.children.length>0?` { ${M.children.map(yi).join(", ")} } `:"";return`${M.value}${x}`}function rt(M){if(M.snapshot){const x=M.snapshot,S=M._futureSnapshot;M.snapshot=S,ut(x.queryParams,S.queryParams)||M.queryParams.next(S.queryParams),x.fragment!==S.fragment&&M.fragment.next(S.fragment),ut(x.params,S.params)||M.params.next(S.params),function Ge(M,x){if(M.length!==x.length)return!1;for(let S=0;S<M.length;++S)if(!ut(M[S],x[S]))return!1;return!0}(x.url,S.url)||M.url.next(S.url),ut(x.data,S.data)||M.data.next(S.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Qe(M,x){const S=ut(M.params,x.params)&&function Ii(M,x){return Ei(M,x)&&M.every((S,U)=>ut(S.parameters,x[U].parameters))}(M.url,x.url);return S&&!(!M.parent!=!x.parent)&&(!M.parent||Qe(M.parent,x.parent))}function Ht(M,x,S){if(S&&M.shouldReuseRoute(x.value,S.value.snapshot)){const U=S.value;U._futureSnapshot=x.value;const q=function Qt(M,x,S){return x.children.map(U=>{for(const q of S.children)if(M.shouldReuseRoute(U.value,q.value.snapshot))return Ht(M,U,q);return Ht(M,U)})}(M,x,S);return new be(U,q)}{if(M.shouldAttach(x.value)){const ae=M.retrieve(x.value);if(null!==ae){const Ne=ae.route;return Ne.value._futureSnapshot=x.value,Ne.children=x.children.map(Le=>Ht(M,Le)),Ne}}const U=function Cn(M){return new xt(new Ee.X(M.url),new Ee.X(M.params),new Ee.X(M.queryParams),new Ee.X(M.fragment),new Ee.X(M.data),M.outlet,M.component,M)}(x.value),q=x.children.map(ae=>Ht(M,ae));return new be(U,q)}}function Or(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Yn(M){return"object"==typeof M&&null!=M&&M.outlets}function xs(M,x,S,U,q){let ae={};if(U&&$n(U,(Le,Gt)=>{ae[Gt]=Array.isArray(Le)?Le.map(Mn=>`${Mn}`):`${Le}`}),M===x)return new Fr(S,ae,q);const Ne=Ji(M,x,S);return new Fr(Ne,ae,q)}function Ji(M,x,S){const U={};return $n(M.children,(q,ae)=>{U[ae]=q===x?S:Ji(q,x,S)}),new Jn(M.segments,U)}class Wi{constructor(x,S,U){if(this.isAbsolute=x,this.numberOfDoubleDots=S,this.commands=U,x&&U.length>0&&Or(U[0]))throw new Error("Root segment cannot have matrix parameters");const q=U.find(Yn);if(q&&q!==vn(U))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Li{constructor(x,S,U){this.segmentGroup=x,this.processChildren=S,this.index=U}}function ki(M,x,S){if(M||(M=new Jn([],{})),0===M.segments.length&&M.hasChildren())return es(M,x,S);const U=function qr(M,x,S){let U=0,q=x;const ae={match:!1,pathIndex:0,commandIndex:0};for(;q<M.segments.length;){if(U>=S.length)return ae;const Ne=M.segments[q],Le=S[U];if(Yn(Le))break;const Gt=`${Le}`,Mn=U<S.length-1?S[U+1]:null;if(q>0&&void 0===Gt)break;if(Gt&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!ho(Gt,Mn,Ne))return ae;U+=2}else{if(!ho(Gt,{},Ne))return ae;U++}q++}return{match:!0,pathIndex:q,commandIndex:U}}(M,x,S),q=S.slice(U.commandIndex);if(U.match&&U.pathIndex<M.segments.length){const ae=new Jn(M.segments.slice(0,U.pathIndex),{});return ae.children[On]=new Jn(M.segments.slice(U.pathIndex),M.children),es(ae,0,q)}return U.match&&0===q.length?new Jn(M.segments,{}):U.match&&!M.hasChildren()?gs(M,x,S):U.match?es(M,0,q):gs(M,x,S)}function es(M,x,S){if(0===S.length)return new Jn(M.segments,{});{const U=function Xs(M){return Yn(M[0])?M[0].outlets:{[On]:M}}(S),q={};return $n(U,(ae,Ne)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(q[Ne]=ki(M.children[Ne],x,ae))}),$n(M.children,(ae,Ne)=>{void 0===U[Ne]&&(q[Ne]=ae)}),new Jn(M.segments,q)}}function gs(M,x,S){const U=M.segments.slice(0,x);let q=0;for(;q<S.length;){const ae=S[q];if(Yn(ae)){const Gt=io(ae.outlets);return new Jn(U,Gt)}if(0===q&&Or(S[0])){U.push(new wi(M.segments[x].path,go(S[0]))),q++;continue}const Ne=Yn(ae)?ae.outlets[On]:`${ae}`,Le=q<S.length-1?S[q+1]:null;Ne&&Le&&Or(Le)?(U.push(new wi(Ne,go(Le))),q+=2):(U.push(new wi(Ne,{})),q++)}return new Jn(U,{})}function io(M){const x={};return $n(M,(S,U)=>{"string"==typeof S&&(S=[S]),null!==S&&(x[U]=gs(new Jn([],{}),0,S))}),x}function go(M){const x={};return $n(M,(S,U)=>x[U]=`${S}`),x}function ho(M,x,S){return M==S.path&&ut(x,S.parameters)}class Ns{constructor(x,S,U,q){this.routeReuseStrategy=x,this.futureState=S,this.currState=U,this.forwardEvent=q}activate(x){const S=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,U,x),rt(this.futureState.root),this.activateChildRoutes(S,U,x)}deactivateChildRoutes(x,S,U){const q=Pe(S);x.children.forEach(ae=>{const Ne=ae.value.outlet;this.deactivateRoutes(ae,q[Ne],U),delete q[Ne]}),$n(q,(ae,Ne)=>{this.deactivateRouteAndItsChildren(ae,U)})}deactivateRoutes(x,S,U){const q=x.value,ae=S?S.value:null;if(q===ae)if(q.component){const Ne=U.getContext(q.outlet);Ne&&this.deactivateChildRoutes(x,S,Ne.children)}else this.deactivateChildRoutes(x,S,U);else ae&&this.deactivateRouteAndItsChildren(S,U)}deactivateRouteAndItsChildren(x,S){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,S):this.deactivateRouteAndOutlet(x,S)}detachAndStoreRouteSubtree(x,S){const U=S.getContext(x.value.outlet),q=U&&x.value.component?U.children:S,ae=Pe(x);for(const Ne of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ne],q);if(U&&U.outlet){const Ne=U.outlet.detach(),Le=U.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Ne,route:x,contexts:Le})}}deactivateRouteAndOutlet(x,S){const U=S.getContext(x.value.outlet),q=U&&x.value.component?U.children:S,ae=Pe(x);for(const Ne of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Ne],q);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(x,S,U){const q=Pe(S);x.children.forEach(ae=>{this.activateRoutes(ae,q[ae.value.outlet],U),this.forwardEvent(new Un(ae.value.snapshot))}),x.children.length&&this.forwardEvent(new hn(x.value.snapshot))}activateRoutes(x,S,U){const q=x.value,ae=S?S.value:null;if(rt(q),q===ae)if(q.component){const Ne=U.getOrCreateContext(q.outlet);this.activateChildRoutes(x,S,Ne.children)}else this.activateChildRoutes(x,S,U);else if(q.component){const Ne=U.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const Le=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Ne.children.onOutletReAttached(Le.contexts),Ne.attachRef=Le.componentRef,Ne.route=Le.route.value,Ne.outlet&&Ne.outlet.attach(Le.componentRef,Le.route.value),rt(Le.route.value),this.activateChildRoutes(x,null,Ne.children)}else{const Le=function ts(M){for(let x=M.parent;x;x=x.parent){const S=x.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig;if(S&&S.component)return null}return null}(q.snapshot),Gt=Le?Le.module.componentFactoryResolver:null;Ne.attachRef=null,Ne.route=q,Ne.resolver=Gt,Ne.outlet&&Ne.outlet.activateWith(q,Gt),this.activateChildRoutes(x,null,Ne.children)}}else this.activateChildRoutes(x,null,U)}}class Yi{constructor(x,S){this.routes=x,this.module=S}}function Br(M){return"function"==typeof M}function hi(M){return M instanceof Fr}const ns=Symbol("INITIAL_VALUE");function Xi(){return(0,et.w)(M=>function De(...M){let x,S;return(0,te.K)(M[M.length-1])&&(S=M.pop()),"function"==typeof M[M.length-1]&&(x=M.pop()),1===M.length&&(0,X.k)(M[0])&&(M=M[0]),(0,ue.n)(M,S).lift(new Ie(x))}(M.map(x=>x.pipe((0,jt.q)(1),(0,Et.O)(ns)))).pipe((0,en.R)((x,S)=>{let U=!1;return S.reduce((q,ae,Ne)=>q!==ns?q:(ae===ns&&(U=!0),U||!1!==ae&&Ne!==S.length-1&&!hi(ae)?q:ae),x)},ns),(0,ye.h)(x=>x!==ns),(0,Te.U)(x=>hi(x)?x:!0===x),(0,jt.q)(1)))}class No{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tr,this.attachRef=null}}class Tr{constructor(){this.contexts=new Map}onChildOutletCreated(x,S){const U=this.getOrCreateContext(x);U.outlet=S,this.contexts.set(x,U)}onChildOutletDestroyed(x){const S=this.getContext(x);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let S=this.getContext(x);return S||(S=new No,this.contexts.set(x,S)),S}getContext(x){return this.contexts.get(x)||null}}let j=(()=>{class M{constructor(S,U,q,ae,Ne){this.parentContexts=S,this.location=U,this.resolver=q,this.changeDetector=Ne,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=ae||On,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,U){this.activated=S,this._activatedRoute=U,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;const Ne=(U=U||this.resolver).resolveComponentFactory(S._futureSnapshot.routeConfig.component),Le=this.parentContexts.getOrCreateContext(this.name).children,Gt=new se(S,Le,this.location.injector);this.activated=this.location.createComponent(Ne,this.location.length,Gt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(S){return new(S||M)(u.Y36(Tr),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},M.\u0275dir=u.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class se{constructor(x,S,U){this.route=x,this.childContexts=S,this.parent=U}get(x,S){return x===xt?this.route:x===Tr?this.childContexts:this.parent.get(x,S)}}let $=(()=>{class M{}return M.\u0275fac=function(S){return new(S||M)},M.\u0275cmp=u.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(S,U){1&S&&u._UZ(0,"router-outlet")},directives:[j],encapsulation:2}),M})();function de(M,x=""){for(let S=0;S<M.length;S++){const U=M[S];nt(U,Ct(x,U))}}function nt(M,x){M.children&&de(M.children,x)}function Ct(M,x){return x?M||x.path?M&&!x.path?`${M}/`:!M&&x.path?x.path:`${M}/${x.path}`:"":M}function Vt(M){const x=M.children&&M.children.map(Vt),S=x?Object.assign(Object.assign({},M),{children:x}):Object.assign({},M);return!S.component&&(x||S.loadChildren)&&S.outlet&&S.outlet!==On&&(S.component=$),S}function In(M){return M.outlet||On}function or(M,x){const S=M.filter(U=>In(U)===x);return S.push(...M.filter(U=>In(U)!==x)),S}const Nr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lr(M,x,S){var U;if(""===x.path)return"full"===x.pathMatch&&(M.hasChildren()||S.length>0)?Object.assign({},Nr):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const ae=(x.matcher||Nt)(S,M,x);if(!ae)return Object.assign({},Nr);const Ne={};$n(ae.posParams,(Gt,Mn)=>{Ne[Mn]=Gt.path});const Le=ae.consumed.length>0?Object.assign(Object.assign({},Ne),ae.consumed[ae.consumed.length-1].parameters):Ne;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:S.slice(ae.consumed.length),parameters:Le,positionalParamSegments:null!==(U=ae.posParams)&&void 0!==U?U:{}}}function Sr(M,x,S,U,q="corrected"){if(S.length>0&&function _i(M,x,S){return S.some(U=>ys(M,x,U)&&In(U)!==On)}(M,S,U)){const Ne=new Jn(x,function li(M,x,S,U){const q={};q[On]=U,U._sourceSegment=M,U._segmentIndexShift=x.length;for(const ae of S)if(""===ae.path&&In(ae)!==On){const Ne=new Jn([],{});Ne._sourceSegment=M,Ne._segmentIndexShift=x.length,q[In(ae)]=Ne}return q}(M,x,U,new Jn(S,M.children)));return Ne._sourceSegment=M,Ne._segmentIndexShift=x.length,{segmentGroup:Ne,slicedSegments:[]}}if(0===S.length&&function Ms(M,x,S){return S.some(U=>ys(M,x,U))}(M,S,U)){const Ne=new Jn(M.segments,function Di(M,x,S,U,q,ae){const Ne={};for(const Le of U)if(ys(M,S,Le)&&!q[In(Le)]){const Gt=new Jn([],{});Gt._sourceSegment=M,Gt._segmentIndexShift="legacy"===ae?M.segments.length:x.length,Ne[In(Le)]=Gt}return Object.assign(Object.assign({},q),Ne)}(M,x,S,U,M.children,q));return Ne._sourceSegment=M,Ne._segmentIndexShift=x.length,{segmentGroup:Ne,slicedSegments:S}}const ae=new Jn(M.segments,M.children);return ae._sourceSegment=M,ae._segmentIndexShift=x.length,{segmentGroup:ae,slicedSegments:S}}function ys(M,x,S){return(!(M.hasChildren()||x.length>0)||"full"!==S.pathMatch)&&""===S.path}function Fn(M,x,S,U){return!!(In(M)===U||U!==On&&ys(x,S,M))&&("**"===M.path||lr(x,M,S).matched)}function ji(M,x,S){return 0===x.length&&!M.children[S]}class G{constructor(x){this.segmentGroup=x||null}}class V{constructor(x){this.urlTree=x}}function N(M){return(0,Fe._)(new G(M))}function ie(M){return(0,Fe._)(new V(M))}class b{constructor(x,S,U,q,ae){this.configLoader=S,this.urlSerializer=U,this.urlTree=q,this.config=ae,this.allowRedirects=!0,this.ngModule=x.get(u.h0i)}apply(){const x=Sr(this.urlTree.root,[],[],this.config).segmentGroup,S=new Jn(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,S,On).pipe((0,Te.U)(ae=>this.createUrlTree(D(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mt(ae=>{if(ae instanceof V)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof G?this.noMatchError(ae):ae}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,On).pipe((0,Te.U)(q=>this.createUrlTree(D(q),x.queryParams,x.fragment))).pipe(Mt(q=>{throw q instanceof G?this.noMatchError(q):q}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,S,U){const q=x.segments.length>0?new Jn([],{[On]:x}):x;return new Fr(q,S,U)}expandSegmentGroup(x,S,U,q){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(x,S,U).pipe((0,Te.U)(ae=>new Jn([],ae))):this.expandSegment(x,U,S,U.segments,q,!0)}expandChildren(x,S,U){const q=[];for(const ae of Object.keys(U.children))"primary"===ae?q.unshift(ae):q.push(ae);return(0,re.D)(q).pipe((0,pn.b)(ae=>{const Ne=U.children[ae],Le=or(S,ae);return this.expandSegmentGroup(x,Le,Ne,ae).pipe((0,Te.U)(Gt=>({segment:Gt,outlet:ae})))}),(0,en.R)((ae,Ne)=>(ae[Ne.outlet]=Ne.segment,ae),{}),function pt(M,x){const S=arguments.length>=2;return U=>U.pipe(M?(0,ye.h)((q,ae)=>M(q,ae,U)):Wt.y,he(1),S?(0,St.d)(x):(0,Je.T)(()=>new je.K))}())}expandSegment(x,S,U,q,ae,Ne){return(0,re.D)(U).pipe((0,pn.b)(Le=>this.expandSegmentAgainstRoute(x,S,U,Le,q,ae,Ne).pipe(Mt(Mn=>{if(Mn instanceof G)return(0,Ue.of)(null);throw Mn}))),(0,Rn.P)(Le=>!!Le),Mt((Le,Gt)=>{if(Le instanceof je.K||"EmptyError"===Le.name)return ji(S,q,ae)?(0,Ue.of)(new Jn([],{})):N(S);throw Le}))}expandSegmentAgainstRoute(x,S,U,q,ae,Ne,Le){return Fn(q,S,ae,Ne)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(x,S,q,ae,Ne):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,S,U,q,ae,Ne):N(S):N(S)}expandSegmentAgainstRouteUsingRedirect(x,S,U,q,ae,Ne){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,U,q,Ne):this.expandRegularSegmentAgainstRouteUsingRedirect(x,S,U,q,ae,Ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,S,U,q){const ae=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?ie(ae):this.lineralizeSegments(U,ae).pipe((0,gn.zg)(Ne=>{const Le=new Jn(Ne,{});return this.expandSegment(x,Le,S,Ne,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,S,U,q,ae,Ne){const{matched:Le,consumedSegments:Gt,remainingSegments:Mn,positionalParamSegments:Yr}=lr(S,q,ae);if(!Le)return N(S);const cn=this.applyRedirectCommands(Gt,q.redirectTo,Yr);return q.redirectTo.startsWith("/")?ie(cn):this.lineralizeSegments(q,cn).pipe((0,gn.zg)(Kr=>this.expandSegment(x,S,U,Kr.concat(Mn),Ne,!1)))}matchSegmentAgainstRoute(x,S,U,q,ae){if("**"===U.path)return U.loadChildren?(U._loadedConfig?(0,Ue.of)(U._loadedConfig):this.configLoader.load(x.injector,U)).pipe((0,Te.U)(cn=>(U._loadedConfig=cn,new Jn(q,{})))):(0,Ue.of)(new Jn(q,{}));const{matched:Ne,consumedSegments:Le,remainingSegments:Gt}=lr(S,U,q);return Ne?this.getChildConfig(x,U,q).pipe((0,gn.zg)(Yr=>{const cn=Yr.module,Kr=Yr.routes,{segmentGroup:si,slicedSegments:rr}=Sr(S,Le,Gt,Kr),_s=new Jn(si.segments,si.children);if(0===rr.length&&_s.hasChildren())return this.expandChildren(cn,Kr,_s).pipe((0,Te.U)(os=>new Jn(Le,os)));if(0===Kr.length&&0===rr.length)return(0,Ue.of)(new Jn(Le,{}));const Lo=In(U)===ae;return this.expandSegment(cn,_s,Kr,rr,Lo?On:ae,!0).pipe((0,Te.U)(er=>new Jn(Le.concat(er.segments),er.children)))})):N(S)}getChildConfig(x,S,U){return S.children?(0,Ue.of)(new Yi(S.children,x)):S.loadChildren?void 0!==S._loadedConfig?(0,Ue.of)(S._loadedConfig):this.runCanLoadGuards(x.injector,S,U).pipe((0,gn.zg)(q=>q?this.configLoader.load(x.injector,S).pipe((0,Te.U)(ae=>(S._loadedConfig=ae,ae))):function E(M){return(0,Fe._)(We(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))}(S))):(0,Ue.of)(new Yi([],x))}runCanLoadGuards(x,S,U){const q=S.canLoad;if(!q||0===q.length)return(0,Ue.of)(!0);const ae=q.map(Ne=>{const Le=x.get(Ne);let Gt;if(function mo(M){return M&&Br(M.canLoad)}(Le))Gt=Le.canLoad(S,U);else{if(!Br(Le))throw new Error("Invalid CanLoad guard");Gt=Le(S,U)}return Dn(Gt)});return(0,Ue.of)(ae).pipe(Xi(),(0,dn.b)(Ne=>{if(!hi(Ne))return;const Le=We(`Redirecting to "${this.urlSerializer.serialize(Ne)}"`);throw Le.url=Ne,Le}),(0,Te.U)(Ne=>!0===Ne))}lineralizeSegments(x,S){let U=[],q=S.root;for(;;){if(U=U.concat(q.segments),0===q.numberOfChildren)return(0,Ue.of)(U);if(q.numberOfChildren>1||!q.children[On])return(0,Fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x.redirectTo}'`));q=q.children[On]}}applyRedirectCommands(x,S,U){return this.applyRedirectCreatreUrlTree(S,this.urlSerializer.parse(S),x,U)}applyRedirectCreatreUrlTree(x,S,U,q){const ae=this.createSegmentGroup(x,S.root,U,q);return new Fr(ae,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(x,S){const U={};return $n(x,(q,ae)=>{if("string"==typeof q&&q.startsWith(":")){const Le=q.substring(1);U[ae]=S[Le]}else U[ae]=q}),U}createSegmentGroup(x,S,U,q){const ae=this.createSegments(x,S.segments,U,q);let Ne={};return $n(S.children,(Le,Gt)=>{Ne[Gt]=this.createSegmentGroup(x,Le,U,q)}),new Jn(ae,Ne)}createSegments(x,S,U,q){return S.map(ae=>ae.path.startsWith(":")?this.findPosParam(x,ae,q):this.findOrReturn(ae,U))}findPosParam(x,S,U){const q=U[S.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${x}'. Cannot find '${S.path}'.`);return q}findOrReturn(x,S){let U=0;for(const q of S){if(q.path===x.path)return S.splice(U),q;U++}return x}}function D(M){const x={};for(const U of Object.keys(M.children)){const ae=D(M.children[U]);(ae.segments.length>0||ae.hasChildren())&&(x[U]=ae)}return function v(M){if(1===M.numberOfChildren&&M.children[On]){const x=M.children[On];return new Jn(M.segments.concat(x.segments),x.children)}return M}(new Jn(M.segments,x))}class ge{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ke{constructor(x,S){this.component=x,this.route=S}}function ht(M,x,S){const U=M._root;return Hn(U,x?x._root:null,S,[U.value])}function En(M,x,S){const U=function fn(M){if(!M)return null;for(let x=M.parent;x;x=x.parent){const S=x.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig}return null}(x);return(U?U.module.injector:S).get(M)}function Hn(M,x,S,U,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Pe(x);return M.children.forEach(Ne=>{(function tr(M,x,S,U,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=M.value,Ne=x?x.value:null,Le=S?S.getContext(M.value.outlet):null;if(Ne&&ae.routeConfig===Ne.routeConfig){const Gt=function cr(M,x,S){if("function"==typeof S)return S(M,x);switch(S){case"pathParamsChange":return!Ei(M.url,x.url);case"pathParamsOrQueryParamsChange":return!Ei(M.url,x.url)||!ut(M.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qe(M,x)||!ut(M.queryParams,x.queryParams);default:return!Qe(M,x)}}(Ne,ae,ae.routeConfig.runGuardsAndResolvers);Gt?q.canActivateChecks.push(new ge(U)):(ae.data=Ne.data,ae._resolvedData=Ne._resolvedData),Hn(M,x,ae.component?Le?Le.children:null:S,U,q),Gt&&Le&&Le.outlet&&Le.outlet.isActivated&&q.canDeactivateChecks.push(new ke(Le.outlet.component,Ne))}else Ne&&_r(x,Le,q),q.canActivateChecks.push(new ge(U)),Hn(M,null,ae.component?Le?Le.children:null:S,U,q)})(Ne,ae[Ne.value.outlet],S,U.concat([Ne.value]),q),delete ae[Ne.value.outlet]}),$n(ae,(Ne,Le)=>_r(Ne,S.getContext(Le),q)),q}function _r(M,x,S){const U=Pe(M),q=M.value;$n(U,(ae,Ne)=>{_r(ae,q.component?x?x.children.getContext(Ne):null:x,S)}),S.canDeactivateChecks.push(new ke(q.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,q))}class yo{}function _o(M){return new ve.y(x=>x.error(M))}class ta{constructor(x,S,U,q,ae,Ne){this.rootComponentType=x,this.config=S,this.urlTree=U,this.url=q,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=Ne}recognize(){const x=Sr(this.urlTree.root,[],[],this.config.filter(Ne=>void 0===Ne.redirectTo),this.relativeLinkResolution).segmentGroup,S=this.processSegmentGroup(this.config,x,On);if(null===S)return null;const U=new jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new be(U,S),ae=new sr(this.url,q);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(x){const S=x.value,U=yn(S,this.paramsInheritanceStrategy);S.params=Object.freeze(U.params),S.data=Object.freeze(U.data),x.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(x,S,U){return 0===S.segments.length&&S.hasChildren()?this.processChildren(x,S):this.processSegment(x,S,S.segments,U)}processChildren(x,S){const U=[];for(const ae of Object.keys(S.children)){const Ne=S.children[ae],Le=or(x,ae),Gt=this.processSegmentGroup(Le,Ne,ae);if(null===Gt)return null;U.push(...Gt)}const q=el(U);return function na(M){M.sort((x,S)=>x.value.outlet===On?-1:S.value.outlet===On?1:x.value.outlet.localeCompare(S.value.outlet))}(q),q}processSegment(x,S,U,q){for(const ae of x){const Ne=this.processSegmentAgainstRoute(ae,S,U,q);if(null!==Ne)return Ne}return ji(S,U,q)?[]:null}processSegmentAgainstRoute(x,S,U,q){if(x.redirectTo||!Fn(x,S,U,q))return null;let ae,Ne=[],Le=[];if("**"===x.path){const si=U.length>0?vn(U).parameters:{};ae=new jn(U,si,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ui(x),In(x),x.component,x,ka(S),Ca(S)+U.length,ni(x))}else{const si=lr(S,x,U);if(!si.matched)return null;Ne=si.consumedSegments,Le=si.remainingSegments,ae=new jn(Ne,si.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ui(x),In(x),x.component,x,ka(S),Ca(S)+Ne.length,ni(x))}const Gt=function ga(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(x),{segmentGroup:Mn,slicedSegments:Yr}=Sr(S,Ne,Le,Gt.filter(si=>void 0===si.redirectTo),this.relativeLinkResolution);if(0===Yr.length&&Mn.hasChildren()){const si=this.processChildren(Gt,Mn);return null===si?null:[new be(ae,si)]}if(0===Gt.length&&0===Yr.length)return[new be(ae,[])];const cn=In(x)===q,Kr=this.processSegment(Gt,Mn,Yr,cn?On:q);return null===Kr?null:[new be(ae,Kr)]}}function ra(M){const x=M.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function el(M){const x=[],S=new Set;for(const U of M){if(!ra(U)){x.push(U);continue}const q=x.find(ae=>U.value.routeConfig===ae.value.routeConfig);void 0!==q?(q.children.push(...U.children),S.add(q)):x.push(U)}for(const U of S){const q=el(U.children);x.push(new be(U.value,q))}return x.filter(U=>!S.has(U))}function ka(M){let x=M;for(;x._sourceSegment;)x=x._sourceSegment;return x}function Ca(M){let x=M,S=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,S+=x._segmentIndexShift?x._segmentIndexShift:0;return S-1}function ui(M){return M.data||{}}function ni(M){return M.resolve||{}}function tl(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function vu(M){return(0,et.w)(x=>{const S=M(x);return S?(0,re.D)(S).pipe((0,Te.U)(()=>x)):(0,Ue.of)(x)})}class Fi{}class Fs extends class Vr{shouldDetach(x){return!1}store(x,S){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,S){return x.routeConfig===S.routeConfig}}{}const ia=new u.OlP("ROUTES");class oo{constructor(x,S,U,q){this.injector=x,this.compiler=S,this.onLoadStartListener=U,this.onLoadEndListener=q}load(x,S){if(S._loader$)return S._loader$;this.onLoadStartListener&&this.onLoadStartListener(S);const q=this.loadModuleFactory(S.loadChildren).pipe((0,Te.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(S);const Ne=ae.create(x);return new Yi(on(Ne.injector.get(ia,void 0,u.XFs.Self|u.XFs.Optional)).map(Vt),Ne)}),Mt(ae=>{throw S._loader$=void 0,ae}));return S._loader$=new we.c(q,()=>new lt.xQ).pipe((0,Wn.x)()),S._loader$}loadModuleFactory(x){return Dn(x()).pipe((0,gn.zg)(S=>S instanceof u.YKP?(0,Ue.of)(S):(0,re.D)(this.compiler.compileModuleAsync(S))))}}class Os{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,S){return x}}function nl(M){throw M}function sa(M,x,S){return x.parse("/")}function ma(M,x){return(0,Ue.of)(null)}const ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ya={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class M{constructor(S,U,q,ae,Ne,Le,Gt){this.rootComponentType=S,this.urlSerializer=U,this.rootContexts=q,this.location=ae,this.config=Gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.xQ,this.errorHandler=nl,this.malformedUriErrorHandler=sa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ma,afterPreactivation:ma},this.urlHandlingStrategy=new Os,this.routeReuseStrategy=new Fs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ne.get(u.h0i),this.console=Ne.get(u.c2e);const cn=Ne.get(u.R0b);this.isNgZoneEnabled=cn instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Gt),this.currentUrlTree=function wr(){return new Fr(new Jn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oo(Ne,Le,Kr=>this.triggerEvent(new Yt(Kr)),Kr=>this.triggerEvent(new Rt(Kr))),this.routerState=Bt(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const U=this.events;return S.pipe((0,ye.h)(q=>0!==q.id),(0,Te.U)(q=>Object.assign(Object.assign({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,et.w)(q=>{let ae=!1,Ne=!1;return(0,Ue.of)(q).pipe((0,dn.b)(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.currentRawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,et.w)(Le=>{const Gt=this.browserUrlTree.toString(),Mn=!this.navigated||Le.extractedUrl.toString()!==Gt||Gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Mn)&&this.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return vl(Le.source)&&(this.browserUrlTree=Le.extractedUrl),(0,Ue.of)(Le).pipe((0,et.w)(cn=>{const Kr=this.transitions.getValue();return U.next(new tn(cn.id,this.serializeUrl(cn.extractedUrl),cn.source,cn.restoredState)),Kr!==this.transitions.getValue()?fe.E:Promise.resolve(cn)}),function Y(M,x,S,U){return(0,et.w)(q=>function k(M,x,S,U,q){return new b(M,x,S,U,q).apply()}(M,x,S,q.extractedUrl,U).pipe((0,Te.U)(ae=>Object.assign(Object.assign({},q),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dn.b)(cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:cn.urlAfterRedirects})}),function nr(M,x,S,U,q){return(0,gn.zg)(ae=>function Yo(M,x,S,U,q="emptyOnly",ae="legacy"){try{const Ne=new ta(M,x,S,U,q,ae).recognize();return null===Ne?_o(new yo):(0,Ue.of)(Ne)}catch(Ne){return _o(Ne)}}(M,x,ae.urlAfterRedirects,S(ae.urlAfterRedirects),U,q).pipe((0,Te.U)(Ne=>Object.assign(Object.assign({},ae),{targetSnapshot:Ne}))))}(this.rootComponentType,this.config,cn=>this.serializeUrl(cn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dn.b)(cn=>{if("eager"===this.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const si=this.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);this.setBrowserUrl(si,cn)}this.browserUrlTree=cn.urlAfterRedirects}const Kr=new Qn(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);U.next(Kr)}));if(Mn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kr,extractedUrl:si,source:rr,restoredState:_s,extras:Lo}=Le,cs=new tn(Kr,this.serializeUrl(si),rr,_s);U.next(cs);const er=Bt(si,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},Le),{targetSnapshot:er,urlAfterRedirects:si,extras:Object.assign(Object.assign({},Lo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Le.rawUrl,Le.resolve(null),fe.E}),vu(Le=>{const{targetSnapshot:Gt,id:Mn,extractedUrl:Yr,rawUrl:cn,extras:{skipLocationChange:Kr,replaceUrl:si}}=Le;return this.hooks.beforePreactivation(Gt,{navigationId:Mn,appliedUrlTree:Yr,rawUrlTree:cn,skipLocationChange:!!Kr,replaceUrl:!!si})}),(0,dn.b)(Le=>{const Gt=new mr(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(Gt)}),(0,Te.U)(Le=>Object.assign(Object.assign({},Le),{guards:ht(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)})),function xi(M,x){return(0,gn.zg)(S=>{const{targetSnapshot:U,currentSnapshot:q,guards:{canActivateChecks:ae,canDeactivateChecks:Ne}}=S;return 0===Ne.length&&0===ae.length?(0,Ue.of)(Object.assign(Object.assign({},S),{guardsResult:!0})):function bi(M,x,S,U){return(0,re.D)(M).pipe((0,gn.zg)(q=>function is(M,x,S,U,q){const ae=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Ue.of)(!0);const Ne=ae.map(Le=>{const Gt=En(Le,x,q);let Mn;if(function ms(M){return M&&Br(M.canDeactivate)}(Gt))Mn=Dn(Gt.canDeactivate(M,x,S,U));else{if(!Br(Gt))throw new Error("Invalid CanDeactivate guard");Mn=Dn(Gt(M,x,S,U))}return Mn.pipe((0,Rn.P)())});return(0,Ue.of)(Ne).pipe(Xi())}(q.component,q.route,S,x,U)),(0,Rn.P)(q=>!0!==q,!0))}(Ne,U,q,M).pipe((0,gn.zg)(Le=>Le&&function Es(M){return"boolean"==typeof M}(Le)?function Ni(M,x,S,U){return(0,re.D)(x).pipe((0,pn.b)(q=>(0,gt.z)(function so(M,x){return null!==M&&x&&x(new qt(M)),(0,Ue.of)(!0)}(q.route.parent,U),function Ti(M,x){return null!==M&&x&&x(new Xn(M)),(0,Ue.of)(!0)}(q.route,U),function rs(M,x,S){const U=x[x.length-1],ae=x.slice(0,x.length-1).reverse().map(Ne=>function Ut(M){const x=M.routeConfig?M.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:M,guards:x}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>Ye(()=>{const Le=Ne.guards.map(Gt=>{const Mn=En(Gt,Ne.node,S);let Yr;if(function bs(M){return M&&Br(M.canActivateChild)}(Mn))Yr=Dn(Mn.canActivateChild(U,M));else{if(!Br(Mn))throw new Error("Invalid CanActivateChild guard");Yr=Dn(Mn(U,M))}return Yr.pipe((0,Rn.P)())});return(0,Ue.of)(Le).pipe(Xi())}));return(0,Ue.of)(ae).pipe(Xi())}(M,q.path,S),function vi(M,x,S){const U=x.routeConfig?x.routeConfig.canActivate:null;if(!U||0===U.length)return(0,Ue.of)(!0);const q=U.map(ae=>Ye(()=>{const Ne=En(ae,x,S);let Le;if(function us(M){return M&&Br(M.canActivate)}(Ne))Le=Dn(Ne.canActivate(x,M));else{if(!Br(Ne))throw new Error("Invalid CanActivate guard");Le=Dn(Ne(x,M))}return Le.pipe((0,Rn.P)())}));return(0,Ue.of)(q).pipe(Xi())}(M,q.route,S))),(0,Rn.P)(q=>!0!==q,!0))}(U,ae,M,x):(0,Ue.of)(Le)),(0,Te.U)(Le=>Object.assign(Object.assign({},S),{guardsResult:Le})))})}(this.ngModule.injector,Le=>this.triggerEvent(Le)),(0,dn.b)(Le=>{if(hi(Le.guardsResult)){const Mn=We(`Redirecting to "${this.serializeUrl(Le.guardsResult)}"`);throw Mn.url=Le.guardsResult,Mn}const Gt=new yt(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.triggerEvent(Gt)}),(0,ye.h)(Le=>!!Le.guardsResult||(this.restoreHistory(Le),this.cancelNavigationTransition(Le,""),!1)),vu(Le=>{if(Le.guards.canActivateChecks.length)return(0,Ue.of)(Le).pipe((0,dn.b)(Gt=>{const Mn=new Ke(Gt.id,this.serializeUrl(Gt.extractedUrl),this.serializeUrl(Gt.urlAfterRedirects),Gt.targetSnapshot);this.triggerEvent(Mn)}),(0,et.w)(Gt=>{let Mn=!1;return(0,Ue.of)(Gt).pipe(function Hs(M,x){return(0,gn.zg)(S=>{const{targetSnapshot:U,guards:{canActivateChecks:q}}=S;if(!q.length)return(0,Ue.of)(S);let ae=0;return(0,re.D)(q).pipe((0,pn.b)(Ne=>function Er(M,x,S,U){return function _u(M,x,S,U){const q=tl(M);if(0===q.length)return(0,Ue.of)({});const ae={};return(0,re.D)(q).pipe((0,gn.zg)(Ne=>function Na(M,x,S,U){const q=En(M,x,U);return Dn(q.resolve?q.resolve(x,S):q(x,S))}(M[Ne],x,S,U).pipe((0,dn.b)(Le=>{ae[Ne]=Le}))),he(1),(0,gn.zg)(()=>tl(ae).length===q.length?(0,Ue.of)(ae):fe.E))}(M._resolve,M,x,U).pipe((0,Te.U)(ae=>(M._resolvedData=ae,M.data=Object.assign(Object.assign({},M.data),yn(M,S).resolve),null)))}(Ne.route,U,M,x)),(0,dn.b)(()=>ae++),he(1),(0,gn.zg)(Ne=>ae===q.length?(0,Ue.of)(S):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dn.b)({next:()=>Mn=!0,complete:()=>{Mn||(this.restoreHistory(Gt),this.cancelNavigationTransition(Gt,"At least one route resolver didn't emit any value."))}}))}),(0,dn.b)(Gt=>{const Mn=new Se(Gt.id,this.serializeUrl(Gt.extractedUrl),this.serializeUrl(Gt.urlAfterRedirects),Gt.targetSnapshot);this.triggerEvent(Mn)}))}),vu(Le=>{const{targetSnapshot:Gt,id:Mn,extractedUrl:Yr,rawUrl:cn,extras:{skipLocationChange:Kr,replaceUrl:si}}=Le;return this.hooks.afterPreactivation(Gt,{navigationId:Mn,appliedUrlTree:Yr,rawUrlTree:cn,skipLocationChange:!!Kr,replaceUrl:!!si})}),(0,Te.U)(Le=>{const Gt=function vt(M,x,S){const U=Ht(M,x._root,S?S._root:void 0);return new ct(U,x)}(this.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return Object.assign(Object.assign({},Le),{targetRouterState:Gt})}),(0,dn.b)(Le=>{this.currentUrlTree=Le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),this.routerState=Le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Le),this.browserUrlTree=Le.urlAfterRedirects)}),((M,x,S)=>(0,Te.U)(U=>(new Ns(x,U.targetRouterState,U.currentRouterState,S).activate(M),U)))(this.rootContexts,this.routeReuseStrategy,Le=>this.triggerEvent(Le)),(0,dn.b)({next(){ae=!0},complete(){ae=!0}}),function qe(M){return x=>x.lift(new at(M))}(()=>{var Le;ae||Ne||this.cancelNavigationTransition(q,`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Le=this.currentNavigation)||void 0===Le?void 0:Le.id)===q.id&&(this.currentNavigation=null)}),Mt(Le=>{if(Ne=!0,function tt(M){return M&&M[Me]}(Le)){const Gt=hi(Le.url);Gt||(this.navigated=!0,this.restoreHistory(q,!0));const Mn=new ur(q.id,this.serializeUrl(q.extractedUrl),Le.message);U.next(Mn),Gt?setTimeout(()=>{const Yr=this.urlHandlingStrategy.merge(Le.url,this.rawUrlTree),cn={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vl(q.source)};this.scheduleNavigation(Yr,"imperative",null,cn,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const Gt=new ar(q.id,this.serializeUrl(q.extractedUrl),Le);U.next(Gt);try{q.resolve(this.errorHandler(Le))}catch(Mn){q.reject(Mn)}}return fe.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),S))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const U="popstate"===S.type?"popstate":"hashchange";"popstate"===U&&setTimeout(()=>{var q;const ae={replaceUrl:!0},Ne=(null===(q=S.state)||void 0===q?void 0:q.navigationId)?S.state:null;if(Ne){const Gt=Object.assign({},Ne);delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(ae.state=Gt)}const Le=this.parseUrl(S.url);this.scheduleNavigation(Le,U,Ne,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){de(S),this.config=S.map(Vt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,U={}){const{relativeTo:q,queryParams:ae,fragment:Ne,queryParamsHandling:Le,preserveFragment:Gt}=U,Mn=q||this.routerState.root,Yr=Gt?this.currentUrlTree.fragment:Ne;let cn=null;switch(Le){case"merge":cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=ae||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),function Ur(M,x,S,U,q){if(0===S.length)return xs(x.root,x.root,x.root,U,q);const ae=function ps(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Wi(!0,0,M);let x=0,S=!1;const U=M.reduce((q,ae,Ne)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Le={};return $n(ae.outlets,(Gt,Mn)=>{Le[Mn]="string"==typeof Gt?Gt.split("/"):Gt}),[...q,{outlets:Le}]}if(ae.segmentPath)return[...q,ae.segmentPath]}return"string"!=typeof ae?[...q,ae]:0===Ne?(ae.split("/").forEach((Le,Gt)=>{0==Gt&&"."===Le||(0==Gt&&""===Le?S=!0:".."===Le?x++:""!=Le&&q.push(Le))}),q):[...q,ae]},[]);return new Wi(S,x,U)}(S);if(ae.toRoot())return xs(x.root,x.root,new Jn([],{}),U,q);const Ne=function qi(M,x,S){if(M.isAbsolute)return new Li(x.root,!0,0);if(-1===S.snapshot._lastPathIndex){const ae=S.snapshot._urlSegment;return new Li(ae,ae===x.root,0)}const U=Or(M.commands[0])?0:1;return function ro(M,x,S){let U=M,q=x,ae=S;for(;ae>q;){if(ae-=q,U=U.parent,!U)throw new Error("Invalid number of '../'");q=U.segments.length}return new Li(U,!1,q-ae)}(S.snapshot._urlSegment,S.snapshot._lastPathIndex+U,M.numberOfDoubleDots)}(ae,x,M),Le=Ne.processChildren?es(Ne.segmentGroup,Ne.index,ae.commands):ki(Ne.segmentGroup,Ne.index,ae.commands);return xs(x.root,Ne.segmentGroup,Le,U,q)}(Mn,this.currentUrlTree,S,cn,null!=Yr?Yr:null)}navigateByUrl(S,U={skipLocationChange:!1}){const q=hi(S)?S:this.parseUrl(S),ae=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,U)}navigate(S,U={skipLocationChange:!1}){return function oa(M){for(let x=0;x<M.length;x++){const S=M[x];if(null==S)throw new Error(`The requested path contains ${S} segment at index ${x}`)}}(S),this.navigateByUrl(this.createUrlTree(S,U),U)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let U;try{U=this.urlSerializer.parse(S)}catch(q){U=this.malformedUriErrorHandler(q,this.urlSerializer,S)}return U}isActive(S,U){let q;if(q=!0===U?Object.assign({},ao):!1===U?Object.assign({},ya):U,hi(S))return Ri(this.currentUrlTree,S,q);const ae=this.parseUrl(S);return Ri(this.currentUrlTree,ae,q)}removeEmptyProps(S){return Object.keys(S).reduce((U,q)=>{const ae=S[q];return null!=ae&&(U[q]=ae),U},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new Mr(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,U,q,ae,Ne){var Le,Gt;if(this.disposed)return Promise.resolve(!1);let Mn,Yr,cn;Ne?(Mn=Ne.resolve,Yr=Ne.reject,cn=Ne.promise):cn=new Promise((rr,_s)=>{Mn=rr,Yr=_s});const Kr=++this.navigationId;let si;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),si=q&&q.\u0275routerPageId?q.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(Le=this.browserPageId)&&void 0!==Le?Le:0:(null!==(Gt=this.browserPageId)&&void 0!==Gt?Gt:0)+1):si=0,this.setTransition({id:Kr,targetPageId:si,source:U,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:ae,resolve:Mn,reject:Yr,promise:cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cn.catch(rr=>Promise.reject(rr))}setBrowserUrl(S,U){const q=this.urlSerializer.serialize(S),ae=Object.assign(Object.assign({},U.extras.state),this.generateNgRouterState(U.id,U.targetPageId));this.location.isCurrentPathEqualTo(q)||U.extras.replaceUrl?this.location.replaceState(q,"",ae):this.location.go(q,"",ae)}restoreHistory(S,U=!1){var q,ae;if("computed"===this.canceledNavigationResolution){const Ne=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===Ne?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===Ne&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ne)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,U){const q=new ur(S.id,this.serializeUrl(S.extractedUrl),U);this.triggerEvent(q),S.resolve(!1)}generateNgRouterState(S,U){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:U}:{navigationId:S}}}return M.\u0275fac=function(S){u.$Z()},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();function vl(M){return"imperative"!==M}let _a=(()=>{class M{constructor(S,U,q,ae,Ne){this.router=S,this.route=U,this.tabIndexAttribute=q,this.renderer=ae,this.el=Ne,this.commands=null,this.onChanges=new lt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const U=this.renderer,q=this.el.nativeElement;null!==S?U.setAttribute(q,"tabindex",S):U.removeAttribute(q,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const S={skipLocationChange:Fa(this.skipLocationChange),replaceUrl:Fa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,S),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fa(this.preserveFragment)})}}return M.\u0275fac=function(S){return new(S||M)(u.Y36(ss),u.Y36(xt),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},M.\u0275dir=u.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,U){1&S&&u.NdJ("click",function(){return U.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),M})(),lo=(()=>{class M{constructor(S,U,q){this.router=S,this.route=U,this.locationStrategy=q,this.commands=null,this.href=null,this.onChanges=new lt.xQ,this.subscription=S.events.subscribe(ae=>{ae instanceof Mr&&this.updateTargetUrlAndHref()})}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,U,q,ae,Ne){if(0!==S||U||q||ae||Ne||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Le={skipLocationChange:Fa(this.skipLocationChange),replaceUrl:Fa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Le),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fa(this.preserveFragment)})}}return M.\u0275fac=function(S){return new(S||M)(u.Y36(ss),u.Y36(xt),u.Y36(Gn.S$))},M.\u0275dir=u.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,U){1&S&&u.NdJ("click",function(ae){return U.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&S&&u.uIk("target",U.target)("href",U.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),M})();function Fa(M){return""===M||!!M}class aa{}class br{preload(x,S){return S().pipe(Mt(()=>(0,Ue.of)(null)))}}class la{preload(x,S){return(0,Ue.of)(null)}}let La=(()=>{class M{constructor(S,U,q,ae){this.router=S,this.injector=q,this.preloadingStrategy=ae,this.loader=new oo(q,U,Gt=>S.triggerEvent(new Yt(Gt)),Gt=>S.triggerEvent(new Rt(Gt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ye.h)(S=>S instanceof Mr),(0,pn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const S=this.injector.get(u.h0i);return this.processRoutes(S,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,U){const q=[];for(const ae of U)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const Ne=ae._loadedConfig;q.push(this.processRoutes(Ne.module,Ne.routes))}else ae.loadChildren&&!ae.canLoad?q.push(this.preloadConfig(S,ae)):ae.children&&q.push(this.processRoutes(S,ae.children));return(0,re.D)(q).pipe((0,jr.J)(),(0,Te.U)(ae=>{}))}preloadConfig(S,U){return this.preloadingStrategy.preload(U,()=>(U._loadedConfig?(0,Ue.of)(U._loadedConfig):this.loader.load(S.injector,U)).pipe((0,gn.zg)(ae=>(U._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return M.\u0275fac=function(S){return new(S||M)(u.LFG(ss),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(aa))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})(),vo=(()=>{class M{constructor(S,U,q={}){this.router=S,this.viewportScroller=U,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof tn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Mr&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof xn&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,U){this.router.triggerEvent(new xn(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(S){u.$Z()},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();const fi=new u.OlP("ROUTER_CONFIGURATION"),Ps=new u.OlP("ROUTER_FORROOT_GUARD"),Da=[Gn.Ye,{provide:kr,useClass:Lr},{provide:ss,useFactory:function un(M,x,S,U,q,ae,Ne={},Le,Gt){const Mn=new ss(null,M,x,S,U,q,on(ae));return Le&&(Mn.urlHandlingStrategy=Le),Gt&&(Mn.routeReuseStrategy=Gt),function Hi(M,x){M.errorHandler&&(x.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(x.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(x.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(x.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(x.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(x.canceledNavigationResolution=M.canceledNavigationResolution)}(Ne,Mn),Ne.enableTracing&&Mn.events.subscribe(Yr=>{var cn,Kr;null===(cn=console.group)||void 0===cn||cn.call(console,`Router Event: ${Yr.constructor.name}`),console.log(Yr.toString()),console.log(Yr),null===(Kr=console.groupEnd)||void 0===Kr||Kr.call(console)}),Mn},deps:[kr,Tr,Gn.Ye,u.zs3,u.Sil,ia,fi,[class Rs{},new u.FiY],[Fi,new u.FiY]]},Tr,{provide:xt,useFactory:function Gs(M){return M.routerState.root},deps:[ss]},La,la,br,{provide:fi,useValue:{enableTracing:!1}}];function Js(){return new u.PXZ("Router",ss)}let ws=(()=>{class M{constructor(S,U){}static forRoot(S,U){return{ngModule:M,providers:[Da,ca(S),{provide:Ps,useFactory:El,deps:[[ss,new u.FiY,new u.tp0]]},{provide:fi,useValue:U||{}},{provide:Gn.S$,useFactory:Ko,deps:[Gn.lw,[new u.tBr(Gn.mr),new u.FiY],fi]},{provide:vo,useFactory:ua,deps:[ss,Gn.EM,fi]},{provide:aa,useExisting:U&&U.preloadingStrategy?U.preloadingStrategy:la},{provide:u.PXZ,multi:!0,useFactory:Js},[Is,{provide:u.ip1,multi:!0,useFactory:Ln,deps:[Is]},{provide:Ta,useFactory:gr,deps:[Is]},{provide:u.tb,multi:!0,useExisting:Ta}]]}}static forChild(S){return{ngModule:M,providers:[ca(S)]}}}return M.\u0275fac=function(S){return new(S||M)(u.LFG(Ps,8),u.LFG(ss,8))},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({}),M})();function ua(M,x,S){return S.scrollOffset&&x.setOffset(S.scrollOffset),new vo(M,x,S)}function Ko(M,x,S={}){return S.useHash?new Gn.Do(M,x):new Gn.b0(M,x)}function El(M){return"guarded"}function ca(M){return[{provide:u.deG,multi:!0,useValue:M},{provide:ia,multi:!0,useValue:M}]}let Is=(()=>{class M{constructor(S){this.injector=S,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.xQ}appInitializer(){return this.injector.get(Gn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let U=null;const q=new Promise(Le=>U=Le),ae=this.injector.get(ss),Ne=this.injector.get(fi);return"disabled"===Ne.initialNavigation?(ae.setUpLocationChangeListener(),U(!0)):"enabled"===Ne.initialNavigation||"enabledBlocking"===Ne.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,U(!0),this.resultOfPreactivationDone),ae.initialNavigation()):U(!0),q})}bootstrapListener(S){const U=this.injector.get(fi),q=this.injector.get(La),ae=this.injector.get(vo),Ne=this.injector.get(ss),Le=this.injector.get(u.z2F);S===Le.components[0]&&(("enabledNonBlocking"===U.initialNavigation||void 0===U.initialNavigation)&&Ne.initialNavigation(),q.setUpPreloading(),ae.init(),Ne.resetRootComponentType(Le.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(S){return new(S||M)(u.LFG(u.zs3))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();function Ln(M){return M.appInitializer.bind(M)}function gr(M){return M.bootstrapListener.bind(M)}const Ta=new u.OlP("Router Initializer")},3942:(nn,dt,B)=>{"use strict";B.d(dt,{Z:()=>Ue});var u=B(2090),te=B(4859),X=B(9681),ze=B(1877);class Be{constructor(Fe,je){this._delegate=Fe,this.firebase=je,(0,X._addComponent)(Fe,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(Fe,je=X._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(Fe);return!we.isInitialized()&&"EXPLICIT"===(null===(gt=we.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&we.initialize(),we.getImmediate({identifier:je})}_removeServiceInstance(Fe,je=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(je)}_addComponent(Fe){(0,X._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,X._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Ie(){const Ee=function De(Ee){const Fe={},je={__esModule:!0,initializeApp:function lt(bt,ye={}){const Oe=X.initializeApp(bt,ye);if((0,u.r3)(Fe,Oe.name))return Fe[Oe.name];const Ae=new Ee(Oe,je);return Fe[Oe.name]=Ae,Ae},app:we,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Mt(bt){const ye=bt.name,Oe=ye.replace("-compat","");if(X._registerComponent(bt)&&"PUBLIC"===bt.type){const Ae=(he=we())=>{if("function"!=typeof he[Oe])throw xe.create("invalid-app-argument",{appName:ye});return he[Oe]()};void 0!==bt.serviceProps&&(0,u.ZB)(Ae,bt.serviceProps),je[Oe]=Ae,Ee.prototype[Oe]=function(...he){return this._getService.bind(this,ye).apply(this,bt.multipleInstances?he:[])}}return"PUBLIC"===bt.type?je[Oe]:null},removeApp:function gt(bt){delete Fe[bt]},useAsService:function Xe(bt,ye){return"serverAuth"===ye?null:ye},modularAPIs:X}};function we(bt){if(!(0,u.r3)(Fe,bt=bt||X._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:bt});return Fe[bt]}return je.default=je,Object.defineProperty(je,"apps",{get:function It(){return Object.keys(Fe).map(bt=>Fe[bt])}}),we.App=Ee,je}(Be);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function Fe(je){(0,u.ZB)(Ee,je)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ee}(),ve=new ze.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=ce;!function Ye(Ee){(0,X.registerVersion)("@firebase/app-compat","0.1.26",Ee)}()},9681:(nn,dt,B)=>{"use strict";B.r(dt),B.d(dt,{FirebaseError:()=>ze.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>_t,_addComponent:()=>Te,_addOrOverwriteComponent:()=>et,_apps:()=>at,_clearComponents:()=>pn,_components:()=>mt,_getProvider:()=>Et,_registerComponent:()=>jt,_removeServiceInstance:()=>en,deleteApp:()=>tn,getApp:()=>Gn,getApps:()=>zn,initializeApp:()=>jr,onLog:()=>ar,registerVersion:()=>ur,setLogLevel:()=>Qn});var u=B(5861),te=B(4859),X=B(1877),ze=B(2090),Be=B(8766);class ue{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function xe(Ge){const ut=Ge.getComponent();return"VERSION"===(null==ut?void 0:ut.type)}(Zt)){const on=Zt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Zt=>Zt).join(" ")}}const De="@firebase/app",ce=new X.Yd("@firebase/app"),_t="[DEFAULT]",qe={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,mt=new Map;function Te(Ge,ut){try{Ge.container.addComponent(ut)}catch(Zt){ce.debug(`Component ${ut.name} failed to register with FirebaseApp ${Ge.name}`,Zt)}}function et(Ge,ut){Ge.container.addOrOverwriteComponent(ut)}function jt(Ge){const ut=Ge.name;if(mt.has(ut))return ce.debug(`There were multiple attempts to register component ${ut}.`),!1;mt.set(ut,Ge);for(const Zt of at.values())Te(Zt,Ge);return!0}function Et(Ge,ut){const Zt=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Zt&&Zt.triggerHeartbeat(),Ge.container.getProvider(ut)}function en(Ge,ut,Zt=_t){Et(Ge,ut).clearInstance(Zt)}function pn(){mt.clear()}const gn=new ze.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class dn{constructor(ut,Zt,on){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Wn="9.8.2";function jr(Ge,ut={}){"object"!=typeof ut&&(ut={name:ut});const Zt=Object.assign({name:_t,automaticDataCollectionEnabled:!1},ut),on=Zt.name;if("string"!=typeof on||!on)throw gn.create("bad-app-name",{appName:String(on)});const vn=at.get(on);if(vn){if((0,ze.vZ)(Ge,vn.options)&&(0,ze.vZ)(Zt,vn.config))return vn;throw gn.create("duplicate-app",{appName:on})}const Pn=new te.H0(on);for(const Dn of mt.values())Pn.addComponent(Dn);const $n=new dn(Ge,Zt,Pn);return at.set(on,$n),$n}function Gn(Ge=_t){const ut=at.get(Ge);if(!ut)throw gn.create("no-app",{appName:Ge});return ut}function zn(){return Array.from(at.values())}function tn(Ge){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(Ge){const ut=Ge.name;at.has(ut)&&(at.delete(ut),yield Promise.all(Ge.container.getProviders().map(Zt=>Zt.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function ur(Ge,ut,Zt){var on;let vn=null!==(on=qe[Ge])&&void 0!==on?on:Ge;Zt&&(vn+=`-${Zt}`);const Pn=vn.match(/\s|\//),$n=ut.match(/\s|\//);if(Pn||$n){const Dn=[`Unable to register library "${vn}" with version "${ut}":`];return Pn&&Dn.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Pn&&$n&&Dn.push("and"),$n&&Dn.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void ce.warn(Dn.join(" "))}jt(new te.wA(`${vn}-version`,()=>({library:vn,version:ut}),"VERSION"))}function ar(Ge,ut){if(null!==Ge&&"function"!=typeof Ge)throw gn.create("invalid-log-argument");(0,X.Am)(Ge,ut)}function Qn(Ge){(0,X.Ub)(Ge)}const Ke="firebase-heartbeat-store";let Se=null;function Yt(){return Se||(Se=(0,Be.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,ut)=>{0===ut&&Ge.createObjectStore(Ke)}}).catch(Ge=>{throw gn.create("storage-open",{originalErrorMessage:Ge.message})})),Se}function qt(){return(qt=(0,u.Z)(function*(Ge){try{return(yield Yt()).transaction(Ke).objectStore(Ke).get(Un(Ge))}catch(ut){throw gn.create("storage-get",{originalErrorMessage:ut.message})}})).apply(this,arguments)}function hn(Ge,ut){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(Ge,ut){try{const on=(yield Yt()).transaction(Ke,"readwrite");return yield on.objectStore(Ke).put(ut,Un(Ge)),on.done}catch(Zt){throw gn.create("storage-set",{originalErrorMessage:Zt.message})}})).apply(this,arguments)}function Un(Ge){return`${Ge.name}!${Ge.options.appId}`}class pr{constructor(ut){this.container=ut,this._heartbeatsCache=null;const Zt=this.container.getProvider("app").getImmediate();this._storage=new We(Zt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var ut=this;return(0,u.Z)(function*(){const on=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=yr();if(null===ut._heartbeatsCache&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==vn&&!ut._heartbeatsCache.heartbeats.some(Pn=>Pn.date===vn))return ut._heartbeatsCache.heartbeats.push({date:vn,agent:on}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(Pn=>{const $n=new Date(Pn.date).valueOf();return Date.now()-$n<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,u.Z)(function*(){if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null===ut._heartbeatsCache||0===ut._heartbeatsCache.heartbeats.length)return"";const Zt=yr(),{heartbeatsToSend:on,unsentEntries:vn}=function Me(Ge,ut=1024){const Zt=[];let on=Ge.slice();for(const vn of Ge){const Pn=Zt.find($n=>$n.agent===vn.agent);if(Pn){if(Pn.dates.push(vn.date),tt(Zt)>ut){Pn.dates.pop();break}}else if(Zt.push({agent:vn.agent,dates:[vn.date]}),tt(Zt)>ut){Zt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Zt,unsentEntries:on}}(ut._heartbeatsCache.heartbeats),Pn=(0,ze.L)(JSON.stringify({version:2,heartbeats:on}));return ut._heartbeatsCache.lastSentHeartbeatDate=Zt,vn.length>0?(ut._heartbeatsCache.heartbeats=vn,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),Pn})()}}function yr(){return(new Date).toISOString().substring(0,10)}class We{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ze.hl)()&&(0,ze.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,u.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function Rt(Ge){return qt.apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var Zt=this;return(0,u.Z)(function*(){var on;if(yield Zt._canUseIndexedDBPromise){const Pn=yield Zt.read();return hn(Zt.app,{lastSentHeartbeatDate:null!==(on=ut.lastSentHeartbeatDate)&&void 0!==on?on:Pn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var Zt=this;return(0,u.Z)(function*(){var on;if(yield Zt._canUseIndexedDBPromise){const Pn=yield Zt.read();return hn(Zt.app,{lastSentHeartbeatDate:null!==(on=ut.lastSentHeartbeatDate)&&void 0!==on?on:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...ut.heartbeats]})}})()}}function tt(Ge){return(0,ze.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Nt(Ge){jt(new te.wA("platform-logger",ut=>new ue(ut),"PRIVATE")),jt(new te.wA("heartbeat",ut=>new pr(ut),"PRIVATE")),ur(De,"0.7.25",Ge),ur(De,"0.7.25","esm2017"),ur("fire-js","")}("")},4859:(nn,dt,B)=>{"use strict";B.d(dt,{wA:()=>X,H0:()=>De,zt:()=>Be});var u=B(5861),te=B(2090);class X{constructor(ce,ve,re){this.name=ce,this.instanceFactory=ve,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const ze="[DEFAULT]";class Be{constructor(ce,ve){this.name=ce,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const ve=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(ve)){const re=new te.BH;if(this.instancesDeferred.set(ve,re),this.isInitialized(ve)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:ve});fe&&re.resolve(fe)}catch(fe){}}return this.instancesDeferred.get(ve).promise}getImmediate(ce){var ve;const re=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),fe=null!==(ve=null==ce?void 0:ce.optional)&&void 0!==ve&&ve;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ye){if(fe)return null;throw Ye}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function xe(Ie){return"EAGER"===Ie.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:ze})}catch(ve){}for(const[ve,re]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(ve);try{const Ye=this.getOrInitializeService({instanceIdentifier:fe});re.resolve(Ye)}catch(Ye){}}}}clearInstance(ce=ze){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,u.Z)(function*(){const ve=Array.from(ce.instances.values());yield Promise.all([...ve.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...ve.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=ze){return this.instances.has(ce)}getOptions(ce=ze){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:ve={}}=ce,re=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:re,options:ve});for(const[Ye,Ue]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ye)&&Ue.resolve(fe);return fe}onInit(ce,ve){var re;const fe=this.normalizeInstanceIdentifier(ve),Ye=null!==(re=this.onInitCallbacks.get(fe))&&void 0!==re?re:new Set;Ye.add(ce),this.onInitCallbacks.set(fe,Ye);const Ue=this.instances.get(fe);return Ue&&ce(Ue,fe),()=>{Ye.delete(ce)}}invokeOnInitCallbacks(ce,ve){const re=this.onInitCallbacks.get(ve);if(re)for(const fe of re)try{fe(ce,ve)}catch(Ye){}}getOrInitializeService({instanceIdentifier:ce,options:ve={}}){let re=this.instances.get(ce);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ce,Ie===ze?void 0:Ie),options:ve}),this.instances.set(ce,re),this.instancesOptions.set(ce,ve),this.invokeOnInitCallbacks(re,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,re)}catch(fe){}var Ie;return re||null}normalizeInstanceIdentifier(ce=ze){return this.component?this.component.multipleInstances?ce:ze:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const ve=this.getProvider(ce.name);if(ve.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);ve.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const ve=new Be(ce,this);return this.providers.set(ce,ve),ve}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,dt,B)=>{"use strict";B.d(dt,{in:()=>te,Yd:()=>xe,Ub:()=>De,Am:()=>Ie});const u=[];var te=(()=>{return(ce=te||(te={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",te;var ce})();const X={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ze=te.INFO,Be={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ue=(ce,ve,...re)=>{if(ve<ce.logLevel)return;const fe=(new Date).toISOString(),Ye=Be[ve];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[Ye](`[${fe}]  ${ce.name}:`,...re)};class xe{constructor(ve){this.name=ve,this._logLevel=ze,this._logHandler=ue,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in te))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?X[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ve),this._logHandler(this,te.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ve),this._logHandler(this,te.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ve),this._logHandler(this,te.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ve),this._logHandler(this,te.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ve),this._logHandler(this,te.ERROR,...ve)}}function De(ce){u.forEach(ve=>{ve.setLogLevel(ce)})}function Ie(ce,ve){for(const re of u){let fe=null;ve&&ve.level&&(fe=X[ve.level]),re.userLogHandler=null===ce?null:(Ye,Ue,...Ee)=>{const Fe=Ee.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(gt){return null}}).filter(je=>je).join(" ");Ue>=(null!=fe?fe:Ye.logLevel)&&ce({level:te[Ue].toLowerCase(),message:Fe,args:Ee,type:Ye.name})}}}},8766:(nn,dt,B)=>{"use strict";B.d(dt,{Lj:()=>lt,X3:()=>we});var u=B(5861);let X,ze;const xe=new WeakMap,De=new WeakMap,Ie=new WeakMap,ce=new WeakMap,ve=new WeakMap;let Ye={get(ye,Oe,Ae){if(ye instanceof IDBTransaction){if("done"===Oe)return De.get(ye);if("objectStoreNames"===Oe)return ye.objectStoreNames||Ie.get(ye);if("store"===Oe)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return je(ye[Oe])},set:(ye,Oe,Ae)=>(ye[Oe]=Ae,!0),has:(ye,Oe)=>ye instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in ye};function Fe(ye){return"function"==typeof ye?function Ee(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return ze||(ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...Oe){return ye.apply(gt(this),Oe),je(xe.get(this))}:function(...Oe){return je(ye.apply(gt(this),Oe))}:function(Oe,...Ae){const he=ye.call(gt(this),Oe,...Ae);return Ie.set(he,Oe.sort?Oe.sort():[Oe]),je(he)}}(ye):(ye instanceof IDBTransaction&&function fe(ye){if(De.has(ye))return;const Oe=new Promise((Ae,he)=>{const _e=()=>{ye.removeEventListener("complete",He),ye.removeEventListener("error",Je),ye.removeEventListener("abort",Je)},He=()=>{Ae(),_e()},Je=()=>{he(ye.error||new DOMException("AbortError","AbortError")),_e()};ye.addEventListener("complete",He),ye.addEventListener("error",Je),ye.addEventListener("abort",Je)});De.set(ye,Oe)}(ye),((ye,Oe)=>Oe.some(Ae=>ye instanceof Ae))(ye,function Be(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Ye):ye)}function je(ye){if(ye instanceof IDBRequest)return function re(ye){const Oe=new Promise((Ae,he)=>{const _e=()=>{ye.removeEventListener("success",He),ye.removeEventListener("error",Je)},He=()=>{Ae(je(ye.result)),_e()},Je=()=>{he(ye.error),_e()};ye.addEventListener("success",He),ye.addEventListener("error",Je)});return Oe.then(Ae=>{Ae instanceof IDBCursor&&xe.set(Ae,ye)}).catch(()=>{}),ve.set(Oe,ye),Oe}(ye);if(ce.has(ye))return ce.get(ye);const Oe=Fe(ye);return Oe!==ye&&(ce.set(ye,Oe),ve.set(Oe,ye)),Oe}const gt=ye=>ve.get(ye);function we(ye,Oe,{blocked:Ae,upgrade:he,blocking:_e,terminated:He}={}){const Je=indexedDB.open(ye,Oe),St=je(Je);return he&&Je.addEventListener("upgradeneeded",Wt=>{he(je(Je.result),Wt.oldVersion,Wt.newVersion,je(Je.transaction))}),Ae&&Je.addEventListener("blocked",()=>Ae()),St.then(Wt=>{He&&Wt.addEventListener("close",()=>He()),_e&&Wt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),St}function lt(ye,{blocked:Oe}={}){const Ae=indexedDB.deleteDatabase(ye);return Oe&&Ae.addEventListener("blocked",()=>Oe()),je(Ae).then(()=>{})}const It=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Xe=new Map;function bt(ye,Oe){if(!(ye instanceof IDBDatabase)||Oe in ye||"string"!=typeof Oe)return;if(Xe.get(Oe))return Xe.get(Oe);const Ae=Oe.replace(/FromIndex$/,""),he=Oe!==Ae,_e=Mt.includes(Ae);if(!(Ae in(he?IDBIndex:IDBObjectStore).prototype)||!_e&&!It.includes(Ae))return;const He=function(){var Je=(0,u.Z)(function*(St,...Wt){const pt=this.transaction(St,_e?"readwrite":"readonly");let _t=pt.store;return he&&(_t=_t.index(Wt.shift())),(yield Promise.all([_t[Ae](...Wt),_e&&pt.done]))[0]});return function(Wt){return Je.apply(this,arguments)}}();return Xe.set(Oe,He),He}!function Ue(ye){Ye=ye(Ye)}(ye=>UE(VE({},ye),{get:(Oe,Ae,he)=>bt(Oe,Ae)||ye.get(Oe,Ae,he),has:(Oe,Ae)=>!!bt(Oe,Ae)||ye.has(Oe,Ae)}))},5861:(nn,dt,B)=>{"use strict";function u(X,ze,Be,ue,xe,De,Ie){try{var ce=X[De](Ie),ve=ce.value}catch(re){return void Be(re)}ce.done?ze(ve):Promise.resolve(ve).then(ue,xe)}function te(X){return function(){var ze=this,Be=arguments;return new Promise(function(ue,xe){var De=X.apply(ze,Be);function Ie(ve){u(De,ue,xe,Ie,ce,"next",ve)}function ce(ve){u(De,ue,xe,Ie,ce,"throw",ve)}Ie(void 0)})}}B.d(dt,{Z:()=>te})}},nn=>{nn(nn.s=1988)}]);